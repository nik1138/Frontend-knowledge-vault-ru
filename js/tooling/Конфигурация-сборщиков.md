---
aliases: [Конфигурация сборщиков, настройка сборщиков, сборщики, build tools configuration]
tags: [javascript, tooling, bundler, configuration, build-tools, webpack, vite, rollup]
---

# Конфигурация сборщиков

## Общее описание

Конфигурация сборщиков - это процесс настройки инструментов, которые объединяют, оптимизируют и трансформируют исходный код приложения в готовый для использования в браузере формат. На 2025 год в российской экосистеме разработки JavaScript преобладают следующие сборщики: [[Webpack]], [[Vite]], [[Rollup]] и [[Parcel]].

## Основные компоненты конфигурации

### Entry Points (точки входа)

Определяют начальные файлы для сборки:

```javascript
// webpack.config.js
module.exports = {
  entry: './src/index.js',
  // или
  entry: {
    main: './src/main.js',
    vendor: './src/vendor.js'
  }
};
```

```javascript
// vite.config.js
export default {
  build: {
    rollupOptions: {
      input: {
        main: './index.html',
        nested: './nested/index.html'
      }
    }
  }
};
```

### Output (вывод)

Настройка результата сборки:

```javascript
// webpack
output: {
  filename: '[name].[contenthash].js',
  path: path.resolve(__dirname, 'dist'),
  clean: true
}
```

```javascript
// rollup
output: {
  file: 'dist/bundle.js',
  format: 'iife',
  sourcemap: true
}
```

### Loaders и Plugins

**Loaders** (в Webpack) - обрабатывают файлы перед включением в бандл:

```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader'
        }
      },
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader']
      }
    ]
  }
};
```

**Plugins** - расширяют функциональность сборщика:

```javascript
const HtmlWebpackPlugin = require('html-webpack-plugin');
const MiniCssExtractPlugin = require('mini-css-extract-plugin');

module.exports = {
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html'
    }),
    new MiniCssExtractPlugin({
      filename: '[name].[contenthash].css'
    })
  ]
};
```

## Современные подходы к конфигурации (2025)

### 1. Использование ES-модулей в конфигурационных файлах

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  build: {
    outDir: 'dist'
  }
});
```

### 2. Многоуровневая конфигурация

Разделение конфигурации на разные среды:

```javascript
// webpack.common.js
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/index.js',
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html'
    })
  ],
  output: {
    path: path.resolve(__dirname, 'dist'),
    clean: true
  }
};
```

```javascript
// webpack.dev.js
const { merge } = require('webpack-merge');
const common = require('./webpack.common.js');

module.exports = merge(common, {
  mode: 'development',
  devtool: 'inline-source-map',
  devServer: {
    static: './dist',
    hot: true
  }
});
```

```javascript
// webpack.prod.js
const { merge } = require('webpack-merge');
const common = require('./webpack.common.js');

module.exports = merge(common, {
  mode: 'production',
  devtool: 'source-map',
  optimization: {
    minimize: true
  }
});
```

### 3. Zero-configuration подходы

Сборщики вроде Parcel и Vite предлагают минимальную настройку:

```javascript
// vite.config.js (с минимальной конфигурацией)
export default {
  // По умолчанию Vite уже настроен для современной разработки
};
```

## Сравнение конфигураций

### Webpack

- Максимальная гибкость
- Сложная настройка
- Отличная поддержка legacy-проектов
- Хорошо подходит для сложных приложений

```javascript
// Пример сложной конфигурации Webpack
const path = require('path');
const MiniCssExtractPlugin = require('mini-css-extract-plugin');
const TerserPlugin = require('terser-webpack-plugin');

module.exports = {
  mode: 'production',
  entry: './src/index.js',
  output: {
    filename: '[name].[contenthash].js',
    path: path.resolve(__dirname, 'dist'),
    clean: true
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      },
      {
        test: /\.css$/,
        use: [MiniCssExtractPlugin.loader, 'css-loader']
      }
    ]
  },
  plugins: [
    new MiniCssExtractPlugin({
      filename: '[name].[contenthash].css'
    })
  ],
  optimization: {
    minimizer: [new TerserPlugin()],
    splitChunks: {
      chunks: 'all'
    }
  }
};
```

### Vite

- Быстрая разработка с HMR
- Поддержка ES-модулей "из коробки"
- Простая настройка
- Отлично подходит для новых проектов

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          ui: ['@mui/material', '@emotion/react']
        }
      }
    }
  }
});
```

### Rollup

- Лучше всего подходит для библиотек
- Поддержка ES-модулей
- Минимальный размер бандла

```javascript
// rollup.config.js
export default {
  input: 'src/main.js',
  output: {
    dir: 'dist',
    format: 'es'
  },
  plugins: [
    resolve(),
    commonjs()
  ]
};
```

## Практические рекомендации для российского рынка (2025)

### 1. Выбор сборщика по типу проекта

- **Новые SPA**: Vite
- **Сложные legacy-приложения**: Webpack
- **Библиотеки**: Rollup
- **Простые проекты**: Parcel или Vite

### 2. Безопасность в конфигурации

При настройке сборщиков в российских компаниях важно учитывать:

- Ограничения корпоративных сетей
- Политики безопасности
- Требования по защите данных

```javascript
// Пример настройки для корпоративной среды
module.exports = {
  devServer: {
    host: '0.0.0.0', // Для доступа из других устройств в сети
    port: 3000,
    allowedHosts: [
      'localhost',
      '.local', // Разрешить локальные домены
      'company-domain.ru' // Корпоративный домен
    ]
  }
};
```

### 3. Оптимизация для производительности

```javascript
// webpack.config.js
module.exports = {
  optimization: {
    splitChunks: {
      chunks: 'all',
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: 'vendors',
          chunks: 'all',
        }
      }
    },
    runtimeChunk: 'single'
  }
};
```

### 4. Поддержка разных браузеров

```javascript
// babel.config.js
module.exports = {
  presets: [
    ['@babel/preset-env', {
      targets: {
        browsers: ['> 1%', 'last 2 versions', 'not dead']
      },
      useBuiltIns: 'usage',
      corejs: 3
    }]
  ]
};
```

## Миграция между сборщиками

При переходе с одного сборщика на другой важно:

1. Сохранить текущую функциональность
2. Постепенно внедрять новые возможности
3. Тестировать производительность
4. Обучить команду новому инструменту

> [!tip] Совет
> В российских IT-компаниях часто используются гибридные подходы: Webpack для основного приложения и Vite для отдельных компонентов или микросервисов.

## Заключение

Конфигурация сборщиков - это критический аспект современной разработки на JavaScript. Выбор подходящего инструмента и правильная настройка могут значительно повлиять на производительность приложения, скорость разработки и качество кода.

В 2025 году наблюдается тенденция к более простым и быстрым решениям (Vite), но Webpack остается важным инструментом для сложных проектов. Умение настраивать разные сборщики под конкретные задачи - важный навык для frontend-разработчиков в России.