---
aliases: ["ES6 Modules", "Модули ES6", "import/export"]
tags: ["javascript", "modules", "syntax", "frontend", "es6"]
---

# Импорт и экспорт в JavaScript (ES6 Modules)

ES6 Modules (модули ECMAScript 2015) - это стандартный способ организации кода в модули, который был введен в спецификацию JavaScript. Модули позволяют разделять код на отдельные файлы и управлять зависимостями между ними.

## Общее описание

Модули в JavaScript позволяют:

- Разделять код на логические части
- Управлять зависимостями между файлами
- Экспортировать и импортировать функции, объекты и примитивы
- Обеспечивать инкапсуляцию (переменные вне модуля не видны глобально)

> [!note] Примечание
> В 2025 году ES6 модули являются стандартом де-факто для новых проектов в российской разработке, заменив собой AMD и CommonJS в большинстве случаев.

## Синтаксис экспорта

### Named Exports (именованные экспорты)

```javascript
// math.js
export const PI = 3.14159;
export const E = 2.71828;

export function add(a, b) {
    return a + b;
}

export function multiply(a, b) {
    return a * b;
}

// Также можно экспортировать через список в конце файла
const subtract = (a, b) => a - b;
const divide = (a, b) => a / b;

export { subtract, divide };
```

### Default Export (экспорт по умолчанию)

```javascript
// calculator.js
const calculator = {
    add: (a, b) => a + b,
    subtract: (a, b) => a - b,
    multiply: (a, b) => a * b,
    divide: (a, b) => a / b
};

export default calculator;

// Или функция по умолчанию
export default function calculate(operation, a, b) {
    switch(operation) {
        case 'add': return a + b;
        case 'subtract': return a - b;
        case 'multiply': return a * b;
        case 'divide': return b !== 0 ? a / b : NaN;
    }
}
```

### Mixed Exports (смешанные экспорты)

```javascript
// utils.js
// Функция по умолчанию
export default function formatDate(date) {
    return date.toLocaleDateString('ru-RU');
}

// Именованные экспорты
export const russianDateFormat = 'DD.MM.YYYY';
export const getCurrentTime = () => new Date().toLocaleTimeString('ru-RU');
export class RussianDateFormatter {
    format(date) {
        return date.toLocaleDateString('ru-RU');
    }
}
```

## Синтаксис импорта

### Импорт именованных экспортов

```javascript
// main.js
import { add, multiply } from './math.js';
import { subtract as sub, divide as div } from './math.js'; // с переименованием
import * as math from './math.js'; // импорт всего модуля как объекта

console.log(add(2, 3)); // 5
console.log(multiply(4, 5)); // 20
console.log(sub(10, 3)); // 7
console.log(math.PI); // 3.14159
```

### Импорт по умолчанию

```javascript
// main.js
import calculator from './calculator.js';
// или
import calc from './calculator.js';

console.log(calculator.add(5, 3)); // 8
```

### Импорт смешанных экспортов

```javascript
// main.js
import formatDate, { russianDateFormat, getCurrentTime, RussianDateFormatter } from './utils.js';

console.log(formatDate(new Date())); // текущая дата в формате DD.MM.YYYY
console.log(russianDateFormat); // 'DD.MM.YYYY'
console.log(getCurrentTime()); // текущее время
const formatter = new RussianDateFormatter();
```

### Динамический импорт

```javascript
// dynamic.js
async function loadModule() {
    const { add, multiply } = await import('./math.js');
    console.log(add(1, 2)); // 3
}

// Условная загрузка модуля
async function conditionalLoad(featureFlag) {
    if (featureFlag) {
        const module = await import('./feature-module.js');
        module.init();
    }
}

// В российской практике 2025 года динамический импорт часто используется для:
// - Ленивой загрузки (lazy loading) компонентов
// - Условной загрузки в зависимости от региона
// - Оптимизации размера бандла
```

## Практические рекомендации

### Структура файлов

```
project/
├── src/
│   ├── modules/
│   │   ├── api.js
│   │   ├── utils.js
│   │   └── config.js
│   └── main.js
```

### Экспорт конфигурации

```javascript
// config.js
const API_BASE_URL = 'https://api.example.com';
const APP_VERSION = '2.0.0';
const RUSSIAN_LOCALE = 'ru-RU';

export {
    API_BASE_URL,
    APP_VERSION,
    RUSSIAN_LOCALE
};

// Или экспорт объекта конфигурации
export default {
    API_BASE_URL,
    APP_VERSION,
    RUSSIAN_LOCALE
};
```

### Импорт с проверкой

```javascript
// main.js
import config from './config.js';

// В российской разработке 2025 года часто используют валидацию конфигурации
if (!config.API_BASE_URL) {
    throw new Error('API_BASE_URL не определен в конфигурации');
}
```

## Современные особенности в российской практике

### Поддержка старых браузеров

```javascript
// В 2025 году в России все еще требуется поддержка IE11 в государственных проектах
// Используйте сборщики для транспиляции ES6 модулей
```

### Работа с CDN

```javascript
// Импорт из CDN с fallback
let utils;
try {
    utils = await import('https://cdn.example.com/utils.mjs');
} catch (e) {
    utils = await import('./utils-local.js');
}
```

### Импорт JSON

```javascript
// В Node.js 2025 года и современных браузерах
import packageInfo from '../package.json' assert { type: 'json' };

console.log(packageInfo.version);
```

## Паттерны использования

### Barrel Export (экспорт через индексный файл)

```javascript
// index.js
export { default as Calculator } from './Calculator.js';
export { default as DateFormatter } from './DateFormatter.js';
export * from './utils.js';
export { API_BASE_URL, APP_VERSION } from './config.js';
```

```javascript
// main.js
import { Calculator, DateFormatter, API_BASE_URL } from './index.js';
```

### Условный экспорт

```javascript
// feature.js
const isFeatureEnabled = process.env.FEATURE_ENABLED === 'true';

if (isFeatureEnabled) {
    export { advancedFeature };
} else {
    export { basicFeature as advancedFeature };
}
```

## Совместимость с другими системами модулей

### Совместимость с CommonJS

```javascript
// В Node.js 2025 года
import fs from 'fs';
// эквивалентно
const fs = require('fs');
```

### Использование в браузерах

```html
<!-- В браузере ES6 модули должны быть указаны с type="module" -->
<script type="module">
    import { add } from './math.js';
    console.log(add(1, 2));
</script>
```

## Лучшие практики

- Используйте именованные экспорты для нескольких значений
- Используйте экспорт по умолчанию для одного основного экспорта
- Группируйте связанные функции в одном модуле
- Избегайте циклических зависимостей
- Используйте динамический импорт для ленивой загрузки

> [!tip] Совет
> В российской разработке 2025 года часто используется комбинация ES6 модулей с современными сборщиками, такими как [[Vite]], [[Webpack]] или [[Rollup]], для оптимизации производительности и поддержки старых браузеров при необходимости.

## Связь с другими темами

- [[AMD]] - устаревшая асинхронная система модулей
- [[CommonJS]] - серверная система модулей
- [[Управление-зависимостями]] - общие принципы управления зависимостями
- [[ES6 Modules]] - детали стандарта ES6 модулей