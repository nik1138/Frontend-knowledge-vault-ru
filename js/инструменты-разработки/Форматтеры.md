---
aliases: [форматирование кода, js-форматтеры, prettier, beautify, code-formatter]
tags: [javascript, инструменты-разработки, formatting, code-quality, prettier]
---

# Форматтеры

## Введение

Форматтеры кода - это инструменты, которые автоматически приводят код к единому стилю, улучшая его читаемость и согласованность. В 2025 году форматтеры стали неотъемлемой частью современного JavaScript-окружения, особенно в условиях российской разработки, где важна стандартизация процессов и упрощение совместной работы команд.

## Основные форматтеры JavaScript

### Prettier

Prettier - это один из самых популярных форматтеров, который поддерживает не только JavaScript, но и TypeScript, Flow, JSX, JSON, HTML, CSS, SCSS, Less, и другие языки. Его ключевая особенность - "мнение" по умолчанию, что означает минимальную настройку и консистентный результат.

#### Установка Prettier

```bash
npm install --save-dev --save-exact prettier
```

#### Пример конфигурации (.prettierrc)

```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "arrowParens": "avoid"
}
```

#### Пример ignore файла (.prettierignore)

```
node_modules
dist
build
coverage
*.min.js
```

> [!tip] Совет
> В российских компаниях часто используются стандартные конфигурации Prettier, согласованные на уровне всей организации, чтобы обеспечить единообразие кода во всех проектах.

### beautify

JSBeautifier - один из первых инструментов форматирования, который поддерживает JavaScript, HTML и CSS. Хотя он менее популярен в 2025 году по сравнению с Prettier, все еще используется в некоторых устоявшихся проектах.

## Интеграция с IDE

### VS Code

Для VS Code доступно официальное расширение Prettier:

```json
// settings.json для VS Code
{
    "editor.defaultFormatter": "esbenp.prettier-vscode",
    "editor.formatOnSave": true,
    "editor.formatOnPaste": true,
    "[javascript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[typescript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    }
}
```

### WebStorm/IntelliJ IDEA

WebStorm имеет встроенную поддержку Prettier и может быть настроен для автоматического форматирования при сохранении файлов.

## Практическое использование

### Команды CLI

```bash
# Форматировать все JS файлы
npx prettier --write "**/*.js"

# Проверить форматирование без изменений
npx prettier --check "**/*.js"

# Форматировать с определенной конфигурацией
npx prettier --config .prettierrc --write "src/**/*.js"
```

### Интеграция с линтерами

Prettier часто используется вместе с ESLint через специальный плагин:

```bash
npm install --save-dev eslint-config-prettier eslint-plugin-prettier
```

```javascript
// .eslintrc.js
module.exports = {
    extends: [
        'eslint:recommended',
        'plugin:prettier/recommended'  // Должен быть последним в списке
    ],
    plugins: ['prettier'],
    rules: {
        'prettier/prettier': 'error'
    }
};
```

## Популярные конфигурации

### Для React-проектов

```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "jsxBracketSameLine": false,
  "arrowParens": "avoid"
}
```

### Для Node.js проектов

```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 100,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "arrowParens": "avoid"
}
```

## Лучшие практики использования форматтеров

### 1. Интеграция в процесс сборки

```json
// package.json
{
    "scripts": {
        "format": "prettier --write .",
        "format:check": "prettier --check .",
        "pre-commit": "lint-staged"
    },
    "lint-staged": {
        "*.{js,jsx,ts,tsx,css,md}": [
            "prettier --write",
            "git add"
        ]
    }
}
```

### 2. Использование pre-commit хуков

```bash
npm install --save-dev husky lint-staged
```

```json
// package.json
{
    "husky": {
        "hooks": {
            "pre-commit": "lint-staged"
        }
    },
    "lint-staged": {
        "*.{js,jsx,ts,tsx}": ["prettier --write", "eslint --fix"]
    }
}
```

### 3. Интеграция с CI/CD

```yaml
# GitHub Actions
name: Format Check
on: [push, pull_request]
jobs:
  format:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '18'
    - run: npm ci
    - run: npx prettier --check .
```

## Особенности российской разработки

В 2025 году в российской JavaScript-разработке форматтеры играют важную роль:

1. **Стандартизация кода** - особенно важна в крупных компаниях с распределенными командами
2. **Снижение когнитивной нагрузки** - при чтении кода других разработчиков
3. **Упрощение ревью кода** - фокус на логике, а не на стиле
4. **Интеграция с внутренними системами** - для соблюдения корпоративных стандартов

## Сравнение форматтеров

| Форматтер | Языки | Гибкость | Интеграция | Особенности |
|-----------|-------|----------|------------|-------------|
| Prettier | Много | Низкая | Отличная | "Zero config" подход |
| beautify | Основно JS | Высокая | Хорошая | Много настроек |
| dprint | TypeScript, JS | Высокая | Хорошая | Высокая производительность |

## Автоматизация форматирования

### В Git hooks

```bash
#!/bin/sh
# .husky/pre-commit
npx lint-staged
```

### В редакторе

Настройка автоматического форматирования при сохранении файла:

```json
// VS Code settings.json
{
    "editor.formatOnSave": true,
    "editor.formatOnPaste": true,
    "[javascript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    }
}
```

## Рекомендации по настройке

### Для командной разработки

1. **Единая конфигурация** для всех проектов компании
2. **Документирование стиля** в README проекта
3. **Интеграция с CI** для проверки форматирования
4. **Обучение команды** работе с форматтером

### Для личных проектов

1. **Выбор популярной конфигурации** (например, Airbnb + Prettier)
2. **Автоматизация** через pre-commit хуки
3. **Интеграция с редактором** для удобства

## Связанные темы

- [[Линтеры]]
- [[Современные-практики-JavaScript-разработки-в-России-2025]]
- [[Работа-в-команде]]
- [[Конфигурация-JavaScript-проекта]]

## Заключение

Форматтеры кода, особенно Prettier, стали важным инструментом в современной JavaScript-разработке. В условиях российской реальности 2025 года они помогают командам поддерживать единообразие кода, экономить время на ревью и сосредоточиться на логике приложения, а не на его оформлении. Рекомендуется использовать Prettier с минимальной настройкой и интегрировать его в процесс разработки для автоматического форматирования кода.