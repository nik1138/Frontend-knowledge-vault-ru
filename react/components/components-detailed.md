---
aliases: ["React Компоненты", "Компоненты React", "React Компонентная Архитектура"]
tags: 
  - #react
  - #components
  - #frontend
  - #javascript
  - #web-development
---

# Подробное руководство по React-компонентам

React-компоненты - это основные строительные блоки приложений React, которые позволяют разбивать пользовательский интерфейс на независимые и повторно используемые части. Компоненты позволяют сосредоточиться на отдельных частях приложения, не влияя на остальную часть системы.

## Что такое React-компоненты

React-компонент - это функция или класс, который принимает входные данные (props) и возвращает элемент React, описывающий, как должна выглядеть часть пользовательского интерфейса. Компоненты позволяют разделить UI на изолированные части, каждая из которых может быть рассмотрена отдельно.

> [!note] Заметка
> Компоненты могут быть вложенными друг в друга, что позволяет создавать сложные интерфейсы из простых строительных блоков.

## Функциональные и классовые компоненты

### Функциональные компоненты

Функциональные компоненты - это чистые JavaScript-функции, которые принимают props и возвращают JSX. С появлением хуков в React 16.8 функциональные компоненты стали более мощными и могут использовать состояние и жизненный цикл.

```jsx
function Welcome(props) {
  return <h1>Привет, {props.name}</h1>;
}
```

### Классовые компоненты

Классовые компоненты используют ES6-классы и имеют больше возможностей, включая методы жизненного цикла и внутреннее состояние.

```jsx
class Welcome extends React.Component {
  render() {
    return <h1>Привет, {this.props.name}</h1>;
  }
}
```

### Сравнение

| Характеристика | Функциональные компоненты | Классовые компоненты |
|----------------|---------------------------|----------------------|
| Синтаксис | Простой и чистый | Более многословный |
| Состояние | Используют хуки (useState) | this.state |
| Жизненный цикл | Используют хуки (useEffect) | Методы жизненного цикла |
| Производительность | Обычно быстрее | Немного медленнее |
| Тестирование | Проще тестировать | Требует больше настроек |

## Жизненный цикл компонентов

Жизненный цикл компонента описывает его существование от создания до уничтожения. В функциональных компонентах это реализуется через хуки.

### Фазы жизненного цикла

1. **Монтирование** - создание и вставка компонента в DOM
2. **Обновление** - обновление компонента при изменении props или state
3. **Размонтирование** - удаление компонента из DOM

В классовых компонентах есть специальные методы для каждой фазы: `componentDidMount`, `componentDidUpdate`, `componentWillUnmount`.

## Управление props и state

Props (свойства) - это входные данные, передаваемые компоненту от родителя. State - это внутренние данные компонента, которые могут изменяться.

```jsx
function Counter() {
  const [count, setCount] = useState(0);
  
  return (
    <div>
      <p>Счетчик: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        Увеличить
      </button>
    </div>
  );
}
```

## Паттерны компонентной композиции

### Композиция через children

```jsx
function Dialog(props) {
  return (
    <div className="dialog">
      {props.children}
    </div>
  );
}
```

### Композиция через props

```jsx
function Page(props) {
  return (
    <div>
      <Header title={props.header} />
      <Content content={props.content} />
      <Footer footer={props.footer} />
    </div>
  );
}
```

## Архитектура компонентов

Хорошая архитектура компонентов включает разделение на:
- **Презентационные компоненты** - отвечают за визуальное отображение
- **Контейнерные компоненты** - управляют логикой и состоянием
- **Утилитарные компоненты** - переиспользуемые элементы интерфейса

## Повторно используемые компоненты

Повторно используемые компоненты должны быть:
- Независимыми
- Тестируемыми
- Документированными
- Адаптируемыми под разные сценарии использования

## Библиотеки компонентов

Популярные библиотеки компонентов:
- Material-UI
- Ant Design
- Chakra UI
- Bootstrap React

## Паттерны высокого уровня

### HOC (Higher-Order Components)

Функции, которые принимают компонент и возвращают новый компонент с дополнительной функциональностью.

```jsx
function withAuth(WrappedComponent) {
  return function AuthenticatedComponent(props) {
    // Логика аутентификации
    return <WrappedComponent {...props} />;
  };
}
```

### Render Props

Паттерн, позволяющий делиться кодом между компонентами с помощью функции в props.

```jsx
class DataProvider extends React.Component {
  state = { data: null };
  
  render() {
    return this.props.render(this.state.data);
  }
}
```

### Составные компоненты

Компоненты, которые работают вместе как единое целое, например, `Select` и `Option`.

```jsx
<Select>
  <Select.Option value="1">Опция 1</Select.Option>
  <Select.Option value="2">Опция 2</Select.Option>
</Select>
```

## Лучшие практики

1. **Именование компонентов** - использовать PascalCase
2. **Файловая структура** - организовывать компоненты по функциональности
3. **Пропсы** - использовать PropTypes для проверки типов
4. **Хуки** - следовать правилам хуков
5. **Производительность** - использовать React.memo и useMemo при необходимости

## Тестирование компонентов

Для тестирования React-компонентов используются:
- Jest
- React Testing Library
- Enzyme

```jsx
import { render, screen } from '@testing-library/react';
import Button from './Button';

test('отображает текст кнопки', () => {
  render(<Button>Нажми меня</Button>);
  expect(screen.getByText('Нажми меня')).toBeInTheDocument();
});
```

## Документирование компонентов

Компоненты должны быть задокументированы с помощью:
- JSDoc для функций
- Комментариев для сложной логики
- Сторибуков для визуализации компонентов

## Связи с другими файлами

- [[react/hooks/hooks-detailed]] - подробное руководство по хукам React
- [[react/state-management/state-management]] - управление состоянием в React
- [[react/testing/testing-methods]] - методы тестирования React-приложений
- [[architecture/component-architecture]] - архитектура компонентов в приложениях
- [[react/performance/performance-optimization]] - оптимизация производительности компонентов