---
aliases: [Pure Functions, Чистые функции, Чистая функция]
tags: [programming, functional-programming, javascript, frontend, testing]
---

# Чистые функции

## Определение

**Чистая функция** — это функция, которая при вызове с одинаковыми аргументами всегда возвращает одинаковый результат и не вызывает никаких наблюдаемых побочных эффектов. Это ключевое понятие функционального программирования.

### Свойства чистой функции

1. **Детерминированность**: при одинаковых входных данных функция всегда возвращает одинаковый результат
2. **Отсутствие побочных эффектов**: функция не изменяет внешнее состояние
3. **Независимость от внешнего состояния**: не использует переменные из внешней области видимости, значения которых могут изменяться

## Примеры

### Чистая функция
```javascript
// Чистая функция
const add = (a, b) => a + b;

// Результат всегда одинаков для одинаковых аргументов
console.log(add(2, 3)); // 5
console.log(add(2, 3)); // 5
```

### Нечистая функция
```javascript
// Нечистая функция - зависит от внешнего состояния
let multiplier = 2;
const multiplyByGlobal = (x) => x * multiplier;

// Результат может измениться при изменении внешнего состояния
console.log(multiplyByGlobal(5)); // 10
multiplier = 3;
console.log(multiplyByGlobal(5)); // 15

// Нечистая функция - вызывает побочный эффект
const logAndReturn = (value) => {
  console.log(value); // побочный эффект - вывод в консоль
  return value;
};
```

## Преимущества чистых функций

- **Предсказуемость**: результат всегда одинаков для одинаковых входных данных
- **Тестируемость**: легко тестировать, так как не нужно учитывать внешнее состояние
- **Кэширование**: можно кэшировать результаты (мемоизация)
- **Параллелизм**: безопасно для многопоточного выполнения
- **Повторное использование**: легко использовать в разных частях приложения
- **Документирование**: поведение функции очевидно из её сигнатуры

## Практическое применение в фронтенд-разработке

### 1. Обработка данных
```javascript
// Чистая функция для обработки данных пользователя
const formatUserData = (userData) => ({
  id: userData.id,
  fullName: `${userData.firstName} ${userData.lastName}`,
  email: userData.email.toLowerCase(),
  age: new Date().getFullYear() - new Date(userData.birthDate).getFullYear()
});
```

### 2. Валидация
```javascript
// Чистая функция валидации
const validateEmail = (email) => {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
};
```

### 3. Трансформация данных
```javascript
// Чистая функция для фильтрации списка
const filterByStatus = (items, status) => 
  items.filter(item => item.status === status);
```

## Практические рекомендации для российских реалий 2025

- Использование чистых функций для обработки данных в Redux-сторах
- Применение чистых функций в React-компонентах для вычислений
- Создание библиотек утилит с чистыми функциями
- Использование TypeScript для документирования чистых функций
- Обучение команд работе с чистыми функциями
- Интеграция с системами CI/CD для проверки чистоты функций

## Чистые функции и тестирование [[Тестирование]]

Чистые функции значительно упрощают процесс тестирования, так как:

- Не требуют настройки внешнего состояния
- Легко мокать зависимости
- Позволяют использовать property-based testing
- Упрощают написание unit-тестов

Пример теста:
```javascript
// Тест для чистой функции
describe('add', () => {
  it('should return sum of two numbers', () => {
    expect(add(2, 3)).toBe(5);
    expect(add(-1, 1)).toBe(0);
    expect(add(0, 0)).toBe(0);
  });
});
```

## Связь с другими концепциями

- [[Функциональное-программирование]] - основа функционального подхода
- [[Неизменяемость]] - часто используется вместе с чистыми функциями
- [[Композиция]] - чистые функции легко комбинируются
- [[Тестирование]] - упрощается при использовании чистых функций

## Заключение

Чистые функции - это фундаментальный элемент функционального программирования, который делает код более предсказуемым, тестируемым и надежным. В условиях российского рынка фронтенд-разработки в 2025 году, использование чистых функций становится важным навыком для создания масштабируемых и поддерживаемых приложений.