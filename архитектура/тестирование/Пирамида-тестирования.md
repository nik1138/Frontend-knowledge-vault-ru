---
aliases: [Тестовая пирамида, Пирамида тестирования]
tags: [тестирование, пирамида, фронтенд, разработка]
---

# Пирамида тестирования фронтенд-приложений

## Обзор

Пирамида тестирования - это концептуальная модель, описывающая оптимальное распределение различных типов тестов в приложении. В 2025 году эта модель остается актуальной для фронтенд-разработки, особенно с учетом сложности современных веб-приложений.

## Уровни пирамиды тестирования

### 1. Модульные (Unit) тесты

- **Процент от общего количества тестов**: 70%
- **Цель**: Проверка отдельных компонентов и функций в изоляции
- **Инструменты**: Jest, Vitest, Mocha
- **Преимущества**: Быстрые, надежные, точная локализация ошибок

Для фронтенд-приложений модульные тесты включают:
- Тестирование утилитарных функций
- Тестирование хуков (React Hooks)
- Тестирование редьюсеров (Redux)
- Тестирование компонентов в изоляции

### 2. Интеграционные тесты

- **Процент от общего количества тестов**: 20%
- **Цель**: Проверка взаимодействия между компонентами
- **Инструменты**: Testing Library, Cypress, Playwright
- **Преимущества**: Проверка реальных сценариев использования

Интеграционные тесты для фронтенда:
- Тестирование взаимодействия между компонентами
- Тестирование API-интеграций
- Тестирование работы с хранилищем данных
- Тестирование роутинга

### 3. Сквозные (E2E) тесты

- **Процент от общего количества тестов**: 10%
- **Цель**: Проверка полных пользовательских сценариев
- **Инструменты**: Cypress, Playwright, Selenium
- **Преимущества**: Проверка реального пользовательского опыта

E2E тесты должны покрывать:
- Критические пользовательские пути
- Основные бизнес-процессы
- Работу с формами и валидациями
- Интеграцию с внешними сервисами

## Современные подходы в 2025 году

### Визуальные регрессионные тесты

С учетом важности пользовательского интерфейса в фронтенд-приложениях, визуальные регрессионные тесты становятся неотъемлемой частью пирамиды:

- Использование инструментов: Percy, Chromatic, Storybook
- Интеграция с системами CI/CD
- Тестирование адаптивного дизайна

### Тестирование производительности

- Интеграция Lighthouse в процесс тестирования
- Мониторинг Core Web Vitals
- Тестирование загрузки ресурсов

## Особенности для российских реалий 2025 года

1. **Альтернативные инструменты** - использование российских или независимых инструментов тестирования
2. **Тестирование в условиях санкций** - проверка работоспособности приложений при блокировке внешних сервисов
3. **Локализация** - тестирование с учетом российских стандартов и форматов
4. **Безопасность** - дополнительные проверки безопасности в условиях повышенной угрозы

## Практические рекомендации

### Для фронтенд-приложений:

1. **Используйте Testing Library** - она ближе к реальному пользовательскому поведению
2. **Тестируйте компоненты в изоляции** - с использованием Storybook или подобных инструментов
3. **Избегайте хрупких тестов** - используйте семантические селекторы вместо CSS-классов
4. **Покрывайте пользовательские сценарии** - а не только внутреннюю логику

### Пример структуры пирамиды:

```
        E2E тесты (10%)
             /\
            /  \
           /    \
          /      \
 Интеграционные (20%)
        /        \
       /          \
      /            \
 Модульные (70%)
```

## Примеры тестов

### Модульный тест (React компонента):

```javascript
import { render, screen, fireEvent } from '@testing-library/react';
import Counter from './Counter';

test('увеличивает счетчик при клике', () => {
  render(<Counter />);
  const button = screen.getByText(/увеличить/i);
  const counter = screen.getByTestId('counter-value');
  
  expect(counter.textContent).toBe('0');
  
  fireEvent.click(button);
  expect(counter.textContent).toBe('1');
});
```

### Интеграционный тест (взаимодействие компонентов):

```javascript
import { render, screen, waitFor } from '@testing-library/react';
import UserProfile from './UserProfile';
import { fetchUser } from '../api';

// Мокаем API
jest.mock('../api');

test('отображает данные пользователя после загрузки', async () => {
  fetchUser.mockResolvedValue({ name: 'Иван', email: 'ivan@example.com' });
  
  render(<UserProfile userId="123" />);
  
  expect(screen.getByText(/загрузка/i)).toBeInTheDocument();
  
  await waitFor(() => screen.getByText('Иван'));
  
  expect(screen.getByText('Иван')).toBeInTheDocument();
  expect(screen.getByText('ivan@example.com')).toBeInTheDocument();
});
```

## Заключение

Пирамида тестирования остается важной концепцией для построения эффективной системы тестирования фронтенд-приложений. В условиях российских реалий 2025 года важно адаптировать подходы к тестированию с учетом доступных инструментов и специфики локального рынка.

## См. также

- [[Архитектура-тестирования]]
- [[Стратегии-тестирования]]
- [[Инструменты]]
- [[Автоматизация]]