---
aliases: ["Props по умолчанию", "Default props", "Значения пропсов по умолчанию"]
tags: [frontend, props, default-values, react, vue, javascript, typescript]
---

# Пропсы по умолчанию

**Пропсы по умолчанию** (default props) — это значения, которые автоматически присваиваются пропсам компонента, если они не были переданы родительским компонентом. Это позволяет создавать более гибкие и удобные в использовании компоненты, уменьшая необходимость в явной передаче всех параметров.

## Зачем нужны пропсы по умолчанию

1. **Упрощение использования компонентов**: Разработчики могут использовать компоненты с минимальным набором пропсов
2. **Повышение гибкости**: Компоненты могут адаптироваться к различным сценариям использования
3. **Снижение количества ошибок**: Предотвращение ошибок из-за отсутствия обязательных данных
4. **Улучшение UX компонентов**: Предсказуемое поведение при частичной настройке

## Пропсы по умолчанию в React

### Использование defaultProps

```jsx
function Button({ text, type, disabled, onClick }) {
  return (
    <button 
      className={`btn btn-${type}`}
      disabled={disabled}
      onClick={onClick}
    >
      {text}
    </button>
  );
}

// Определение значений по умолчанию
Button.defaultProps = {
  text: 'Кнопка',
  type: 'primary',
  disabled: false,
  onClick: () => {} // Пустая функция по умолчанию
};

// Типизация с помощью PropTypes
import PropTypes from 'prop-types';

Button.propTypes = {
  text: PropTypes.string,
  type: PropTypes.oneOf(['primary', 'secondary', 'danger', 'success']),
  disabled: PropTypes.bool,
  onClick: PropTypes.func
};
```

### Использование деструктуризации с значениями по умолчанию

```jsx
function Button({ 
  text = 'Кнопка', 
  type = 'primary', 
  disabled = false, 
  onClick = () => {},
  size = 'medium'
}) {
  return (
    <button 
      className={`btn btn-${type} btn-${size}`}
      disabled={disabled}
      onClick={onClick}
    >
      {text}
    </button>
  );
}
```

### Смешанный подход

```jsx
function Modal({ title, children, isOpen, onClose, size }) {
  if (!isOpen) return null;

  return (
    <div className="modal-overlay" onClick={onClose}>
      <div className={`modal modal-${size}`}>
        <div className="modal-header">
          <h2>{title}</h2>
          <button onClick={onClose} className="close-btn">✕</button>
        </div>
        <div className="modal-body">
          {children}
        </div>
      </div>
    </div>
  );
}

Modal.defaultProps = {
  title: 'Модальное окно',
  size: 'medium',
  isOpen: false,
  onClose: () => {}
};
```

## Пропсы по умолчанию в TypeScript

TypeScript позволяет определять значения по умолчанию непосредственно в определении интерфейса или при деструктуризации:

```tsx
interface ButtonProps {
  text?: string;        // Необязательный пропс
  type?: 'primary' | 'secondary' | 'danger' | 'success';
  disabled?: boolean;
  onClick?: () => void;
  size?: 'small' | 'medium' | 'large';
}

const Button: React.FC<ButtonProps> = ({ 
  text = 'Кнопка',
  type = 'primary',
  disabled = false,
  onClick = () => {},
  size = 'medium'
}) => {
  return (
    <button 
      className={`btn btn-${type} btn-${size}`}
      disabled={disabled}
      onClick={onClick}
    >
      {text}
    </button>
  );
};
```

Или с использованием функции с аргументами по умолчанию:

```tsx
interface ModalProps {
  title: string;
  children: React.ReactNode;
  isOpen: boolean;
  onClose: () => void;
  size?: 'small' | 'medium' | 'large';
}

const Modal: React.FC<ModalProps> = ({ 
  title = 'Модальное окно', 
  children, 
  isOpen = false, 
  onClose = () => {}, 
  size = 'medium' 
}) => {
  if (!isOpen) return null;

  return (
    <div className="modal-overlay" onClick={onClose}>
      <div className={`modal modal-${size}`}>
        <div className="modal-header">
          <h2>{title}</h2>
          <button onClick={onClose} className="close-btn">✕</button>
        </div>
        <div className="modal-body">
          {children}
        </div>
      </div>
    </div>
  );
};
```

## Пропсы по умолчанию в других фреймворках

### Vue.js

В Vue.js значения по умолчанию определяются в объекте props:

```vue
<script>
export default {
  name: 'UserCard',
  props: {
    name: {
      type: String,
      default: 'Анонимный пользователь'
    },
    age: {
      type: Number,
      default: 0
    },
    email: {
      type: String,
      default: 'no-email@example.com'
    },
    isActive: {
      type: Boolean,
      default: true
    },
    tags: {
      type: Array,
      default: () => ['новичок'] // Функция для объектов/массивов
    },
    settings: {
      type: Object,
      default: () => ({
        theme: 'light',
        notifications: true,
        language: 'ru'
      })
    }
  }
};
</script>
```

### Svelte

В Svelte значения по умолчанию определяются при экспорте переменных:

```svelte
<script>
  // Определение пропсов с значениями по умолчанию
  export let title = 'Заголовок по умолчанию';
  export let visible = true;
  export let count = 0;
  export let items = []; // Для массивов лучше использовать функцию
  export let config = {
    theme: 'light',
    size: 'medium'
  };
  
  // Для массивов и объектов рекомендуется использовать вычисляемые значения
  if (!items.length) {
    items = ['элемент по умолчанию'];
  }
</script>

{#if visible}
  <div class="card">
    <h2>{title}</h2>
    <p>Количество: {count}</p>
    <ul>
      {#each items as item}
        <li>{item}</li>
      {/each}
    </ul>
  </div>
{/if}
```

## Особенности работы с объектами и массивами

При определении значений по умолчанию для объектов и массивов важно помнить, что если использовать литерал напрямую, все экземпляры компонента будут использовать одну и ту же ссылку на объект/массив:

```jsx
// НЕПРАВИЛЬНО - все компоненты будут использовать один и тот же массив
function BadComponent({ items = [] }) {
  // Если мы изменим items, это повлияет на все экземпляры компонента
  return <div>{items.length}</div>;
}

// ПРАВИЛЬНО - каждый вызов создает новый массив
function GoodComponent({ items = () => [] }) {
  return <div>{items().length}</div>;
}

// Или в Vue.js:
props: {
  tags: {
    type: Array,
    default: () => ['default-tag'] // Функция возвращает новый массив
  }
}
```

## Продвинутые сценарии

### Условные значения по умолчанию

```jsx
function Avatar({ src, alt, size, hasBorder }) {
  // Установка значения по умолчанию на основе другого пропса
  const avatarSize = size || (hasBorder ? 'large' : 'medium');
  
  return (
    <img 
      src={src || '/default-avatar.png'}
      alt={alt || 'Аватар пользователя'}
      className={`avatar avatar-${avatarSize} ${hasBorder ? 'bordered' : ''}`}
    />
  );
}
```

### Функции как значения по умолчанию

```jsx
function List({ items, renderItem, keyExtractor }) {
  return (
    <ul>
      {items.map((item, index) => (
        <li key={keyExtractor ? keyExtractor(item) : index}>
          {renderItem ? renderItem(item) : item.toString()}
        </li>
      ))}
    </ul>
  );
}

// Значения по умолчанию для функций
List.defaultProps = {
  renderItem: (item) => <span>{item}</span>,
  keyExtractor: (item, index) => index
};
```

## Лучшие практики

1. **Используйте осмысленные значения по умолчанию**: Они должны отражать наиболее распространенный сценарий использования
2. **Избегайте мутации значений по умолчанию**: Для объектов и массивов всегда используйте функции, возвращающие новые экземпляры
3. **Документируйте значения по умолчанию**: Указывайте их в JSDoc или комментариях
4. **Предпочтительно использовать TypeScript**: Он предоставляет более строгую типизацию и встроенную поддержку необязательных пропсов
5. **Не перегружайте компонент значениями по умолчанию**: Это может затруднить понимание поведения компонента

## Связанные темы

- [[Передача-пропсов]]
- [[Валидация-пропсов]]
- [[Деструктуризация-пропсов]]
- [[Пропсы-в-React]]
- [[Компонентная архитектура]]
- [[Композиция-и-агрегация]]

## Заключение

Пропсы по умолчанию — мощный инструмент для создания гибких и удобных в использовании компонентов. Они позволяют упростить API компонентов и сделать их более интуитивно понятными для других разработчиков.