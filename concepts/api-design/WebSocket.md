# WebSocket

WebSocket - это протокол связи над TCP, который обеспечивает полнодуплексное соединение между клиентом и сервером. В отличие от HTTP, WebSocket позволяет постоянное соединение для двусторонней передачи данных в реальном времени.

## Основные особенности

- **Постоянное соединение** - после установления соединения оно остается открытым
- **Двусторонняя связь** - как клиент, так и сервер могут инициировать передачу данных
- **Малые накладные расходы** - после установления соединения накладные расходы минимальны
- **Безопасность** - поддержка WSS (WebSocket Secure) через TLS

## Процесс установления соединения

WebSocket соединение устанавливается через HTTP handshake:
1. Клиент отправляет HTTP-запрос с заголовками Upgrade и Connection
2. Сервер отвечает подтверждением
3. После этого используется протокол WebSocket вместо HTTP

## Преимущества WebSocket

- **Реальное время** - идеально подходит для чатов, онлайн-игр, потоковой передачи
- **Эффективность** - не требуется повторная отправка заголовков для каждого сообщения
- **Меньшая задержка** - отсутствие оверхеда HTTP-запросов

## Недостатки WebSocket

- **Сложность масштабирования** - постоянные соединения требуют больше ресурсов
- **Проблемы с прокси и балансировщиками** - не все прокси поддерживают WebSocket
- **Сложность восстановления соединения** - требуется дополнительная логика для восстановления после разрыва

## Сравнение с REST API

WebSocket и [[REST API]] решают разные задачи: REST подходит для запрос-ответ взаимодействия, а WebSocket - для постоянной двусторонней связи.

## Использование в API архитектуре

WebSocket часто используется в сочетании с REST API для обеспечения функций реального времени.

## См. также
- [[REST API]]
- [[Server-Sent Events]]
- [[Real-time Communication]]
- [[TCP]]

## Теги
#programming #api #websocket #real-time #tcp #architecture #frontend #backend