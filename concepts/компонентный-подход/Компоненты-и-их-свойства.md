---
aliases: ["Свойства компонентов", "Props и State", "Компоненты и атрибуты"]
tags: [frontend, components, react, vue, angular, architecture]
---

# Компоненты и их свойства

Компонентный подход — это методология разработки, при которой пользовательский интерфейс разбивается на независимые, переиспользуемые части, называемые компонентами. Каждый компонент обладает определёнными свойствами, которые позволяют ему взаимодействовать с другими компонентами и адаптироваться под различные условия использования.

## Основные понятия

**Компонент** — это независимая и переиспользуемая часть пользовательского интерфейса, которая может содержать шаблон, логику и стили. Компоненты могут принимать данные извне через **свойства (props)** и иметь внутреннее **состояние (state)**.

### Свойства (Props)

Свойства — это неизменяемые данные, передаваемые в компонент извне. Они позволяют настраивать поведение и внешний вид компонента без изменения его внутренней реализации.

## Реализация в различных фреймворках

### React

В React свойства передаются как атрибуты при вызове компонента:

```jsx
// Определение компонента с пропсами
function Welcome(props) {
  return <h1>Привет, {props.name}!</h1>;
}

// Использование компонента с передачей пропсов
function App() {
  return <Welcome name="Алиса" />;
}
```

Можно также использовать деструктуризацию:

```jsx
function Welcome({ name, age }) {
  return (
    <div>
      <h1>Привет, {name}!</h1>
      <p>Возраст: {age}</p>
    </div>
  );
}
```

Для проверки типов пропсов в React используется библиотека PropTypes:

```jsx
import PropTypes from 'prop-types';

function Welcome({ name, age }) {
  return (
    <div>
      <h1>Привет, {name}!</h1>
      <p>Возраст: {age}</p>
    </div>
  );
}

Welcome.propTypes = {
  name: PropTypes.string.isRequired,
  age: PropTypes.number
};

Welcome.defaultProps = {
  age: 0
};
```

### Vue.js

В Vue.js свойства определяются в объекте `props`:

```vue
<template>
  <div class="user-card">
    <h2>{{ title }}</h2>
    <p>{{ message }}</p>
    <p v-if="showAge">Возраст: {{ age }}</p>
  </div>
</template>

<script>
export default {
  name: 'UserCard',
  props: {
    title: {
      type: String,
      required: true
    },
    message: {
      type: String,
      default: 'Привет!'
    },
    age: {
      type: Number,
      default: 0
    },
    showAge: {
      type: Boolean,
      default: false
    }
  }
}
</script>
```

Использование компонента:

```vue
<template>
  <div>
    <UserCard 
      title="Профиль пользователя" 
      :message="userMessage" 
      :age="25" 
      :showAge="true" 
    />
  </div>
</template>
```

### Angular

В Angular свойства определяются с помощью декоратора `@Input()`:

```typescript
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-user-card',
  template: `
    <div class="user-card">
      <h2>{{ title }}</h2>
      <p>{{ message }}</p>
      <p *ngIf="showAge">Возраст: {{ age }}</p>
    </div>
  `
})
export class UserCardComponent {
  @Input() title: string;
  @Input() message: string = 'Привет!';
  @Input() age: number = 0;
  @Input() showAge: boolean = false;
}
```

Использование компонента:

```html
<app-user-card 
  title="Профиль пользователя" 
  [message]="userMessage" 
  [age]="25" 
  [showAge]="true">
</app-user-card>
```

## Типы свойств

Свойства могут быть различных типов:

- **Примитивы**: строка, число, булево значение
- **Объекты**: сложные структуры данных
- **Функции**: обработчики событий или колбэки
- **Массивы**: списки элементов

```jsx
function ProductList({ products, onProductClick, category }) {
  return (
    <div>
      <h2>Категория: {category}</h2>
      {products.map(product => (
        <div 
          key={product.id} 
          onClick={() => onProductClick(product)}
          className="product-item"
        >
          {product.name} - ${product.price}
        </div>
      ))}
    </div>
  );
}
```

## Валидация свойств

Валидация свойств помогает предотвратить ошибки и обеспечивает правильное использование компонентов.

### React PropTypes

```jsx
import PropTypes from 'prop-types';

MyComponent.propTypes = {
  // Примитивные типы
  optionalArray: PropTypes.array,
  optionalBool: PropTypes.bool,
  optionalFunc: PropTypes.func,
  optionalNumber: PropTypes.number,
  optionalObject: PropTypes.object,
  optionalString: PropTypes.string,
  
  // Любой тип
  optionalNode: PropTypes.node,
  optionalElement: PropTypes.element,
  
  // Экземпляр определённого класса
  optionalMessage: PropTypes.instanceOf(Message),
  
  // Определённое значение enum
  optionalEnum: PropTypes.oneOf(['News', 'Photos']),
  
  // Один из нескольких типов
  optionalUnion: PropTypes.oneOfType([
    PropTypes.string,
    PropTypes.number,
    PropTypes.instanceOf(Message)
  ]),
  
  // Массив определённого типа
  optionalArrayOf: PropTypes.arrayOf(PropTypes.number),
  
  // Объект с определённым типом значений
  optionalObjectOf: PropTypes.objectOf(PropTypes.number),
  
  // Объект с определённой формой
  optionalObjectWithShape: PropTypes.shape({
    color: PropTypes.string,
    fontSize: PropTypes.number
  }),
  
  // Обязательные значения
  requiredFunc: PropTypes.func.isRequired,
  requiredAny: PropTypes.any.isRequired
};
```

### Vue.js Prop Validation

```javascript
export default {
  props: {
    // Простая проверка типа
    height: Number,
    
    // Несколько допустимых типов
    age: [Number, String],
    
    // Обязательное значение
    title: {
      type: String,
      required: true
    },
    
    // Значение по умолчанию
    callback: {
      type: Function,
      default: function () {
        return function defaultCallback() {}
      }
    },
    
    // Пользовательская проверка
    validator: {
      validator: function (value) {
        return value > 0
      }
    }
  }
}
```

## Расширенные возможности

### Слоты (Slots) в Vue.js

Слоты позволяют передавать содержимое в компонент:

```vue
<!-- Card.vue -->
<template>
  <div class="card">
    <header>
      <slot name="header"></slot>
    </header>
    <main>
      <slot></slot>
    </main>
    <footer>
      <slot name="footer"></slot>
    </footer>
  </div>
</template>
```

```vue
<!-- Использование -->
<Card>
  <template #header>
    <h1>Заголовок карточки</h1>
  </template>
  
  <p>Основное содержимое карточки</p>
  
  <template #footer>
    <button>Закрыть</button>
  </template>
</Card>
```

### Children в React

В React дочерние элементы передаются через `props.children`:

```jsx
function Card({ title, children }) {
  return (
    <div className="card">
      <div className="card-header">
        <h2>{title}</h2>
      </div>
      <div className="card-body">
        {children}
      </div>
    </div>
  );
}

// Использование
function App() {
  return (
    <Card title="Моя карточка">
      <p>Это дочерний контент</p>
      <button>Нажми меня</button>
    </Card>
  );
}
```

## Лучшие практики

1. **Именование пропсов**: используйте понятные имена, избегайте сокращений
2. **Типизация**: всегда определяйте типы пропсов для лучшей читаемости и отладки
3. **Значения по умолчанию**: устанавливайте разумные значения по умолчанию
4. **Неизменяемость**: не изменяйте пропсы внутри компонента
5. **Документирование**: документируйте пропсы с помощью JSDoc или комментариев

## Заключение

Свойства компонентов являются важным механизмом передачи данных и настройки поведения компонентов. Правильное использование пропсов позволяет создавать гибкие и переиспользуемые компоненты, что является ключевым аспектом компонентного подхода.

См. также: [[Жизненный-цикл-компонентов]], [[Композиция-компонентов]], [[Переиспользование-компонентов]], [[Стили-компонентов]]

</content>