# Функциональное программирование

Функциональное программирование — это парадигма программирования, при которой программа строится путем применения и композиции функций. В функциональном программировании вычисления рассматриваются как вычисление математических функций, а изменяемое состояние и побочные эффекты избегаются.

## Основные принципы

### Чистые функции
Чистые функции — это функции, которые не имеют побочных эффектов и всегда возвращают одинаковый результат для одинаковых входных данных.

#### Пример
```javascript
// Чистая функция
function add(a, b) {
  return a + b;
}

// Нечистая функция
let total = 0;
function addToTotal(value) {
  total += value; // Побочный эффект - изменение внешнего состояния
  return total;
}
```

#### Преимущества чистых функций
- Предсказуемость
- Легкость тестирования
- Потокобезопасность
- Возможность кэширования (мемоизация)

### Неизменяемость
Неизменяемость означает, что данные не изменяются после создания. Вместо изменения существующих структур данных создаются новые версии.

#### Пример
```javascript
// Иммутабельный подход
const originalArray = [1, 2, 3, 4, 5];

// Вместо изменения массива создаем новый
const doubledArray = originalArray.map(x => x * 2);
const evenArray = originalArray.filter(x => x % 2 === 0);

console.log(originalArray); // [1, 2, 3, 4, 5] - не изменился
console.log(doubledArray);  // [2, 4, 6, 8, 10]
console.log(evenArray);     // [2, 4]
```

#### Преимущества неизменяемости
- Отсутствие побочных эффектов
- Потокобезопасность
- Легкость отладки
- Предсказуемость

### Функции высшего порядка
Функции высшего порядка — это функции, которые принимают другие функции в качестве аргументов или возвращают функции.

#### Пример
```javascript
// Функция высшего порядка
function createMultiplier(factor) {
  return function(number) {
    return number * factor;
  };
}

const double = createMultiplier(2);
const triple = createMultiplier(3);

console.log(double(5)); // 10
console.log(triple(5)); // 15

// Другой пример
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(x => x * 2); // map - функция высшего порядка
const sum = numbers.reduce((acc, x) => acc + x, 0); // reduce - функция высшего порядка
```

#### Преимущества функций высшего порядка
- Абстракция и повторное использование
- Композиция функций
- Гибкость

### Композиция функций
Композиция функций — это создание сложных функций из более простых путем объединения их в цепочки.

#### Пример
```javascript
// Композиция функций
const add = (x) => (y) => x + y;
const multiply = (x) => (y) => x * y;
const compose = (f, g) => (x) => f(g(x));

const add5 = add(5);
const multiplyBy2 = multiply(2);
const add5AndMultiplyBy2 = compose(multiplyBy2, add5);

console.log(add5AndMultiplyBy2(10)); // 30 (10 + 5 = 15, 15 * 2 = 30)
```

#### Преимущества композиции
- Модульность
- Повторное использование
- Читаемость

## Преимущества функционального программирования

### Легкость тестирования
Чистые функции легко тестировать, так как они не зависят от внешнего состояния.

### Лучшая поддержка параллелизма
Из-за отсутствия изменяемого состояния функциональные программы легче распараллеливать.

### Предсказуемость
Функциональные программы более предсказуемы и детерминированы.

### Легкость отладки
Отсутствие побочных эффектов упрощает отладку программ.

## Недостатки функционального программирования

### Кривая обучения
Функциональное программирование требует переосмысления подхода к решению задач.

### Потенциальная неэффективность
Создание новых структур данных вместо изменения существующих может быть менее эффективным.

### Сложность для некоторых задач
Некоторые задачи сложнее выразить в функциональной парадигме.

## Функциональное программирование в различных языках

### Haskell
```haskell
-- Функциональный подход в Haskell
-- Чистая функция
add :: Int -> Int -> Int
add x y = x + y

-- Функция высшего порядка
map :: (a -> b) -> [a] -> [b]
map f [] = []
map f (x:xs) = f x : map f xs

-- Композиция функций
add5AndMultiplyBy2 :: Int -> Int
add5AndMultiplyBy2 = (*2) . (+5)
```

### JavaScript
```javascript
// Функциональный подход в JavaScript
// Чистая функция
const add = (a, b) => a + b;

// Функция высшего порядка
const map = (fn, array) => array.map(fn);

// Композиция функций
const compose = (f, g) => (x) => f(g(x));

// Неизменяемость
const original = [1, 2, 3];
const modified = [...original, 4]; // Создаем новый массив
```

### Python
```python
# Функциональный подход в Python
# Чистая функция
def add(a, b):
    return a + b

# Функция высшего порядка
from functools import reduce
numbers = [1, 2, 3, 4, 5]
sum_result = reduce(lambda acc, x: acc + x, numbers)

# Композиция функций
def compose(f, g):
    return lambda x: f(g(x))
```

## Практические примеры

### Обработка данных
```javascript
// Функциональный подход к обработке данных
const users = [
  { name: 'John', age: 25, active: true },
  { name: 'Jane', age: 30, active: false },
  { name: 'Bob', age: 35, active: true }
];

// Цепочка функций высшего порядка
const activeUserNames = users
  .filter(user => user.active)           // Фильтрация
  .map(user => user.name)                // Преобразование
  .sort();                               // Сортировка

console.log(activeUserNames); // ['Bob', 'John']
```

### Рекурсия вместо циклов
```javascript
// Функциональный подход с рекурсией
const factorial = (n) => {
  if (n <= 1) return 1;
  return n * factorial(n - 1);
};

const sumArray = (arr) => {
  if (arr.length === 0) return 0;
  return arr[0] + sumArray(arr.slice(1));
};
```

## Связь с другими концепциями

- [[Парадигмы программирования]] - Функциональное программирование является одной из основных парадигм
- [[Декларативное программирование]] - Функциональное программирование является формой декларативного
- [[DRY (Don't Repeat Yourself)]] - Композиция функций способствует избеганию дублирования
- [[KISS (Keep It Simple, Stupid)]] - Функциональный подход может способствовать простоте
- [[YAGNI (You Aren't Gonna Need It)]] - Чистые функции уменьшают связанность и упрощают удаление кода
- [[Полиморфизм]] - Функциональный полиморфизм через функции высшего порядка
- [[Дженерики]] - Параметрический полиморфизм в функциональном стиле

## Применение в современных технологиях

### В [[js]]
JavaScript поддерживает функциональное программирование через:
- Функции первого класса
- Методы массивов (map, filter, reduce)
- Замыкания
- Каррирование

### В [[ts]]
TypeScript расширяет возможности функционального программирования:
- Строгая типизация функций
- Дженерики для создания универсальных функций
- Интерфейсы для описания функциональных контрактов

### В [[react]]
React использует функциональный подход:
- Функциональные компоненты
- Хуки (useState, useEffect и др.)
- Композиция компонентов

## Теги
#functional-programming #programming-paradigms #programming-concepts #pure-functions #immutability #higher-order-functions #composition