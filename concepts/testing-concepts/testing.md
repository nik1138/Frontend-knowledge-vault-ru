---
aliases: ["Тестирование ПО", "Программное тестирование", "Тестирование кода"]
tags: 
  - #testing
  - #software-engineering
  - #quality-assurance
  - #programming-concepts
---

# Тестирование программного обеспечения

## Определение программного тестирования

**Программное тестирование** — это процесс проверки соответствия программного обеспечения ожидаемым результатам, выявления ошибок и обеспечения его качества. Цель тестирования — убедиться, что приложение работает корректно, надежно и безопасно.

> [!note] Значение тестирования
> Тестирование позволяет находить ошибки до того, как они попадут в продакшн, снижает затраты на поддержку и повышает доверие пользователей к приложению.

## Виды тестирования

### Модульное тестирование (Unit Testing)

Модульное тестирование проверяет отдельные компоненты или функции программы изолированно. Оно помогает убедиться, что каждая часть работает правильно.

**Пример:**
```javascript
// Функция, которую тестируем
function sum(a, b) {
    return a + b;
}

// Модульный тест
test('складывает два числа', () => {
    expect(sum(2, 3)).toBe(5);
});
```

[[concepts/testing-concepts/unit-testing|Подробнее о модульном тестировании]]

### Интеграционное тестирование (Integration Testing)

Интеграционное тестирование проверяет, как компоненты работают вместе. Оно выявляет проблемы в интерфейсах между модулями.

**Пример:**
```javascript
// Тестируем взаимодействие между сервисом и базой данных
test('сохраняет данные в базу', async () => {
    const service = new UserService();
    const user = await service.createUser({ name: 'Иван' });
    expect(user.name).toBe('Иван');
    // Проверяем, что данные сохранились в базе
    const dbUser = await User.findById(user.id);
    expect(dbUser.name).toBe('Иван');
});
```

[[concepts/testing-concepts/integration-testing|Подробнее об интеграционном тестировании]]

### Сквозное тестирование (End-to-End Testing)

Сквозное тестирование проверяет полный рабочий процесс приложения от начала до конца, как это делает пользователь.

**Пример:**
```javascript
// Тестируем регистрацию пользователя через интерфейс
test('регистрация нового пользователя', async ({ page }) => {
    await page.goto('/register');
    await page.fill('#name', 'Иван');
    await page.fill('#email', 'ivan@example.com');
    await page.click('#submit');
    await expect(page.locator('.success')).toContainText('Регистрация успешна');
});
```

[[concepts/testing-concepts/e2e-testing|Подробнее о сквозном тестировании]]

## Пирамида тестирования

**Пирамида тестирования** — это концепция, описывающая соотношение между различными уровнями тестирования:

- **Модульные тесты** (70%) — большинство тестов
- **Интеграционные тесты** (20%) — среднее количество
- **Сквозные тесты** (10%) — наименьшее количество

> [!tip] Пирамида тестирования
> Следование пирамиде помогает сбалансировать покрытие, время выполнения и надежность тестов.

[[concepts/testing-concepts/test-pyramid|Подробнее о пирамиде тестирования]]

## TDD и BDD

### TDD (Test-Driven Development)

**TDD** — это методология разработки, при которой тесты пишутся до реализации кода. Процесс включает:
1. Пишем тест (он должен падать)
2. Пишем минимальный код для прохождения теста
3. Рефакторим код

[[concepts/testing-concepts/tdd|Подробнее о TDD]]

### BDD (Behavior-Driven Development)

**BDD** — это методология, фокусирующаяся на поведении приложения с точки зрения пользователя. Тесты описываются на естественном языке.

**Пример:**
```gherkin
Функция: Регистрация пользователя

Сценарий: Успешная регистрация
    Дано: Я на странице регистрации
    Когда: Я ввожу имя и email
    И нажимаю "Зарегистрироваться"
    Тогда: Я вижу сообщение об успешной регистрации
```

[[concepts/testing-concepts/bdd|Подробнее о BDD]]

## Mocking и Stubbing

**Mocking** и **stubbing** — техники, используемые для изоляции тестируемого кода от внешних зависимостей.

- **Stub** — заглушка, возвращающая предопределенные значения
- **Mock** — объект, который может проверять вызовы методов и аргументы

**Пример:**
```javascript
// Использование mock для HTTP-запроса
const mockFetch = jest.fn().mockResolvedValue({ json: () => ({ id: 1, name: 'Иван' }) });
global.fetch = mockFetch;

test('загружает пользователя', async () => {
    const user = await loadUser(1);
    expect(user.name).toBe('Иван');
    expect(mockFetch).toHaveBeenCalledWith('/api/users/1');
});
```

[[concepts/testing-concepts/mocking-stubbing|Подробнее о mocking и stubbing]]

## Покрытие тестами

**Покрытие тестами** — это метрика, показывающая, какой процент кода охвачен тестами. Обычно измеряется в процентах.

> [!warning] Покрытие не гарантирует качество
> Высокое покрытие не всегда означает, что тесты эффективны. Важно качество тестов, а не только их количество.

[[concepts/testing-concepts/test-coverage|Подробнее о покрытии тестами]]

## Непрерывное тестирование

**Непрерывное тестирование** — это практика автоматического запуска тестов при каждом изменении кода, часто в рамках CI/CD пайплайна.

[[concepts/testing-concepts/continuous-testing|Подробнее о непрерывном тестировании]]

## Стратегии тестирования

- **Черный ящик** — тестирование без знания внутренней структуры
- **Белый ящик** — тестирование с учетом внутренней логики
- **Серый ящик** — комбинация черного и белого ящика

[[concepts/testing-concepts/testing-strategies|Подробнее о стратегиях тестирования]]

## Практические примеры

### Простой модульный тест
```javascript
// Функция для тестирования
function validateEmail(email) {
    return email.includes('@');
}

// Тест
test('валидирует email', () => {
    expect(validateEmail('test@example.com')).toBe(true);
    expect(validateEmail('invalid')).toBe(false);
});
```

### Интеграционный тест с базой данных
```javascript
// Подготовка тестовой базы данных
beforeEach(async () => {
    await setupTestDatabase();
});

afterEach(async () => {
    await cleanupTestDatabase();
});

test('создает и находит пользователя', async () => {
    const user = await createUser({ name: 'Иван' });
    const found = await findUserById(user.id);
    expect(found.name).toBe('Иван');
});
```

## Связь с другими концепциями

- [[concepts/quality-assurance|Обеспечение качества]] — более широкая область, включающая тестирование
- [[concepts/continuous-integration|Непрерывная интеграция]] — автоматизация тестирования в процессе разработки
- [[concepts/debugging|Отладка]] — процесс нахождения и устранения ошибок, часто сопровождающий тестирование
- [[concepts/refactoring|Рефакторинг]] — улучшение кода, которое облегчает тестирование

## Ключевые выводы

- Тестирование — важная часть разработки, обеспечивающая надежность и качество
- Различные виды тестов решают разные задачи и должны использоваться вместе
- Пирамида тестирования помогает балансировать покрытие и производительность
- Автоматизация тестирования ускоряет разработку и повышает качество