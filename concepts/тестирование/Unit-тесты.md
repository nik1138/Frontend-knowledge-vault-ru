# Unit-тесты

## Свойства
```yaml
tags: [testing, frontend, unit-testing, javascript, react]
aliases: [Модульное тестирование, Unit Testing]
```

## Обзор
Unit-тесты (модульное тестирование) — это тип тестирования программного обеспечения, при котором отдельные компоненты или модули системы тестируются изолированно. В контексте фронтенд-разработки unit-тесты позволяют проверить корректность работы отдельных функций, компонентов, хуков и других модулей без зависимости от внешних факторов, таких как API или DOM.

## Подробности

### Что тестируется
- Функции и методы
- Компоненты (в изоляции)
- Хуки (custom hooks)
- Утилиты
- Редьюсеры
- Валидаторы

### Принципы
- **Изолированность**: каждый unit-тест должен быть независим от других
- **Предсказуемость**: тест должен давать одинаковый результат при одинаковых условиях
- **Быстрота**: unit-тесты должны выполняться быстро
- **Фокус**: тест должен проверять одну конкретную функциональность

### Популярные фреймворки
- Jest
- Vitest
- Mocha + Chai
- QUnit

### Примеры

#### Простая функция
```javascript
// utils.js
export function add(a, b) {
  return a + b;
}

// utils.test.js
import { add } from './utils';

test('adds 1 + 2 to equal 3', () => {
  expect(add(1, 2)).toBe(3);
});
```

#### React компонент
```jsx
// Button.jsx
import React from 'react';

export function Button({ onClick, children }) {
  return <button onClick={onClick}>{children}</button>;
}

// Button.test.jsx
import { render, screen, fireEvent } from '@testing-library/react';
import { Button } from './Button';

test('calls onClick prop when clicked', () => {
  const mockFn = jest.fn();
  render(<Button onClick={mockFn}>Click me</Button>);
  fireEvent.click(screen.getByText('Click me'));
  expect(mockFn).toHaveBeenCalledTimes(1);
});
```

### Лучшие практики
- Покрывайте граничные условия
- Используйте моки и стабы для внешних зависимостей
- Следите за покрытием кода
- Пишите понятные названия тестов
- Используйте принцип AAA (Arrange, Act, Assert)

## Связанные темы
- [[Интеграционные-тесты]]
- [[Тестирование-компонентов]]
- [[TDD]]
- [[Mock-объекты]]

> [!tip] Совет
> Используйте [[Testing Library]] для тестирования компонентов, так как он фокусируется на поведении, а не на деталях реализации.

> [!warning] Важно
> Не пытайтесь достичь 100% покрытия кода. Качество тестов важнее количества.

## Заключение
Unit-тесты — это основа надежной фронтенд-архитектуры. Они обеспечивают уверенность в корректности работы отдельных модулей и позволяют безопасно вносить изменения в код.