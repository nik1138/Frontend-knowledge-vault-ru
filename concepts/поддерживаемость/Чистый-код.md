---
aliases: ["Чистый код", "Clean Code"]
tags: [programming, best-practices, maintainability, code-quality]
---

# Чистый-код

## Обзор

Чистый код (Clean Code) - это подход к написанию программного обеспечения, при котором код легко читается, понимается и поддерживается. Это ключевой аспект [[Поддерживаемость]] программного обеспечения, который влияет на долгосрочную стоимость проекта и эффективность команды разработчиков.

Чистый код должен быть:
- **Читаемым** - любой разработчик должен легко понять, что делает код
- **Предсказуемым** - поведение кода должно быть очевидным
- **Тестируемым** - код должен быть легко тестируемым
- **Поддерживаемым** - изменения в коде должны быть безопасными и простыми

## Принципы чистого кода

### Именование

Хорошее именование - один из самых важных аспектов чистого кода. Имена должны быть:
- **Выразительными** - отражать суть переменной или функции
- **Единообразными** - следовать одинаковым конвенциям в проекте
- **Без сокращений** - избегать неочевидных сокращений

```javascript
// Плохо
const d = new Date();
const u = getUser();
const processData = (data) => {
  // ...
};

// Хорошо
const currentDate = new Date();
const currentUser = getUser();
const processUserData = (userData) => {
  // ...
};
```

### Функции

Функции должны быть:
- **Маленькими** - не более 20-30 строк
- **Одного назначения** - выполнять только одну задачу
- **Предсказуемыми** - не иметь побочных эффектов

```javascript
// Плохо
function calculateOrderTotal(items, discount, tax, shipping) {
  let total = 0;
  for (let i = 0; i < items.length; i++) {
    total += items[i].price * items[i].quantity;
  }
  
  if (discount > 0) {
    total = total - (total * discount);
  }
  
  total = total + (total * tax);
  total = total + shipping;
  
  return total;
}

// Хорошо
function calculateSubtotal(items) {
  return items.reduce((sum, item) => sum + item.price * item.quantity, 0);
}

function applyDiscount(subtotal, discount) {
  return subtotal - (subtotal * discount);
}

function applyTax(amount, taxRate) {
  return amount + (amount * taxRate);
}

function addShipping(amount, shippingCost) {
  return amount + shippingCost;
}

function calculateOrderTotal(items, discount, tax, shipping) {
  let total = calculateSubtotal(items);
  total = applyDiscount(total, discount);
  total = applyTax(total, tax);
  total = addShipping(total, shipping);
  return total;
}
```

### Комментарии

Комментарии должны:
- **Объяснять "почему"**, а не "что"
- **Быть точными и актуальными**
- **Избегать очевидного**

```javascript
// Плохо
// Увеличиваем счетчик
counter++; // Увеличиваем счетчик

// Хорошо
// Увеличиваем счетчик для отслеживания количества успешных запросов
successfulRequestsCount++;
```

## Структура кода

### Модули и классы

Следуйте принципу единственной ответственности (SRP):
- Каждый модуль или класс должен иметь одну причину для изменения
- Избегайте больших классов с множественными обязанностями

```javascript
// Плохо
class UserManagement {
  authenticate(username, password) { /* ... */ }
  validateUserData(userData) { /* ... */ }
  sendEmail(email) { /* ... */ }
  saveToDatabase(user) { /* ... */ }
  generateReport() { /* ... */ }
}

// Хорошо
class UserAuthentication {
  authenticate(username, password) { /* ... */ }
}

class UserDataValidator {
  validate(userData) { /* ... */ }
}

class EmailService {
  send(email) { /* ... */ }
}
```

### Организация файлов

- Используйте последовательную структуру проекта
- Разделяйте код по функциональности
- Используйте осмысленные имена файлов

## Обработка ошибок

Чистый код должен корректно обрабатывать ошибки:

```javascript
// Плохо
function fetchUserData(userId) {
  const response = fetch(`/api/users/${userId}`);
  const data = response.json();
  return data;
}

// Хорошо
async function fetchUserData(userId) {
  try {
    const response = await fetch(`/api/users/${userId}`);
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('Error fetching user data:', error);
    throw error;
  }
}
```

## Тестирование

Чистый код должен быть легко тестируемым:

```javascript
// Плохо - трудно тестировать из-за зависимости от глобального состояния
function calculateTax(amount) {
  return amount * window.taxRate;
}

// Хорошо - легко тестировать с инъекцией зависимости
function calculateTax(amount, taxRate) {
  return amount * taxRate;
}
```

## Код-ревью и стандарты

- Регулярно проводите код-ревью
- Используйте линтеры и форматтеры
- Создайте и следуйте стандартам кодирования команды

## Ссылки

- [[Документирование-кода]]
- [[Рефакторинг]]
- [[Поддерживаемость]]
- [[Управление-зависимостями]]
- [[Best Practices]]

> [!tip] Совет
> Используйте инструменты автоматизации, такие как ESLint, Prettier, и Husky для git hooks, чтобы поддерживать чистоту кода на постоянной основе.

> [!warning] Важно
> Чистый код - это не про идеальность с первого раза, а про постоянное стремление к улучшению и поддерживаемости.