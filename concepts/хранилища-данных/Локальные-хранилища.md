---
aliases: [LocalStorage, SessionStorage, Локальное хранилище, Сессионное хранилище]
tags: [frontend, storage, web-api, javascript]
---

# Локальные хранилища

## Введение

Локальные хранилища (Local Storage и Session Storage) - это веб-API, предоставляемые браузерами для хранения данных на стороне клиента. Эти хранилища позволяют сохранять данные в формате ключ-значение, что делает их удобными для хранения настроек пользователя, состояния приложения и других небольших объемов данных.

## Local Storage

Local Storage позволяет сохранять данные в браузере без срока истечения. Данные, сохраненные в Local Storage, остаются там даже после закрытия браузера и будут доступны при следующем открытии страницы.

### Основные методы Local Storage

- `localStorage.setItem(key, value)` - сохраняет пару ключ-значение
- `localStorage.getItem(key)` - получает значение по ключу
- `localStorage.removeItem(key)` - удаляет значение по ключу
- `localStorage.clear()` - удаляет все данные из хранилища
- `localStorage.key(index)` - возвращает ключ по индексу

### Пример использования Local Storage

```javascript
// Сохранение данных
localStorage.setItem('username', 'john_doe');
localStorage.setItem('preferences', JSON.stringify({theme: 'dark', lang: 'ru'}));

// Получение данных
const username = localStorage.getItem('username');
const preferences = JSON.parse(localStorage.getItem('preferences'));

// Удаление данных
localStorage.removeItem('username');

// Очистка хранилища
localStorage.clear();
```

## Session Storage

Session Storage похож на Local Storage, но данные в нем сохраняются только на время сессии вкладки браузера. Как только пользователь закрывает вкладку, данные удаляются.

### Основные методы Session Storage

- `sessionStorage.setItem(key, value)` - сохраняет пару ключ-значение
- `sessionStorage.getItem(key)` - получает значение по ключу
- `sessionStorage.removeItem(key)` - удаляет значение по ключу
- `sessionStorage.clear()` - удаляет все данные из хранилища

### Пример использования Session Storage

```javascript
// Сохранение данных
sessionStorage.setItem('form-data', JSON.stringify({name: 'John', email: 'john@example.com'}));

// Получение данных
const formData = JSON.parse(sessionStorage.getItem('form-data'));

// Удаление данных
sessionStorage.removeItem('form-data');
```

## Ограничения и особенности

- Объем хранилища обычно ограничен 5-10 МБ в зависимости от браузера
- Данные хранятся в формате строк, для хранения объектов необходимо использовать JSON.stringify/JSON.parse
- Доступ к хранилищу ограничен доменом (same-origin policy)
- Данные не передаются на сервер автоматически

## Преимущества

- Простота использования
- Синхронный доступ к данным
- Не зависит от подключения к интернету
- Поддерживается всеми современными браузерами

## Недостатки

- Ограниченный объем хранилища
- Синхронная работа может замедлить выполнение скриптов при работе с большими объемами данных
- Данные доступны в JavaScript, что может быть уязвимостью с точки зрения безопасности
- Данные не шифруются

## Практические рекомендации

- Используйте Local Storage для данных, которые должны сохраняться между сессиями (например, настройки пользователя)
- Используйте Session Storage для временных данных, связанных с текущей сессией (например, данные формы)
- Всегда проверяйте наличие поддержки API перед использованием
- Обрабатывайте ошибки при работе с хранилищем (например, при превышении лимита объема)

```javascript
// Проверка поддержки Local Storage
function supportsLocalStorage() {
  try {
    const test = '__storage_test__';
    localStorage.setItem(test, test);
    localStorage.removeItem(test);
    return true;
  } catch(e) {
    return false;
  }
}

// Использование с проверкой поддержки
if (supportsLocalStorage()) {
  localStorage.setItem('feature_enabled', 'true');
} else {
  console.warn('Local Storage не поддерживается');
}
```

## Связанные темы

- [[Сетевые-хранилища]]
- [[Индексированные-хранилища]]
- [[Временные-хранилища]]
- [[Сравнение-хранилищ]]

## Заключение

Локальные хранилища предоставляют простой способ хранения данных на стороне клиента. Они особенно полезны для хранения настроек пользователя, состояния приложения и других небольших объемов данных, которые должны сохраняться между сессиями или в течение одной сессии. При правильном использовании они могут значительно улучшить пользовательский опыт веб-приложения.