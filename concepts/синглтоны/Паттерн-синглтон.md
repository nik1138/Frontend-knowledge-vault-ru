---
aliases: ["Singleton", "Паттерн Singleton", "Синглтон", "Одиночка"]
tags: [programming/patterns, frontend, javascript, design-patterns]
---

# Паттерн Синглтон (Singleton)

## Обзор

Паттерн **Синглтон** (или **Одиночка**) - это порождающий паттерн проектирования, который гарантирует, что у класса есть только один экземпляр, и предоставляет глобальную точку доступа к этому экземпляру. Он особенно полезен в ситуациях, когда необходимо контролировать доступ к общему ресурсу или координировать действия в системе.

## Назначение

Синглтон используется, когда:
- Необходимо гарантировать, что существует только один экземпляр класса
- Предоставить глобальную точку доступа к этому экземпляру
- Контролировать доступ к общему ресурсу (например, к базе данных, логгеру, кэшу)
- Управление состоянием приложения

## Принципы реализации

Ключевые принципы паттерна Синглтон:

1. **Закрытый конструктор** - предотвращает создание экземпляров класса извне
2. **Статическая переменная** - хранит единственный экземпляр класса
3. **Статический метод получения экземпляра** - предоставляет доступ к единственному экземпляру

## Структура

```javascript
class Singleton {
    constructor() {
        if (Singleton.instance) {
            return Singleton.instance;
        }
        
        // Инициализация экземпляра
        this.data = {};
        
        Singleton.instance = this;
        return this;
    }
}
```

## Преимущества

- **Гарантированный единственный экземпляр** - контролирует количество экземпляров
- **Глобальная точка доступа** - легко доступен из любой части приложения
- **Ленивая инициализация** - экземпляр создается только при первом обращении
- **Контроль ресурсов** - предотвращает дублирование ресурсов

## Недостатки

- **Нарушение принципа единой ответственности** - отвечает за создание и управление экземпляром
- **Проблемы с тестированием** - трудности с мокированием и изоляцией
- **Создание скрытых зависимостей** - может привести к неочевидным связям в коде
- **Проблемы с многопоточностью** - требует синхронизации в многопоточных средах

## Практическое применение

### В браузерных приложениях:
- Управление сессией пользователя
- Логирование
- Кэширование данных
- Управление состоянием приложения
- Настройки приложения

### В Node.js:
- Подключения к базе данных
- Управление конфигурацией
- Менеджеры очередей

## Сравнение с другими паттернами

| Паттерн | Назначение | Отличие от Singleton |
|---------|------------|---------------------|
| [[Модульный паттерн]] | Инкапсуляция и организация кода | Не гарантирует единственность экземпляра |
| [[Фабричный паттерн]] | Создание объектов | Может создавать несколько экземпляров |
| [[Наблюдатель (Observer)]] | Уведомление об изменениях | Не связан с созданием экземпляров |

## Заключение

Паттерн Синглтон может быть полезным инструментом в арсенале разработчика, особенно при необходимости контроля над ресурсами и состоянием приложения. Однако его следует использовать с осторожностью, учитывая потенциальные проблемы с тестируемостью и архитектурой приложения.

Следует помнить, что во многих случаях можно использовать более гибкие альтернативы, такие как [[Инверсия управления (IoC)]] или [[Зависимости через внедрение (DI)]], которые обеспечивают лучшую тестируемость и модульность кода.

## См. также

- [[Реализация-в-JavaScript]]
- [[Использование-в-React]]
- [[Использование-в-Vue]]
- [[Проблемы-и-альтернативы]]
- [[Модульный паттерн]]
- [[Фабричный паттерн]]
- [[Наблюдатель (Observer)]]