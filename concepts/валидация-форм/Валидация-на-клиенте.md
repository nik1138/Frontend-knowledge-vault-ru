---
aliases: ["Клиентская валидация", "Валидация на стороне клиента", "Frontend validation"]
tags: ["#validation", "#frontend", "#security", "#user-experience"]
---

# Валидация на клиенте

**Валидация на клиенте** - это процесс проверки данных формы непосредственно в браузере пользователя до отправки данных на сервер. Это первый уровень защиты и удобства использования, обеспечивающий мгновенную обратную связь пользователю.

## Общие сведения

Валидация на клиенте реализуется с помощью JavaScript и встроенных возможностей HTML. Она не заменяет серверную валидацию, но улучшает пользовательский опыт и снижает нагрузку на сервер, предотвращая отправку заведомо некорректных данных.

## Преимущества клиентской валидации

- **Мгновенная обратная связь**: Пользователь сразу видит ошибки без перезагрузки страницы
- **Улучшенный UX**: Повышает удобство использования формы
- **Экономия ресурсов**: Снижает количество ненужных запросов к серверу
- **Раннее обнаружение ошибок**: Позволяет выявить простые ошибки до отправки данных

## Недостатки и ограничения

- **Не обеспечивает безопасность**: Клиентский код может быть изменен или отключен
- **Не заменяет серверную валидацию**: Все проверки должны повторяться на сервере
- **Зависимость от JavaScript**: Может не работать при отключенном JS

## Встроенные HTML-валидаторы

HTML5 предоставляет встроенные возможности валидации:

```html
<form>
  <input type="email" required placeholder="Email" />
  <input type="text" minlength="3" maxlength="20" required placeholder="Имя" />
  <input type="password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" 
         title="Пароль должен содержать не менее 8 символов, включая одну заглавную, строчную букву и цифру" />
  <button type="submit">Отправить</button>
</form>
```

## JavaScript-валидация

Более гибкий подход с использованием JavaScript:

```javascript
const form = document.getElementById('myForm');

form.addEventListener('submit', function(e) {
  e.preventDefault();
  
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;
  
  let isValid = true;
  
  // Валидация email
  if (!isValidEmail(email)) {
    showError('email', 'Введите корректный email');
    isValid = false;
  } else {
    clearError('email');
  }
  
  // Валидация пароля
  if (!isValidPassword(password)) {
    showError('password', 'Пароль не соответствует требованиям');
    isValid = false;
  } else {
    clearError('password');
  }
  
  if (isValid) {
    // Отправка формы
    submitForm();
  }
});

function isValidEmail(email) {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}

function isValidPassword(password) {
  const minLength = 8;
  const hasUpperCase = /[A-Z]/.test(password);
  const hasLowerCase = /[a-z]/.test(password);
  const hasNumbers = /\d/.test(password);
  
  return password.length >= minLength && hasUpperCase && hasLowerCase && hasNumbers;
}

function showError(fieldId, message) {
  const field = document.getElementById(fieldId);
  const errorElement = document.getElementById(fieldId + '-error');
  
  field.classList.add('error');
  errorElement.textContent = message;
}

function clearError(fieldId) {
  const field = document.getElementById(fieldId);
  const errorElement = document.getElementById(fieldId + '-error');
  
  field.classList.remove('error');
  errorElement.textContent = '';
}
```

## Живая валидация (на лету)

Валидация в реальном времени улучшает UX:

```javascript
const inputs = document.querySelectorAll('input[data-validate]');
inputs.forEach(input => {
  input.addEventListener('blur', validateField);
  input.addEventListener('input', clearFieldError);
});

function validateField(e) {
  const field = e.target;
  const value = field.value;
  const validationType = field.dataset.validate;
  
  let isValid = true;
  let errorMessage = '';
  
  switch (validationType) {
    case 'email':
      isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
      errorMessage = 'Введите корректный email';
      break;
    case 'phone':
      isValid = /^[\+]?[1-9][\d]{0,15}$/.test(value.replace(/[\s\-\(\)]/g, ''));
      errorMessage = 'Введите корректный номер телефона';
      break;
    case 'required':
      isValid = value.trim() !== '';
      errorMessage = 'Поле обязательно для заполнения';
      break;
  }
  
  if (!isValid) {
    showError(field.id, errorMessage);
  } else {
    clearError(field.id);
  }
}

function clearFieldError(e) {
  const field = e.target;
  if (field.value.trim() !== '') {
    clearError(field.id);
  }
}
```

## Популярные библиотеки валидации

### Yup + Formik

```javascript
import * as Yup from 'yup';

const validationSchema = Yup.object({
  email: Yup.string()
    .email('Некорректный email')
    .required('Email обязателен'),
  password: Yup.string()
    .min(8, 'Пароль должен быть не менее 8 символов')
    .required('Пароль обязателен'),
  confirmPassword: Yup.string()
    .oneOf([Yup.ref('password'), null], 'Пароли должны совпадать')
    .required('Подтверждение пароля обязательно')
});
```

### Joi

```javascript
const schema = Joi.object({
  username: Joi.string().alphanum().min(3).max(30).required(),
  password: Joi.string().pattern(new RegExp('^[a-zA-Z0-9]{3,30}$')),
  email: Joi.string().email({ tlds: { allow: false } })
});
```

## Лучшие практики

- **Всегда дублировать валидацию на сервере** - клиентская валидация не обеспечивает безопасность
- **Предоставлять понятные сообщения об ошибках** - пользователь должен понимать, что именно неправильно
- **Использовать живую валидацию умеренно** - не раздражать пользователя частыми проверками
- **Обеспечивать доступность** - сообщения об ошибках должны быть доступны для скринридеров
- **Визуально выделять ошибки** - использовать цвета, иконки и анимации для привлечения внимания

## Связанные темы

- [[Валидация-на-сервере]]
- [[Валидация-в-React]]
- [[Валидация-в-Vue]]
- [[Валидация-в-Svelte]]
- [[UX-валидация-форм]]
- [[Безопасность-веб-приложений]]

## Теги

#validation #frontend #javascript #security #user-experience #forms #web-development