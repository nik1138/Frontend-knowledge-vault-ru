---
aliases: [Объекты, Массивы, Коллекции, Структуры данных]
tags: [programming, fundamentals, javascript, objects, arrays, data-structures]
---

# Объекты и массивы

## Введение

Объекты и массивы — это основные структуры данных в JavaScript, которые позволяют организовывать и хранить информацию. Они являются фундаментом для создания сложных приложений и управления состоянием.

## Объекты

Объект — это коллекция пар "ключ-значение", где ключи являются строками (или символами), а значения могут быть любого типа данных.

### Создание объектов

```javascript
// Литерал объекта (наиболее распространенный способ)
const person = {
  name: "Алексей",
  age: 30,
  isMarried: false,
  hobbies: ["чтение", "плавание"],
  address: {
    city: "Москва",
    street: "Тверская"
  }
};

// Конструктор Object
const anotherPerson = new Object();
anotherPerson.name = "Мария";
anotherPerson.age = 25;

// Функция-конструктор
function User(name, email) {
  this.name = name;
  this.email = email;
  this.isActive = true;
}

const user = new User("Иван", "ivan@example.com");
```

### Доступ к свойствам объекта

```javascript
const car = {
  brand: "Toyota",
  model: "Camry",
  year: 2022,
  "max-speed": 200 // свойство с дефисом в названии
};

// Доступ через точку
console.log(car.brand); // "Toyota"

// Доступ через квадратные скобки
console.log(car["model"]); // "Camry"
console.log(car["max-speed"]); // 200

// Динамический доступ
const property = "year";
console.log(car[property]); // 2022
```

### Методы объекта

```javascript
const calculator = {
  value: 0,
  
  add: function(num) {
    this.value += num;
    return this; // для цепочки вызовов
  },
  
  subtract: function(num) {
    this.value -= num;
    return this;
  },
  
  getValue: function() {
    return this.value;
  }
};

calculator.add(10).subtract(3);
console.log(calculator.getValue()); // 7
```

### Деструктуризация объектов

```javascript
const user = {
  name: "Елена",
  age: 28,
  email: "elena@example.com",
  city: "Санкт-Петербург"
};

// Деструктуризация
const { name, age, email } = user;
console.log(name); // "Елена"

// Переименование переменных
const { name: userName, email: userEmail } = user;
console.log(userName); // "Елена"

// Значения по умолчанию
const { name: n, country = "Россия" } = user;
console.log(country); // "Россия"
```

### Методы объекта Object

```javascript
const obj = { a: 1, b: 2, c: 3 };

// Получение ключей
console.log(Object.keys(obj)); // ["a", "b", "c"]

// Получение значений
console.log(Object.values(obj)); // [1, 2, 3]

// Получение пар ключ-значение
console.log(Object.entries(obj)); // [["a", 1], ["b", 2], ["c", 3]]

// Объединение объектов
const defaults = { theme: "light", lang: "ru" };
const userSettings = { theme: "dark" };
const finalSettings = Object.assign({}, defaults, userSettings);
// { theme: "dark", lang: "ru" }

// Синтаксис spread для объединения
const merged = { ...defaults, ...userSettings };
```

## Массивы

Массив — это упорядоченная коллекция элементов, доступ к которым осуществляется по индексу (целое число, начиная с 0).

### Создание массивов

```javascript
// Литерал массива
const fruits = ["яблоко", "банан", "апельсин"];

// Конструктор Array
const numbers = new Array(1, 2, 3, 4, 5);
const emptyArray = new Array(5); // массив из 5 пустых элементов

// Из других итерируемых объектов
const fromString = Array.from("hello"); // ["h", "e", "l", "l", "o"]
const fromSet = Array.from(new Set([1, 2, 3])); // [1, 2, 3]
```

### Основные методы массивов

```javascript
const numbers = [1, 2, 3, 4, 5];

// Добавление/удаление элементов
numbers.push(6);        // добавить в конец
numbers.unshift(0);     // добавить в начало
numbers.pop();          // удалить с конца
numbers.shift();        // удалить с начала

// Доступ к элементам
console.log(numbers[0]);    // первый элемент
console.log(numbers.at(-1)); // последний элемент (ES2022)

// Изменение массива
numbers.splice(2, 1, "новый"); // заменить элемент по индексу 2
const slice = numbers.slice(1, 3); // копия части массива
```

### Методы перебора массивов

```javascript
const users = [
  { name: "Анна", age: 25, active: true },
  { name: "Борис", age: 30, active: false },
  { name: "Света", age: 28, active: true }
];

// forEach - выполнить действие для каждого элемента
users.forEach(user => console.log(user.name));

// map - создать новый массив на основе старого
const userNames = users.map(user => user.name);
// ["Анна", "Борис", "Света"]

// filter - отфильтровать элементы
const activeUsers = users.filter(user => user.active);
// [{ name: "Анна", age: 25, active: true }, { name: "Света", age: 28, active: true }]

// find - найти первый элемент, соответствующий условию
const firstInactive = users.find(user => !user.active);
// { name: "Борис", age: 30, active: false }

// some - проверить, есть ли хотя бы один элемент, соответствующий условию
const hasInactive = users.some(user => !user.active); // true

// every - проверить, все ли элементы соответствуют условию
const allActive = users.every(user => user.active); // false

// reduce - преобразовать массив в одно значение
const totalAge = users.reduce((sum, user) => sum + user.age, 0);
// 83
```

### Деструктуризация массивов

```javascript
const colors = ["красный", "зеленый", "синий"];

// Деструктуризация
const [first, second, third] = colors;
console.log(first); // "красный"

// Пропуск элементов
const [a, , c] = colors; // пропускаем "зеленый"
console.log(c); // "синий"

// Остаточные элементы
const [firstColor, ...otherColors] = colors;
console.log(otherColors); // ["зеленый", "синий"]

// Значения по умолчанию
const [x, y = 10, z = 20] = [5];
console.log(y); // 10
console.log(z); // 20
```

## Практические рекомендации

### Работа с объектами

```javascript
// Используйте Object.freeze для создания неизменяемых объектов
const config = Object.freeze({
  apiUrl: "https://api.example.com",
  timeout: 5000
});

// Проверка наличия свойства
if ('property' in obj) {
  // свойство существует
}

// Проверка собственного свойства
if (obj.hasOwnProperty('property')) {
  // свойство принадлежит объекту, а не прототипу
}

// Безопасный доступ к вложенным свойствам
const userName = user?.profile?.name || "Аноним";
```

### Работа с массивами

```javascript
// Проверка, является ли значение массивом
if (Array.isArray(someValue)) {
  // обработка массива
}

// Копирование массива
const copy1 = [...originalArray];
const copy2 = Array.from(originalArray);
const copy3 = originalArray.slice();

// Объединение массивов
const combined = [...array1, ...array2, ...array3];

// Удаление дубликатов
const unique = [...new Set(originalArray)];
```

## Современные подходы в фронтенд-разработке

### Использование объектов для управления состоянием

```javascript
// Объект для управления состоянием компонента
const state = {
  user: null,
  loading: false,
  error: null,
  
  setUser(userData) {
    this.user = userData;
    this.loading = false;
  },
  
  setLoading() {
    this.loading = true;
    this.error = null;
  },
  
  setError(message) {
    this.error = message;
    this.loading = false;
  }
};
```

### Методы массивов в компонентах

```javascript
// В React компоненте
function UserList({ users }) {
  const activeUsers = users.filter(user => user.active);
  const userElements = activeUsers.map(user => (
    <div key={user.id}>{user.name}</div>
  ));
  
  return <div>{userElements}</div>;
}
```

### Иммутабельность

```javascript
// Создание новых объектов вместо изменения существующих
const updateUser = (users, userId, newData) => {
  return users.map(user => 
    user.id === userId ? { ...user, ...newData } : user
  );
};

// Создание новых массивов вместо изменения существующих
const addItem = (items, newItem) => {
  return [...items, newItem];
};

const removeItem = (items, itemId) => {
  return items.filter(item => item.id !== itemId);
};
```

## Российские реалии и особенности

При работе с российскими проектами:

- Учитывайте сортировку кириллических строк
- Обрабатывайте российские форматы дат и чисел
- Соблюдайте требования к хранению персональных данных

```javascript
// Сортировка с учетом кириллицы
const cities = ["Москва", "Санкт-Петербург", "Новосибирск", "Екатеринбург"];
cities.sort((a, b) => a.localeCompare(b, 'ru-RU'));

// Форматирование российских чисел и дат
const formatRussianNumber = (num) => {
  return new Intl.NumberFormat('ru-RU').format(num);
};

const formatRussianDate = (date) => {
  return new Intl.DateTimeFormat('ru-RU', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  }).format(date);
};

// Работа с массивом объектов, содержащих российские данные
const russianUsers = [
  { name: "Иван Иванов", city: "Москва", phone: "+7 (495) 123-45-67" },
  { name: "Мария Смирнова", city: "Санкт-Петербург", phone: "+7 (812) 123-45-67" }
];
```

## Заключение

Объекты и массивы — основные структуры данных в JavaScript, которые используются повсеместно. Современные фронтенд-фреймворки активно используют эти структуры для управления состоянием и отображения данных.

> [!tip] Совет
> Используйте методы массивов (map, filter, reduce) вместо циклов for для более функционального подхода.

> [!warning] Важно
> Следите за иммутабельностью данных, особенно при работе с фреймворками, такими как React.

## См. также

- [[Переменные-и-типы-данных]]
- [[Функции]]
- [[Область-видимости]]
- [[Иммутабельность]]