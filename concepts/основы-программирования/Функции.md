---
aliases: [Функции, Функциональное программирование, Объявление функций, Вызов функций]
tags: [programming, fundamentals, javascript, functions, functional-programming]
---

# Функции

## Введение

Функции — это фундаментальный строительный блок программирования, который позволяет группировать код, выполняющий определенную задачу, и многократно его использовать. Функции делают код более организованным, читаемым и поддерживаемым.

## Что такое функции

Функция — это блок кода, который может быть вызван по имени, может принимать параметры и может возвращать значение. Функции позволяют избежать дублирования кода и улучшают его структуру.

## Объявление функций

### Функциональное выражение (Function Declaration)

```javascript
// Обычное объявление функции
function greet(name) {
  return `Привет, ${name}!`;
}

// Вызов функции
console.log(greet("Анна")); // "Привет, Анна!"
```

### Функциональное выражение (Function Expression)

```javascript
// Функциональное выражение
const multiply = function(a, b) {
  return a * b;
};

// Вызов функции
console.log(multiply(5, 3)); // 15
```

### Стрелочные функции (Arrow Functions)

```javascript
// Стрелочная функция
const square = (x) => x * x;
const add = (a, b) => a + b;
const greet = name => `Привет, ${name}!`; // для одного параметра скобки не обязательны
const doNothing = () => {}; // для функции без параметров нужны скобки

console.log(square(4)); // 16
console.log(add(2, 3)); // 5
```

## Параметры функций

### Обычные параметры

```javascript
function createUser(name, age, email) {
  return {
    name: name,
    age: age,
    email: email
  };
}
```

### Параметры по умолчанию

```javascript
function createUser(name, age = 18, email = "example@example.com") {
  return {
    name,
    age,
    email
  };
}

// Вызов функции с параметрами по умолчанию
console.log(createUser("Иван")); 
// { name: "Иван", age: 18, email: "example@example.com" }
```

### Остаточные параметры (Rest Parameters)

```javascript
function sum(...numbers) {
  return numbers.reduce((total, num) => total + num, 0);
}

console.log(sum(1, 2, 3, 4, 5)); // 15
console.log(sum(10, 20)); // 30
```

## Возвращаемые значения

Функции могут возвращать любые типы данных, включая другие функции:

```javascript
// Функция возвращает число
function getAge() {
  return 25;
}

// Функция возвращает объект
function getUserInfo() {
  return {
    name: "Мария",
    age: 28,
    role: "разработчик"
  };
}

// Функция возвращает другую функцию
function createMultiplier(factor) {
  return function(number) {
    return number * factor;
  };
}

const double = createMultiplier(2);
console.log(double(5)); // 10
```

## Область видимости функций

```javascript
let globalVar = "Я глобальная переменная";

function demonstrateScope() {
  let localVar = "Я локальная переменная";
  
  console.log(globalVar); // "Я глобальная переменная"
  console.log(localVar);  // "Я локальная переменная"
  
  function innerFunction() {
    console.log("Вложенная функция может получить доступ к внешним переменным");
    console.log(globalVar); // "Я глобальная переменная"
    console.log(localVar);  // "Я локальная переменная"
  }
  
  innerFunction();
}

demonstrateScope();
// console.log(localVar); // Ошибка! localVar не определена в этой области видимости
```

## Замыкания (Closures)

Замыкание — это функция, которая запоминает переменные из внешней области видимости, даже когда внешняя функция завершена:

```javascript
function createCounter() {
  let count = 0;
  
  return function() {
    count++;
    return count;
  };
}

const counter = createCounter();
console.log(counter()); // 1
console.log(counter()); // 2
console.log(counter()); // 3

// Каждый счетчик независим
const anotherCounter = createCounter();
console.log(anotherCounter()); // 1
console.log(counter()); // 4
```

## Практические рекомендации

### Именование функций

- Используйте глаголы для именования функций
- Делайте имена описательными
- Следуйте соглашениям о стиле (camelCase)

```javascript
// Хорошо
function calculateTotalPrice(items) { /* ... */ }
function validateEmail(email) { /* ... */ }
function getUserProfile(userId) { /* ... */ }

// Плохо
function calc(x) { /* ... */ }
function doStuff() { /* ... */ }
function func123() { /* ... */ }
```

### Длина функций

- Функции должны быть компактными и выполнять одну задачу
- Идеально, если функция помещается в один экран
- Если функция слишком длинная, подумайте о разделении на несколько

```javascript
// Хорошо - компактная функция
function formatPrice(price) {
  return new Intl.NumberFormat('ru-RU', {
    style: 'currency',
    currency: 'RUB'
  }).format(price);
}

// Плохо - слишком длинная функция
function processOrder(order) {
  // 50 строк кода, выполняющего множество задач
  // ...
}
```

### Чистые функции

Чистая функция — это функция, которая:
- Всегда возвращает одинаковый результат для одинаковых аргументов
- Не имеет побочных эффектов (не изменяет внешнее состояние)

```javascript
// Чистая функция
function add(a, b) {
  return a + b;
}

// Нечистая функция (зависит от внешнего состояния)
let taxRate = 0.1;
function calculateTax(amount) {
  return amount * taxRate; // зависит от внешней переменной
}
```

## Современные подходы в фронтенд-разработке

### Функции высшего порядка

Функции высшего порядка принимают другие функции как аргументы или возвращают их:

```javascript
// Функция высшего порядка
function withLogging(fn) {
  return function(...args) {
    console.log(`Вызов функции с аргументами: ${args}`);
    const result = fn.apply(this, args);
    console.log(`Результат: ${result}`);
    return result;
  };
}

const loggedAdd = withLogging((a, b) => a + b);
loggedAdd(2, 3); // Логирование вызова и результата
```

### Колбэк-функции

```javascript
// Использование колбэков
function processData(data, callback) {
  // обработка данных
  const result = data.map(item => item * 2);
  callback(result);
}

processData([1, 2, 3], (result) => {
  console.log(result); // [2, 4, 6]
});
```

### Мемоизация

```javascript
// Функция для мемоизации
function memoize(fn) {
  const cache = new Map();
  
  return function(...args) {
    const key = JSON.stringify(args);
    
    if (cache.has(key)) {
      return cache.get(key);
    }
    
    const result = fn.apply(this, args);
    cache.set(key, result);
    return result;
  };
}

const expensiveFunction = memoize((n) => {
  // дорогостоящая операция
  return n * n;
});
```

## Российские реалии и особенности

При разработке для российского рынка:

- Учитывайте локализацию в функциях
- Обрабатывайте кириллические строки
- Соблюдайте требования к обработке персональных данных

```javascript
// Функция с учетом российской локализации
function formatRussianDate(date) {
  return new Intl.DateTimeFormat('ru-RU', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    weekday: 'long'
  }).format(date);
}

// Функция для проверки российского ИНН
function validateRussianInn(inn) {
  if (!/^\d{10}$|^\d{12}$/.test(inn)) {
    return false;
  }
  
  // Логика проверки контрольных цифр
  // ...
  return true;
}
```

## Заключение

Функции — мощный инструмент для структурирования кода и повторного использования логики. Современные фронтенд-фреймворки активно используют функциональные подходы, особенно в React с хуками.

> [!tip] Совет
> Создавайте функции, которые выполняют одну конкретную задачу. Это упрощает тестирование и повторное использование.

> [!warning] Важно
> Избегайте создания функций с побочными эффектами, когда это возможно, для улучшения предсказуемости кода.

## См. также

- [[Переменные-и-типы-данных]]
- [[Объекты-и-массивы]]
- [[Область-видимости]]
- [[Хуки]]