---
aliases: [Управляющие конструкции, Условия, Циклы, Ветвления]
tags: [programming, fundamentals, javascript, control-structures, conditionals, loops]
---

# Управляющие конструкции

## Введение

Управляющие конструкции позволяют изменять порядок выполнения инструкций в программе в зависимости от различных условий. Это основа логики программ, позволяющая создавать динамическое поведение.

## Условные конструкции

### if...else

Конструкция `if...else` позволяет выполнять разные блоки кода в зависимости от истинности условия.

```javascript
let age = 18;

if (age >= 18) {
  console.log("Пользователь совершеннолетний");
} else {
  console.log("Пользователь несовершеннолетний");
}

// Множественные условия
let score = 85;

if (score >= 90) {
  console.log("Отлично!");
} else if (score >= 80) {
  console.log("Хорошо!");
} else if (score >= 70) {
  console.log("Удовлетворительно");
} else {
  console.log("Неудовлетворительно");
}
```

### Тернарный оператор

Тернарный оператор — это краткая форма условной конструкции, полезная для простых условий.

```javascript
let temperature = 25;
let weather = temperature > 20 ? "тепло" : "холодно";
console.log(`Сейчас ${weather}`); // "Сейчас тепло"

// Множественные условия
let userRole = "admin";
let accessLevel = userRole === "admin" ? 3 : userRole === "moderator" ? 2 : 1;
```

### switch...case

Конструкция `switch` используется для сравнения значения с несколькими возможными вариантами.

```javascript
let dayOfWeek = "пятница";

switch (dayOfWeek) {
  case "понедельник":
    console.log("Начало недели");
    break;
  case "среда":
    console.log("Середина недели");
    break;
  case "пятница":
    console.log("Почти выходные!");
    break;
  case "суббота":
  case "воскресенье":
    console.log("Выходные дни");
    break;
  default:
    console.log("Обычный день недели");
}
```

## Циклы

### for

Цикл `for` используется для повторения блока кода определенное количество раз.

```javascript
// Классический for
for (let i = 0; i < 5; i++) {
  console.log(`Итерация ${i}`);
}

// For с массивом
const fruits = ["яблоко", "банан", "апельсин"];
for (let i = 0; i < fruits.length; i++) {
  console.log(fruits[i]);
}
```

### for...of

Цикл `for...of` используется для перебора итерируемых объектов (массивов, строк, и т.д.).

```javascript
const colors = ["красный", "зеленый", "синий"];

for (const color of colors) {
  console.log(color);
}

// Перебор строки
for (const char of "JavaScript") {
  console.log(char);
}
```

### for...in

Цикл `for...in` используется для перебора свойств объекта.

```javascript
const person = {
  name: "Анна",
  age: 28,
  city: "Москва"
};

for (const key in person) {
  if (person.hasOwnProperty(key)) {
    console.log(`${key}: ${person[key]}`);
  }
}
```

### while

Цикл `while` выполняет блок кода, пока условие истинно.

```javascript
let count = 0;

while (count < 5) {
  console.log(`Счетчик: ${count}`);
  count++;
}

// Пример с пользовательским вводом (условный)
let userInput;
while (userInput !== "выход") {
  userInput = prompt("Введите команду (или 'выход')");
  console.log(`Вы ввели: ${userInput}`);
}
```

### do...while

Цикл `do...while` похож на `while`, но гарантирует выполнение блока кода хотя бы один раз.

```javascript
let num = 10;

do {
  console.log(`Число: ${num}`);
  num--;
} while (num > 0);
```

## Управляющие операторы

### break

Оператор `break` используется для немедленного выхода из цикла или switch.

```javascript
for (let i = 0; i < 10; i++) {
  if (i === 5) {
    break; // прервать цикл при i = 5
  }
  console.log(i); // выведет 0, 1, 2, 3, 4
}

// Вложенные циклы с метками
outer: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    if (i === 1 && j === 1) {
      break outer; // выйти из внешнего цикла
    }
    console.log(`i=${i}, j=${j}`);
  }
}
```

### continue

Оператор `continue` пропускает текущую итерацию цикла и переходит к следующей.

```javascript
for (let i = 0; i < 10; i++) {
  if (i % 2 === 0) {
    continue; // пропустить четные числа
  }
  console.log(i); // выведет только нечетные: 1, 3, 5, 7, 9
}
```

## Практические рекомендации

### Использование подходящих управляющих конструкций

```javascript
// Используйте switch для множественного выбора
function getDayType(day) {
  switch (day) {
    case 0:
    case 6:
      return "выходной";
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
      return "рабочий";
    default:
      return "неизвестный";
  }
}

// Используйте тернарный оператор для простых условий
const userStatus = isLoggedIn ? "активный" : "неактивный";

// Используйте if...else для сложных условий
if (userAge >= 18 && userVerified && userAccountActive) {
  // сложная логика проверки
  allowAccess();
} else {
  denyAccess();
}
```

### Оптимизация циклов

```javascript
// Кешируйте длину массива в цикле for
const items = [/* большой массив */];
for (let i = 0, len = items.length; i < len; i++) {
  // обработка элемента
}

// Используйте более подходящие методы для массивов
const numbers = [1, 2, 3, 4, 5];

// Вместо цикла for для преобразования
const doubled = [];
for (let i = 0; i < numbers.length; i++) {
  doubled.push(numbers[i] * 2);
}

// Лучше использовать map
const doubled = numbers.map(n => n * 2);
```

### Проверка условий

```javascript
// Используйте строгое сравнение
if (value === 0) { /* ... */ }

// Проверка на null или undefined
if (value != null) { // эквивалентно value !== null && value !== undefined
  // значение существует
}

// Проверка на пустоту массива
if (array && array.length > 0) {
  // массив существует и не пуст
}

// Проверка на существование свойства
if ('property' in obj) {
  // свойство существует
}
```

## Современные подходы в фронтенд-разработке

### Условный рендеринг в React

```jsx
function UserProfile({ user, loading, error }) {
  // Использование условий для рендеринга
  if (loading) {
    return <div>Загрузка...</div>;
  }
  
  if (error) {
    return <div>Ошибка: {error.message}</div>;
  }
  
  return (
    <div>
      <h1>{user.name}</h1>
      <p>{user.email}</p>
    </div>
  );
}

// Использование тернарного оператора
function Button({ isLoggedIn, onClick }) {
  return (
    <button onClick={onClick}>
      {isLoggedIn ? 'Выйти' : 'Войти'}
    </button>
  );
}

// Логические операторы для условного рендеринга
function Notification({ showMessage, message }) {
  return (
    <div>
      {showMessage && <div className="notification">{message}</div>}
    </div>
  );
}
```

### Циклы в шаблонах

```jsx
function TodoList({ todos }) {
  return (
    <ul>
      {todos.map(todo => (
        <li key={todo.id} className={todo.completed ? 'completed' : ''}>
          {todo.text}
        </li>
      ))}
    </ul>
  );
}
```

### Обработка данных с помощью методов массивов

```javascript
// Вместо традиционных циклов часто используются методы массивов
const users = [
  { name: "Анна", age: 25, active: true },
  { name: "Борис", age: 30, active: false },
  { name: "Света", age: 28, active: true }
];

// Фильтрация и преобразование данных
const activeUserNames = users
  .filter(user => user.active)
  .map(user => user.name);

// Группировка данных
const groupedByAge = users.reduce((groups, user) => {
  const ageGroup = user.age < 30 ? 'молодые' : 'зрелые';
  groups[ageGroup] = groups[ageGroup] || [];
  groups[ageGroup].push(user);
  return groups;
}, {});
```

## Российские реалии и особенности

При разработке для российского рынка:

- Учитывайте сложные условия для разных регионов
- Обрабатывайте кириллические строки в условиях
- Учитывайте юридические требования к отображению информации

```javascript
// Пример сложной логики для российского приложения
function calculateTax(income, region, resident) {
  let taxRate = 0;
  
  // Условия в зависимости от региона
  switch (region) {
    case "Москва":
    case "СПб":
      taxRate = resident ? 0.13 : 0.30;
      break;
    case "Налоговая льгота":
      taxRate = 0.05;
      break;
    default:
      taxRate = resident ? 0.13 : 0.30;
  }
  
  return income * taxRate;
}

// Условия с кириллическими строками
function getGreeting(timeOfDay) {
  switch (timeOfDay.toLowerCase()) {
    case "утро":
      return "Доброе утро!";
    case "день":
      return "Добрый день!";
    case "вечер":
      return "Добрый вечер!";
    default:
      return "Здравствуйте!";
  }
}

// Проверка российских форматов данных
function validateRussianPhone(phone) {
  const regex = /^(\+7|8)[\s-]?\(?\d{3}\)?[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}$/;
  
  if (!regex.test(phone)) {
    return { valid: false, error: "Неверный формат российского номера телефона" };
  }
  
  return { valid: true };
}
```

## Заключение

Управляющие конструкции — основа логики программирования, позволяющая создавать сложное поведение на основе условий и повторяющихся действий. Современные фронтенд-фреймворки интегрируют эти концепции в свои системы условного рендеринга и обработки данных.

> [!tip] Совет
> Используйте методы массивов (map, filter, reduce) вместо традиционных циклов для более функционального подхода.

> [!warning] Важно
> Избегайте слишком глубокой вложенности условий и циклов для улучшения читаемости кода.

## См. также

- [[Переменные-и-типы-данных]]
- [[Операторы-и-выражения]]
- [[Функции]]
- [[Объекты-и-массивы]]