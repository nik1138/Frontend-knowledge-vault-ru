---
aliases: ["Фабричный паттерн", "Паттерн Factory", "Factory Pattern"]
tags: [pattern, factory, javascript, oop, design-patterns]
---

# Паттерн-фабрика

Паттерн-фабрика (Factory Pattern) - это порождающий паттерн проектирования, который предоставляет интерфейс для создания объектов в суперклассе, а subclasses позволяют изменять тип создаваемых объектов. Он позволяет делегировать создание объектов подклассам, что делает код более гибким и расширяемым.

## Обзор

Паттерн-фабрика решает проблему создания объектов без указания конкретных классов. Вместо этого клиентский код работает с интерфейсом или абстрактным классом, который возвращает объекты определенного типа. Это особенно полезно в JavaScript, где мы можем использовать функции для создания фабрик.

## Структура паттерна

- **Фабрика (Factory)**: Класс или функция, которая создает объекты
- **Продукт (Product)**: Объект, который создается фабрикой
- **Конкретные продукты (Concrete Products)**: Реализации продукта
- **Клиент (Client)**: Код, который использует фабрику для создания объектов

## Пример реализации на JavaScript

```javascript
// Продукт - интерфейс для создаваемых объектов
class Button {
  render() {
    throw new Error('Method render() must be implemented');
  }
  
  onClick() {
    throw new Error('Method onClick() must be implemented');
  }
}

// Конкретные продукты
class WindowsButton extends Button {
  render() {
    return '<button class="windows-btn">Windows Button</button>';
  }
  
  onClick() {
    console.log('Windows button clicked');
  }
}

class HTMLButton extends Button {
  render() {
    return '<button class="html-btn">HTML Button</button>';
  }
  
  onClick() {
    console.log('HTML button clicked');
  }
}

// Фабрика
class ButtonFactory {
  static createButton(type) {
    switch (type) {
      case 'windows':
        return new WindowsButton();
      case 'html':
        return new HTMLButton();
      default:
        throw new Error('Unknown button type');
    }
  }
}

// Использование
const windowsButton = ButtonFactory.createButton('windows');
const htmlButton = ButtonFactory.createButton('html');

console.log(windowsButton.render()); // <button class="windows-btn">Windows Button</button>
console.log(htmlButton.render());   // <button class="html-btn">HTML Button</button>
```

## Пример функциональной фабрики

```javascript
// Функциональная реализация паттерна фабрики
const createButton = (type) => {
  switch (type) {
    case 'primary':
      return {
        style: 'primary',
        render: () => '<button class="btn-primary">Primary Button</button>',
        onClick: () => console.log('Primary button clicked')
      };
    case 'secondary':
      return {
        style: 'secondary',
        render: () => '<button class="btn-secondary">Secondary Button</button>',
        onClick: () => console.log('Secondary button clicked')
      };
    default:
      throw new Error('Unknown button type');
  }
};

// Использование
const primaryBtn = createButton('primary');
console.log(primaryBtn.render());
```

## Преимущества паттерна фабрики

- **Изолирует код создания объектов**: Клиентский код не зависит от конкретных классов создаваемых объектов
- **Упрощает добавление новых типов продуктов**: Для добавления нового типа достаточно изменить фабрику
- **Поддерживает принцип открытости/закрытости**: Можно расширять функциональность без изменения существующего кода

## Недостатки паттерна фабрики

- **Увеличение количества классов**: Необходимо создавать дополнительные классы для фабрики и продуктов
- **Сложность при большом количестве продуктов**: Фабрика может стать слишком большой и сложной

## Практическое применение

Паттерн фабрика особенно полезен в следующих сценариях:

- При создании UI-компонентов для разных платформ
- При работе с API с различными провайдерами
- При необходимости создания объектов с разной логикой поведения

## Связь с другими паттернами

- [[Абстрактная фабрика]] - расширенная версия паттерна фабрика
- [[Строитель]] - позволяет создавать сложные объекты пошагово
- [[Прототип]] - создает объекты на основе прототипов

## Ключевые выводы

- Паттерн фабрика помогает изолировать процесс создания объектов
- Он особенно полезен в системах с несколькими типами схожих объектов
- В JavaScript можно реализовать как через классы, так и через функции

## См. также

- [[Функция-фабрика]]
- [[Фабрика-компонентов]]
- [[Дизайн-паттерны]]
- [[Объектно-ориентированное программирование]]

#javascript #паттерны #фабрика #oop #frontend