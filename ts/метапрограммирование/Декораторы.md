---
aliases: [Декораторы TypeScript, Аннотации]
tags: [typescript, метапрограммирование, декораторы]
---

# Декораторы в TypeScript

## Обзор

Декораторы — это особый вид объявления, который можно применить к классу, методу, свойству, параметру или аксессору. Они позволяют изменять или расширять поведение этих элементов во время выполнения. Декораторы являются экспериментальной возможностью TypeScript и требуют включения флага `experimentalDecorators` в настройках компиляции.

## Основы

Декоратор — это функция, которая вызывается с определенным набором аргументов в зависимости от того, к какому элементу он применяется. Декораторы могут быть классовыми, методовыми, свойственными, параметрическими и аксессорными.

## Примеры использования

### Классовый декоратор

```typescript
function sealed(constructor: Function) {
  Object.seal(constructor);
  Object.seal(constructor.prototype);
}

@sealed
class BugReport {
  type = 'report';
  title: string;

  constructor(t: string) {
    this.title = t;
  }
}
```

### Методовый декоратор

```typescript
function enumerable(value: boolean) {
  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    descriptor.enumerable = value;
  };
}

class Greeter {
  greeting: string;
  
  constructor(message: string) {
    this.greeting = message;
  }

  @enumerable(false)
  greet() {
    return `Hello, ${this.greeting}`;
  }
}
```

### Декоратор свойства

```typescript
function configurable(value: boolean) {
  return function (target: any, propertyKey: string) {
    const descriptor: PropertyDescriptor = {
      configurable: value
    };
    Object.defineProperty(target, propertyKey, descriptor);
  };
}

class Point {
  @configurable(false)
  name: string;
  
  constructor(name: string) {
    this.name = name;
  }
}
```

## Практическое применение

Декораторы широко используются в фреймворках Angular, NestJS и других, для внедрения зависимостей, валидации, логирования, аутентификации и других аспектов программирования.

## Связанные темы

- [[Метаданные]]
- [[Рефлексия]]
- [[Трансформеры]]

## Ключевые выводы

- Декораторы позволяют изменять поведение классов и их членов
- Для использования декораторов нужно включить `experimentalDecorators` в tsconfig
- Декораторы могут быть классовыми, методовыми, свойственными, параметрическими и аксессорными