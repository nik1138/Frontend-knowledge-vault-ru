---
aliases: [TSDoc, Документация TypeScript, TSDoc комментарии]
tags: [typescript, documentation, tsdoc, comments]
---

# TSDoc: Стандарт документирования TypeScript кода

TSDoc (TypeScript Documentation) — это стандарт для написания документации в TypeScript проектах, который обеспечивает согласованность, читаемость и поддерживаемость кода. Он представляет собой систему аннотаций и соглашений для описания API, функций, классов и других элементов кода.

## Основные понятия TSDoc

TSDoc является надмножеством JSDoc с дополнительными тегами и правилами, специально разработанными для TypeScript. Он позволяет создавать структурированную документацию, которая может быть использована для генерации справочных материалов, автодополнения в IDE и других инструментов.

### Структура TSDoc комментария

```ts
/**
 * Описание функции или элемента
 * @param имя - описание параметра
 * @returns описание возвращаемого значения
 * @throws описание возможных исключений
 */
```

## Основные теги TSDoc

### @param
Описывает параметры функции:

```ts
/**
 * Складывает два числа
 * @param a - первое слагаемое
 * @param b - второе слагаемое
 * @returns результат сложения
 */
function add(a: number, b: number): number {
  return a + b;
}
```

### @returns
Описывает возвращаемое значение функции:

```ts
/**
 * Проверяет, является ли число четным
 * @param value - число для проверки
 * @returns true, если число четное, иначе false
 */
function isEven(value: number): boolean {
  return value % 2 === 0;
}
```

### @throws
Указывает возможные исключения:

```ts
/**
 * Делит одно число на другое
 * @param dividend - делимое
 * @param divisor - делитель
 * @returns результат деления
 * @throws {Error} если делитель равен нулю
 */
function divide(dividend: number, divisor: number): number {
  if (divisor === 0) {
    throw new Error("Деление на ноль невозможно");
  }
  return dividend / divisor;
}
```

### @deprecated
Отмечает устаревшие элементы:

```ts
/**
 * @deprecated Используйте функцию calculateTotal вместо этого
 * @param items - список элементов
 * @returns общая сумма
 */
function calculateSum(items: number[]): number {
  return items.reduce((sum, item) => sum + item, 0);
}
```

### @example
Предоставляет примеры использования:

```ts
/**
 * Возвращает факториал числа
 * @param n - неотрицательное целое число
 * @returns факториал числа n
 * 
 * @example
 * ```ts
 * factorial(5); // возвращает 120
 * factorial(0); // возвращает 1
 * ```
 */
function factorial(n: number): number {
  if (n < 0) {
    throw new Error("Факториал определен только для неотрицательных чисел");
  }
  
  if (n === 0 || n === 1) {
    return 1;
  }
  
  return n * factorial(n - 1);
}
```

### @see
Ссылается на связанные элементы:

```ts
/**
 * Работает с пользовательскими данными
 * @see UserInterface - для получения информации о структуре данных пользователя
 * @see createUser - для создания нового пользователя
 */
class UserDataManager {
  // реализация
}
```

## Документирование различных элементов

### Интерфейсы и типы

```ts
/**
 * Представляет информацию о пользователе
 */
interface User {
  /**
   * Уникальный идентификатор пользователя
   */
  id: number;
  
  /**
   * Имя пользователя
   */
  name: string;
  
  /**
   * Email пользователя
   */
  email: string;
  
  /**
   * Дата регистрации
   * @defaultValue текущая дата
   */
  registrationDate?: Date;
}

/**
 * Тип для представления статуса задачи
 */
type TaskStatus = 'pending' | 'in-progress' | 'completed' | 'cancelled';
```

### Классы и методы

```ts
/**
 * Управляет асинхронными задачами
 * @template T - тип результата задачи
 */
class TaskManager<T> {
  private tasks: Array<Promise<T>> = [];

  /**
   * Добавляет новую задачу в очередь
   * @param task - асинхронная задача для выполнения
   * @returns промис, разрешающийся с результатом задачи
   */
  addTask(task: Promise<T>): Promise<T> {
    this.tasks.push(task);
    return task;
  }

  /**
   * Выполняет все задачи параллельно
   * @returns промис, разрешающийся с массивом результатов
   */
  async executeAll(): Promise<T[]> {
    return Promise.all(this.tasks);
  }

  /**
   * Очищает очередь задач
   */
  clear(): void {
    this.tasks = [];
  }
}
```

### Модули и экспорты

```ts
/**
 * Утилиты для работы с датами
 * @module dateUtils
 */

/**
 * Проверяет, является ли дата выходным днем
 * @param date - дата для проверки
 * @returns true, если дата приходится на выходной день
 */
export function isWeekend(date: Date): boolean {
  const day = date.getDay();
  return day === 0 || day === 6; // 0 - воскресенье, 6 - суббота
}

/**
 * Возвращает количество дней между двумя датами
 * @param startDate - начальная дата
 * @param endDate - конечная дата
 * @returns количество дней между датами
 */
export function getDaysBetween(startDate: Date, endDate: Date): number {
  const oneDay = 24 * 60 * 60 * 1000; // количество миллисекунд в одном дне
  return Math.round(Math.abs((endDate.getTime() - startDate.getTime()) / oneDay));
}
```

## Расширенные возможности TSDoc

### Тег @defaultValue
Указывает значение по умолчанию:

```ts
/**
 * Конфигурация для подключения к базе данных
 */
interface DatabaseConfig {
  /**
   * Адрес сервера базы данных
   * @defaultValue 'localhost'
   */
  host: string;
  
  /**
   * Порт подключения
   * @defaultValue 5432
   */
  port: number;
  
  /**
   * Имя базы данных
   */
  database: string;
  
  /**
   * Время ожидания подключения в миллисекундах
   * @defaultValue 5000
   */
  timeout?: number;
}
```

### Тег @alpha, @beta, @experimental
Указывает статус разработки:

```ts
/**
 * @alpha
 * Экспериментальная функция для работы с новым API
 * Может измениться в будущих версиях
 */
export function experimentalFeature(): void {
  // реализация
}

/**
 * @beta
 * Бета-версия функции для обработки данных
 * Используйте с осторожностью
 */
export function betaFeature(data: string): string {
  // реализация
  return data.toUpperCase();
}
```

## Инструменты для работы с TSDoc

### typedoc
Typedoc - популярный инструмент для генерации документации из TSDoc комментариев:

```bash
npm install -g typedoc
typedoc --entryPoints src/index.ts --out docs/api
```

### VS Code поддержка
Большинство IDE, включая VS Code, обеспечивают отличную поддержку TSDoc:
- Автодополнение при написании комментариев
- Отображение документации при наведении курсора
- Проверка соответствия параметров документации и реализации

## Лучшие практики

> [!tip] Совет
> Используйте TSDoc последовательно во всем проекте, чтобы обеспечить согласованность документации.

1. **Пишите ясные и краткие описания**: Избегайте избыточности, но обеспечивайте полноту информации.

2. **Документируйте публичные API**: Все экспортируемые функции, классы и интерфейсы должны быть задокументированы.

3. **Используйте примеры**: Примеры кода в теге `@example` значительно улучшают понимание.

4. **Обновляйте документацию**: При изменении кода не забывайте обновлять соответствующую документацию.

5. **Следите за форматированием**: Используйте правильное форматирование для лучшей читаемости.

## Связанные темы

- [[Документирование-API]] - более глубокое рассмотрение документирования API
- [[Генерация-документации]] - инструменты и процессы генерации документации
- [[Лучшие-практики-документирования]] - общие рекомендации по документированию кода
- [[Storybook]] - инструмент для документирования компонентов

TSDoc является важной частью разработки на TypeScript, обеспечивая высокую читаемость и поддерживаемость кода. Его правильное использование помогает командам быстрее понимать и использовать API, а также снижает порог входа для новых разработчиков в проект.