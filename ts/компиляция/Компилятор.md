---
aliases: ["tsc", "TypeScript Compiler", "Компилятор TypeScript"]
tags: ["#typescript", "#compilation", "#compiler", "#build-tools"]
---

# Компилятор TypeScript

Компилятор TypeScript (`tsc`) - это инструмент командной строки, который преобразует TypeScript код в JavaScript код. Он выполняет проверку типов, компиляцию и может генерировать дополнительные файлы, такие как source maps и declaration файлы.

## Установка компилятора

Компилятор TypeScript устанавливается глобально или локально в проекте через npm:

```bash
# Глобальная установка
npm install -g typescript

# Локальная установка
npm install --save-dev typescript
```

## Основные команды

### Компиляция отдельного файла

```bash
tsc файл.ts
```

### Компиляция с использованием tsconfig.json

```bash
tsc
```

### Компиляция с указанием конкретного конфигурационного файла

```bash
tsc -p ./path/to/tsconfig.json
```

### Компиляция в режиме watch

```bash
tsc --watch
# или
tsc -w
```

## Практические примеры

### Простой пример компиляции

Предположим, у вас есть файл `hello.ts`:

```typescript
function greet(name: string): string {
  return `Hello, ${name}!`;
}

console.log(greet("TypeScript"));
```

Для компиляции выполните:

```bash
tsc hello.ts
```

Это создаст файл `hello.js`:

```javascript
function greet(name) {
    return "Hello, " + name + "!";
}
console.log(greet("TypeScript"));
```

### Компиляция с флагами

```bash
# Компиляция с указанием целевой версии ES и модульной системы
tsc --target ES2020 --module commonjs src/main.ts

# Компиляция с генерацией source maps
tsc --sourceMap src/main.ts

# Компиляция с выводом в определенную директорию
tsc --outDir dist src/main.ts
```

## Интеграция с npm scripts

Добавьте скрипты в `package.json` для удобства:

```json
{
  "scripts": {
    "build": "tsc",
    "watch": "tsc --watch",
    "build:prod": "tsc --sourceMap false"
  }
}
```

Затем используйте:

```bash
npm run build
npm run watch
```

## Проверка типов без компиляции

Для проверки типов без генерации JavaScript файлов используйте флаг `--noEmit`:

```bash
tsc --noEmit
```

## Advanced возможности

### Declaration файлы

Компилятор может генерировать `.d.ts` файлы для предоставления информации о типах:

```bash
tsc --declaration
```

### Composite проекты

Для работы с многокомпонентными проектами:

```bash
tsc --build
```

### Изменение поведения компиляции

Компилятор поддерживает различные флаги для изменения поведения, такие как:

- `--strict` - включение строгой проверки типов
- `--noImplicitAny` - запрет неявных типов `any`
- `--strictNullChecks` - строгая проверка null/undefined

## Настройка через tsconfig.json

Хотя флаги командной строки полезны для одноразовых задач, для проектов рекомендуется использовать файл `tsconfig.json` для хранения настроек компиляции:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true
  },
  "include": [
    "src/**/*"
  ]
}
```

## Ошибки компиляции

Компилятор TypeScript возвращает код 0, если компиляция прошла успешно без ошибок типизации, и код 1, если были обнаружены ошибки.

## Производительность

Для улучшения производительности компиляции:

1. Используйте инкрементальную компиляцию
2. Ограничьте область проверки с помощью `include` и `exclude`
3. Используйте правильные настройки `moduleResolution`

## См. также

- [[tsconfig-json]]
- [[Флаги-компиляции]]
- [[Инкрементальная-компиляция]]
- [[Множественные-конфигурации]]