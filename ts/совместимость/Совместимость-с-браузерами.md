---
aliases: [Browser Compatibility, Browser Support]
tags: [typescript, javascript, browsers, compatibility]
---

# Совместимость с браузерами

## Обзор

Совместимость с браузерами - это критический аспект разработки на TypeScript, особенно когда вы создаете веб-приложения, которые должны работать в различных браузерах и версиях. TypeScript компилируется в JavaScript, и важно убедиться, что сгенерированный код будет работать в целевых браузерах.

## Поддержка возможностей ECMAScript

Разные браузеры поддерживают разные версии ECMAScript:

| Браузер | Последние версии | Поддерживаемые возможности ECMAScript |
|---------|------------------|--------------------------------------|
| Chrome  | ES2022+ | Полная поддержка современных возможностей |
| Firefox | ES2022+ | Полная поддержка современных возможностей |
| Safari  | ES2022+ | Полная поддержка современных возможностей |
| Edge    | ES2022+ | Полная поддержка современных возможностей |
| IE11    | ES5/ES2015 | Ограниченная поддержка, без async/await, классов и других возможностей ES2015+ |

## Настройка tsconfig.json

Для обеспечения совместимости с браузерами используйте следующие настройки в `tsconfig.json`:

```json
{
  "compilerOptions": {
    "target": "ES5",
    "lib": ["ES2015", "DOM"],
    "downlevelIteration": true,
    "moduleResolution": "node"
  }
}
```

## Поддержка API браузеров

Помимо синтаксиса JavaScript, необходимо учитывать поддержку API:

- DOM API
- Fetch API
- Service Workers
- Web Workers
- Canvas и WebGL
- Web Storage
- Web Sockets

Для проверки поддержки API используйте:
- [MDN Web Docs](https://developer.mozilla.org/)
- [Can I use](https://caniuse.com)

## Современные возможности и полифилы

Для использования современных возможностей в старых браузерах:

```typescript
// Пример использования Promise (не поддерживается в IE11)
async function fetchData(): Promise<any> {
  const response = await fetch('/api/data');
  return response.json();
}
```

Для поддержки IE11 необходимо:
- Установить полифил для Promise
- Установить полифил для fetch
- Установить полифил для других используемых возможностей

## Проверка совместимости

### Инструменты

1. **Browserslist** - позволяет указать поддерживаемые браузеры:
```json
{
  "browserslist": [
    "> 1%",
    "last 2 versions",
    "not dead"
  ]
}
```

2. **ESLint** с плагинами для проверки совместимости

3. **Automated testing** в различных браузерах

### Практические советы

- Используйте сервисы для тестирования в разных браузерах (BrowserStack, Sauce Labs)
- Проверяйте функциональность в целевых браузерах
- Используйте прогрессивное улучшение
- Учитывайте производительность в старых браузерах

## Пример настройки для широкой совместимости

```json
{
  "compilerOptions": {
    "target": "ES5",
    "lib": ["ES2015", "DOM"],
    "downlevelIteration": true,
    "strict": true,
    "moduleResolution": "node",
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
```

## Тестирование в браузерах

Для проверки совместимости:

1. Используйте инструменты автоматического тестирования
2. Проверяйте в реальных браузерах
3. Используйте виртуальные машины для старых браузеров
4. Регулярно тестируйте после обновлений

## Связанные темы

- [[Версии-ECMAScript]]
- [[Polyfills]]
- [[Транспиляция]]
- [[Целевые-платформы]]