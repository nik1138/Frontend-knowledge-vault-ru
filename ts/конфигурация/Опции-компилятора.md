---
aliases: [опции компилятора TypeScript, compilerOptions, настройки tsc, параметры компиляции]
tags: [typescript, configuration, compiler-options, compilation]
---

# Опции компилятора TypeScript

Опции компилятора TypeScript определяются в разделе `compilerOptions` файла `tsconfig.json`. Эти параметры контролируют поведение компилятора TypeScript (tsc), включая целевую версию JavaScript, строгость проверки типов, генерацию вспомогательных файлов и многое другое.

## Базовые опции компиляции

### `target` (Целевая версия ECMAScript)

Определяет версию ECMAScript, в которую компилируется код.

```json
{
  "compilerOptions": {
    "target": "ES2020"
  }
}
```

**Возможные значения:**
- `"ES3"` - ECMAScript 3
- `"ES5"` - ECMAScript 5
- `"ES2015"` / `"ES6"` - ECMAScript 2015
- `"ES2016"` - ECMAScript 2016
- `"ES2017"` - ECMAScript 2017
- `"ES2018"` - ECMAScript 2018
- `"ES2019"` - ECMAScript 2019
- `"ES2020"` - ECMAScript 2020
- `"ES2021"` - ECMAScript 2021
- `"ES2022"` - ECMAScript 2022
- `"ESNext"` - Последняя доступная версия

### `module` (Система модулей)

Определяет систему модулей для генерируемого JavaScript.

```json
{
  "compilerOptions": {
    "module": "commonjs"
  }
}
```

**Возможные значения:**
- `"CommonJS"` - Для Node.js
- `"AMD"` - Для асинхронной загрузки модулей
- `"UMD"` - Универсальный формат для различных систем
- `"System"` - Для SystemJS
- `"ES6"` / `"ES2015"` - Стандартные ES модули
- `"ES2020"` - ES2020 модули
- `"ESNext"` - Последняя версия ES модулей
- `"NodeNext"` - Для Node.js с ES модулями
- `"Node16"` - Для Node.js с ES модулями

### `lib` (Библиотеки JavaScript)

Определяет библиотеки, которые будут включены в компиляцию.

```json
{
  "compilerOptions": {
    "lib": ["ES2020", "DOM", "DOM.Iterable"]
  }
}
```

**Часто используемые значения:**
- `"ES5"`, `"ES6"`, `"ES2015"` и т.д. - Стандартные ES библиотеки
- `"DOM"` - API для работы с браузером
- `"DOM.Iterable"` - Итерируемые DOM коллекции
- `"WebWorker"` - API для Web Workers
- `"ScriptHost"` - API для Windows Script Host
- `"ES2015.Core"`, `"ES2015.Collection"` и т.д. - Конкретные части ES2015

## Опции вывода

### `outDir` (Каталог вывода)

Определяет каталог, в который выводятся скомпилированные файлы.

```json
{
  "compilerOptions": {
    "outDir": "./dist"
  }
}
```

### `rootDir` (Корневой каталог исходников)

Определяет корневой каталог исходных файлов для сохранения структуры каталогов.

```json
{
  "compilerOptions": {
    "rootDir": "./src"
  }
}
```

### `outFile` (Единый файл вывода)

Объединяет все исходные файлы в один JavaScript файл (требует `module: "amd"` или `module: "system"`).

```json
{
  "compilerOptions": {
    "outFile": "./dist/bundle.js",
    "module": "amd"
  }
}
```

### `sourceMap` (Генерация source maps)

Генерирует файлы source map для отладки TypeScript кода.

```json
{
  "compilerOptions": {
    "sourceMap": true
  }
}
```

### `declaration` (Генерация .d.ts файлов)

Генерирует файлы объявлений для TypeScript.

```json
{
  "compilerOptions": {
    "declaration": true
  }
}
```

### `declarationMap` (Source maps для объявлений)

Генерирует source map файлы для файлов объявлений.

```json
{
  "compilerOptions": {
    "declarationMap": true
  }
}
```

## Строгие проверки типов

### `strict` (Строгий режим)

Включает все строгие проверки типов.

```json
{
  "compilerOptions": {
    "strict": true
  }
}
```

**Эквивалентно включению следующих опций:**
- `noImplicitAny`
- `strictNullChecks`
- `strictFunctionTypes`
- `strictBindCallApply`
- `strictPropertyInitialization`
- `noImplicitThis`
- `useUnknownInCatchVariables`

### `noImplicitAny` (Запрет неявного типа any)

Выдает ошибку, когда тип неявно выводится как `any`.

```json
{
  "compilerOptions": {
    "noImplicitAny": true
  }
}
```

### `strictNullChecks` (Строгая проверка null/undefined)

Включает строгую проверку значений null и undefined.

```json
{
  "compilerOptions": {
    "strictNullChecks": true
  }
}
```

### `strictFunctionTypes` (Строгая проверка типов функций)

Включает строгую проверку типов функций.

```json
{
  "compilerOptions": {
    "strictFunctionTypes": true
  }
}
```

### `strictBindCallApply` (Строгая проверка bind/call/apply)

Проверяет, что методы `bind`, `call` и `apply` используют правильные типы.

```json
{
  "compilerOptions": {
    "strictBindCallApply": true
  }
}
```

### `strictPropertyInitialization` (Строгая инициализация свойств)

Проверяет, что свойства класса инициализированы в конструкторе.

```json
{
  "compilerOptions": {
    "strictPropertyInitialization": true
  }
}
```

### `noImplicitThis` (Запрет неявного this)

Выдает ошибку, когда `this` имеет тип `any`.

```json
{
  "compilerOptions": {
    "noImplicitThis": true
  }
}
```

## Опции модулей

### `moduleResolution` (Стратегия разрешения модулей)

Определяет стратегию разрешения модулей.

```json
{
  "compilerOptions": {
    "moduleResolution": "node"
  }
}
```

**Возможные значения:**
- `"classic"` - Классическая стратегия (используется в TypeScript до 1.6)
- `"node"` - Стратегия Node.js (рекомендуется для большинства проектов)

### `baseUrl` (Базовый URL для модулей)

Базовый каталог для разрешения неабсолютных имен модулей.

```json
{
  "compilerOptions": {
    "baseUrl": "./src"
  }
}
```

### `paths` (Алиасы для путей)

Сопоставление путей для разрешения модулей.

```json
{
  "compilerOptions": {
    "baseUrl": "./src",
    "paths": {
      "@utils/*": ["utils/*"],
      "@components/*": ["components/*"]
    }
  }
}
```

### `rootDirs` (Корневые каталоги)

Список каталогов, чьи структуры объединяются во время компиляции.

```json
{
  "compilerOptions": {
    "rootDirs": ["./src", "./src-generated"]
  }
}
```

## Опции совместимости

### `esModuleInterop` (Интероперабельность ES модулей)

Генерирует дополнительный код для обеспечения совместимости с ES и CommonJS модулями.

```json
{
  "compilerOptions": {
    "esModuleInterop": true
  }
}
```

### `allowSyntheticDefaultImports` (Синтетические импорты по умолчанию)

Позволяет использовать синтетические импорты по умолчанию, даже если модуль не экспортирует их явно.

```json
{
  "compilerOptions": {
    "allowSyntheticDefaultImports": true
  }
}
```

### `resolveJsonModule` (Разрешение JSON модулей)

Позволяет импортировать JSON файлы как модули.

```json
{
  "compilerOptions": {
    "resolveJsonModule": true
  }
}
```

## Опции декораторов и метаданных

### `experimentalDecorators` (Экспериментальные декораторы)

Включает поддержку экспериментальных декораторов.

```json
{
  "compilerOptions": {
    "experimentalDecorators": true
  }
}
```

### `emitDecoratorMetadata` (Метаданные декораторов)

Выдает дополнительные метаданные для декораторов.

```json
{
  "compilerOptions": {
    "emitDecoratorMetadata": true
  }
}
```

## Опции производительности

### `incremental` (Инкрементная компиляция)

Включает инкрементную компиляцию для ускорения последующих сборок.

```json
{
  "compilerOptions": {
    "incremental": true
  }
}
```

### `composite` (Композитный проект)

Включает режим композитного проекта (требуется для проектов с references).

```json
{
  "compilerOptions": {
    "composite": true
  }
}
```

## Опции безопасности и качества кода

### `skipLibCheck` (Пропуск проверки библиотек)

Пропускает проверку типов в файлах библиотек для ускорения компиляции.

```json
{
  "compilerOptions": {
    "skipLibCheck": true
  }
}
```

### `forceConsistentCasingInFileNames` (Согласованность регистра имен файлов)

Обеспечивает строгую проверку регистра имен файлов.

```json
{
  "compilerOptions": {
    "forceConsistentCasingInFileNames": true
  }
}
```

### `noUnusedLocals` (Запрет неиспользуемых локальных переменных)

Выдает ошибку при наличии неиспользуемых локальных переменных.

```json
{
  "compilerOptions": {
    "noUnusedLocals": true
  }
}
```

### `noUnusedParameters` (Запрет неиспользуемых параметров)

Выдает ошибку при наличии неиспользуемых параметров функций.

```json
{
  "compilerOptions": {
    "noUnusedParameters": true
  }
}
```

### `noImplicitReturns` (Явные возвраты)

Требует, чтобы все кодовые пути в функции имели возвращаемое значение.

```json
{
  "compilerOptions": {
    "noImplicitReturns": true
  }
}
```

### `noFallthroughCasesInSwitch` (Запрет падения сквозь case в switch)

Запрещает падение сквозь case в switch без break.

```json
{
  "compilerOptions": {
    "noFallthroughCasesInSwitch": true
  }
}
```

## Опции для специфических сценариев

### `jsx` (Обработка JSX)

Определяет, как обрабатывается JSX.

```json
{
  "compilerOptions": {
    "jsx": "react-jsx"
  }
}
```

**Возможные значения:**
- `"preserve"` - JSX не трансформируется
- `"react"` - JSX трансформируется в `React.createElement`
- `"react-jsx"` - JSX трансформируется в `jsx` вызовы
- `"react-jsxdev"` - JSX трансформируется в `jsxDEV` вызовы
- `"react-native"` - JSX сохраняется, но файлы получают расширение .js

### `allowJs` (Разрешение JavaScript файлов)

Позволяет импортировать JavaScript файлы в TypeScript проекте.

```json
{
  "compilerOptions": {
    "allowJs": true
  }
}
```

### `checkJs` (Проверка JavaScript файлов)

Проверяет типы в JavaScript файлах (работает только при `allowJs: true`).

```json
{
  "compilerOptions": {
    "checkJs": true,
    "allowJs": true
  }
}
```

## Практические примеры конфигурации

### Конфигурация для Node.js приложения

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "moduleResolution": "node",
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "removeComments": false,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "node_modules",
    "dist"
  ]
}
```

### Конфигурация для React приложения

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "moduleResolution": "node",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "jsx": "react-jsx",
    "allowSyntheticDefaultImports": true,
    "resolveJsonModule": true,
    "baseUrl": "./src",
    "paths": {
      "@/*": ["*"],
      "@components/*": ["components/*"],
      "@utils/*": ["utils/*"]
    },
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "node_modules",
    "dist"
  ]
}
```

## Проверка и отладка конфигурации

Для просмотра результирующей конфигурации можно использовать команду:

```bash
npx tsc --showConfig
```

Для проверки конфигурации без компиляции:

```bash
npx tsc --noEmit
```

## Связанные темы

- [[tsconfig-json]] - Основной конфигурационный файл TypeScript
- [[Настройка-проекта]] - Как настроить проект TypeScript с нуля
- [[Наследование-конфигураций]] - Использование extends для наследования конфигураций
- [[Пути-к-файлам]] - Настройка путей к файлам и алиасов
- [[Модули]] - Работа с модулями в TypeScript
- [[Типизация-сторонних-библиотек]] - Настройка типов для сторонних библиотек