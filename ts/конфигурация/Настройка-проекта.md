---
aliases: [настройка TypeScript проекта, инициализация TypeScript, создание tsconfig.json]
tags: [typescript, project, setup, configuration]
---

# Настройка проекта TypeScript

Настройка проекта TypeScript - это первый и один из самых важных шагов при начале разработки на TypeScript. Правильная конфигурация обеспечивает корректную работу компилятора, проверку типов и интеграцию с другими инструментами разработки.

## Инициализация нового проекта

Для создания нового проекта TypeScript выполните следующие шаги:

### 1. Инициализация npm-проекта

Сначала создайте базовую структуру npm-проекта:

```bash
npm init -y
```

Эта команда создаст файл `package.json` с базовыми настройками.

### 2. Установка TypeScript

Установите TypeScript как dev-зависимость:

```bash
npm install --save-dev typescript
```

Для использования TypeScript в проекте также могут потребоваться типы для Node.js (если проект работает в Node.js среде):

```bash
npm install --save-dev @types/node
```

### 3. Создание конфигурационного файла

Создайте файл `tsconfig.json` с помощью команды:

```bash
npx tsc --init
```

Эта команда создаст базовый файл конфигурации с комментариями к каждому параметру.

## Структура типичного проекта

Типичная структура проекта TypeScript выглядит следующим образом:

```
my-typescript-project/
├── src/
│   ├── index.ts
│   └── utils/
│       └── helpers.ts
├── dist/                 # Скомпилированные JS файлы
├── tests/                # Тесты
├── node_modules/
├── package.json
├── tsconfig.json
└── README.md
```

## Базовая конфигурация tsconfig.json

Вот пример базовой конфигурации для большинства проектов:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "removeComments": false
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "node_modules",
    "dist",
    "tests"
  ]
}
```

## Расширенная конфигурация для веб-приложений

Для веб-приложений может потребоваться другая конфигурация:

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "moduleResolution": "node",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "jsx": "react-jsx",
    "allowSyntheticDefaultImports": true,
    "resolveJsonModule": true,
    "baseUrl": "./",
    "paths": {
      "@/*": ["src/*"],
      "@components/*": ["src/components/*"],
      "@utils/*": ["src/utils/*"]
    }
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "node_modules",
    "dist"
  ]
}
```

## Интеграция с системами сборки

### Webpack

Для интеграции с Webpack установите `ts-loader`:

```bash
npm install --save-dev ts-loader
```

Пример конфигурации `webpack.config.js`:

```javascript
module.exports = {
  entry: './src/index.ts',
  module: {
    rules: [
      {
        test: /\.tsx?$/,
        use: 'ts-loader',
        exclude: /node_modules/,
      },
    ],
  },
  resolve: {
    extensions: ['.tsx', '.ts', '.js'],
  },
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist'),
  },
};
```

### Rollup

Для интеграции с Rollup установите `@rollup/plugin-typescript`:

```bash
npm install --save-dev @rollup/plugin-typescript
```

Пример конфигурации `rollup.config.js`:

```javascript
import typescript from '@rollup/plugin-typescript';

export default {
  input: 'src/index.ts',
  output: {
    file: 'dist/bundle.js',
    format: 'cjs'
  },
  plugins: [typescript()]
};
```

## Практические рекомендации

### 1. Использование строгих настроек

Всегда включайте опцию `strict: true` для максимальной проверки типов:

```json
{
  "compilerOptions": {
    "strict": true
  }
}
```

### 2. Управление зависимостями типов

Для сторонних библиотек, которые не имеют встроенной поддержки TypeScript, установите соответствующие пакеты типов:

```bash
npm install --save-dev @types/express @types/react
```

### 3. Использование source maps

Включите source maps для удобства отладки:

```json
{
  "compilerOptions": {
    "sourceMap": true
  }
}
```

### 4. Генерация declaration файлов

Для библиотек рекомендуется включить генерацию declaration файлов:

```json
{
  "compilerOptions": {
    "declaration": true,
    "declarationMap": true
  }
}
```

## Скрипты в package.json

Добавьте полезные скрипты в `package.json`:

```json
{
  "scripts": {
    "build": "tsc",
    "dev": "tsc --watch",
    "clean": "rm -rf dist",
    "lint": "eslint src/**/*.ts"
  }
}
```

## Связанные темы

- [[tsconfig-json]] - Основной конфигурационный файл TypeScript
- [[Наследование-конфигураций]] - Использование extends для наследования конфигураций
- [[Пути-к-файлам]] - Настройка путей к файлам и алиасов
- [[Опции-компилятора]] - Подробное описание всех опций компилятора
- [[Типизация-сторонних-библиотек]] - Настройка типов для сторонних библиотек
- [[Модули]] - Работа с модулями в TypeScript