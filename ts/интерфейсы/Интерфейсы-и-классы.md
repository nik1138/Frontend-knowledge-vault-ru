---
aliases: [Интерфейсы и классы в TypeScript, Реализация интерфейсов]
tags: [typescript, interfaces, classes, implementation]
---

# Интерфейсы и классы в TypeScript

Одним из ключевых применений интерфейсов в TypeScript является определение контрактов, которые должны реализовывать классы. Это позволяет обеспечить согласованность в реализации методов и свойств между различными классами.

## Реализация интерфейса классом

Для реализации интерфейса классом используется ключевое слово `implements`:

```typescript
interface Drawable {
  draw(): void;
  color: string;
}

class Circle implements Drawable {
  color: string;
  
  constructor(radius: number, color: string) {
    this.color = color;
  }
  
  draw() {
    console.log(`Рисуем круг радиусом ${this.radius} цветом ${this.color}`);
  }
}
```

## Несколько интерфейсов

Класс может реализовывать несколько интерфейсов:

```typescript
interface Flyable {
  fly(): void;
}

interface Swimmable {
  swim(): void;
}

class Duck implements Flyable, Swimmable {
  fly() {
    console.log("Утка летит");
  }
  
  swim() {
    console.log("Утка плывет");
  }
}
```

## Интерфейсы и наследование классов

Класс может одновременно наследовать от другого класса и реализовывать интерфейсы:

```typescript
abstract class Animal {
  name: string;
  
  constructor(name: string) {
    this.name = name;
  }
  
  abstract makeSound(): void;
}

interface Movable {
  move(): void;
}

class Dog extends Animal implements Movable {
  constructor(name: string) {
    super(name);
  }
  
  makeSound() {
    console.log("Гав!");
  }
  
  move() {
    console.log(`${this.name} бежит`);
  }
}
```

## Интерфейсы для конструкторов

Интерфейсы могут использоваться для описания конструкторов классов:

```typescript
interface ClockConstructor {
  new (hour: number, minute: number): ClockInterface;
}

interface ClockInterface {
  tick(): void;
}

class DigitalClock implements ClockInterface {
  constructor(public hour: number, public minute: number) {}
  
  tick() {
    console.log("Бип! Бип!");
  }
}

class AnalogClock implements ClockInterface {
  constructor(public hour: number, public minute: number) {}
  
  tick() {
    console.log("Тик! Так!");
  }
}

function createClock(ctor: ClockConstructor, hour: number, minute: number): ClockInterface {
  return new ctor(hour, minute);
}
```

## Защита от ошибок с помощью интерфейсов

Интерфейсы помогают предотвратить ошибки при реализации классов:

```typescript
interface PaymentProcessor {
  process(amount: number): boolean;
  validate(): boolean;
}

// Ошибка: класс не реализует все методы интерфейса
class CreditCardProcessor implements PaymentProcessor {
  process(amount: number): boolean {
    // Реализация обработки платежа
    return true;
  }
  
  // Забыли реализовать validate()
}
```

## Интерфейсы и инъекция зависимостей

Интерфейсы часто используются в паттернах инъекции зависимостей:

```typescript
interface Logger {
  log(message: string): void;
  error(message: string): void;
}

class ConsoleLogger implements Logger {
  log(message: string) {
    console.log(message);
  }
  
  error(message: string) {
    console.error(message);
  }
}

class DatabaseLogger implements Logger {
  log(message: string) {
    // Запись в базу данных
  }
  
  error(message: string) {
    // Запись ошибки в базу данных
  }
}

class UserService {
  constructor(private logger: Logger) {}
  
  createUser(userData: any) {
    try {
      // Создание пользователя
      this.logger.log("Пользователь создан");
    } catch (error) {
      this.logger.error("Ошибка при создании пользователя");
    }
  }
}
```

## Практические рекомендации

1. Используйте интерфейсы для определения контрактов, которые должны соблюдать классы
2. Интерфейсы обеспечивают гибкость при тестировании (позволяют использовать mock-объекты)
3. Интерфейсы способствуют соблюдению принципа подстановки Барбары Лисков

> [!tip] Совет
> Используйте интерфейсы для определения публичного API классов. Это делает ваш код более гибким и тестируемым.

> [!warning] Важно
> При реализации интерфейса класс должен реализовать все его свойства и методы, включая те, которые помечены как опциональные.

## Связанные темы

- [[Определение-интерфейсов]]
- [[Расширение-интерфейсов]]
- [[Объединение-интерфейсов]]
- [[Опциональные-свойства]]
- [[Классы в TypeScript]]

#typescript #interfaces #classes #implementation #oop