---
aliases: [Слияние интерфейсов, Объединение интерфейсов в TypeScript]
tags: [typescript, interfaces, merging]
---

# Объединение интерфейсов в TypeScript

Одной из уникальных особенностей интерфейсов в TypeScript является их способность к объединению (слиянию). Когда вы объявляете несколько интерфейсов с одинаковым именем в одной области видимости, TypeScript автоматически объединяет их в один интерфейс.

## Базовое объединение интерфейсов

```typescript
interface Window {
  title: string;
}

interface Window {
  calculate(): number;
}

// Результат объединения:
// interface Window {
//   title: string;
//   calculate(): number;
// }
```

## Объединение с одинаковыми свойствами

При объединении интерфейсов с одинаковыми свойствами TypeScript требует, чтобы типы этих свойств были совместимы:

```typescript
interface User {
  name: string;
  age: number;
}

interface User {
  name: string; // OK - тот же тип
  email: string; // Добавляется новое свойство
}

// Результат:
// interface User {
//   name: string;
//   age: number;
//   email: string;
// }
```

## Объединение методов

Методы с одинаковыми именами также объединяются как функции с перегрузками:

```typescript
interface Calculator {
  add(a: number, b: number): number;
}

interface Calculator {
  add(a: string, b: string): string;
}

// Результат:
// interface Calculator {
//   add(a: number, b: number): number;
//   add(a: string, b: string): string;
// }
```

## Практическое применение объединения

Объединение интерфейсов особенно полезно при работе с глобальными объектами или при добавлении типов для библиотек:

```typescript
// В одном файле
interface String {
  capitalize(): string;
  camelCase(): string;
}

// В другом файле
interface String {
  snakeCase(): string;
  kebabCase(): string;
}

// Результат: строка теперь имеет все эти методы
const str = "hello world";
str.capitalize(); // OK
str.snakeCase(); // OK
```

## Объединение с опциональными свойствами

```typescript
interface Configuration {
  apiUrl: string;
}

interface Configuration {
  timeout?: number;
  retries?: number;
}

// Результат:
// interface Configuration {
//   apiUrl: string;
//   timeout?: number;
//   retries?: number;
// }
```

## Ограничения объединения

Важно понимать, что объединение работает только с интерфейсами, но не с типами, определенными через `type`:

```typescript
type Config = {
  apiUrl: string;
};

type Config = { // Ошибка: нельзя повторно объявить тип
  timeout: number;
};
```

## Продвинутое объединение

Объединение может быть особенно полезно при создании гибких API:

```typescript
interface UserBase {
  id: number;
  name: string;
}

interface UserWithEmail {
  email: string;
}

interface UserWithPhone {
  phone: string;
}

// Пользователь может иметь как email, так и телефон
interface User extends UserBase, UserWithEmail, UserWithPhone {}

// Или только один из них
interface BasicUser extends UserBase, UserWithEmail {}
```

> [!tip] Совет
> Используйте объединение интерфейсов для постепенного добавления свойств к типам, особенно при работе с глобальными объектами или при расширении сторонних библиотек.

> [!warning] Важно
> Объединение интерфейсов происходит автоматически в одной области видимости. Это может привести к неожиданным результатам, если вы не контролируете все объявления интерфейса с одинаковым именем.

## Связанные темы

- [[Определение-интерфейсов]]
- [[Расширение-интерфейсов]]
- [[Интерфейсы-и-классы]]
- [[Опциональные-свойства]]

#typescript #interfaces #merging #declaration-merging