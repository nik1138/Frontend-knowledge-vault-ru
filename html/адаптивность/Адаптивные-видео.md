---
aliases: ["Респонсивное видео", "Адаптивные медиа", "HTML5 видео"]
tags: [html, адаптивность, видео, multimedia, производительность]
---

# Адаптивные видео

Адаптивные видео - это подход к встраиванию и отображению видеоконтента, который корректно адаптируется под различные размеры экранов и устройства. В условиях российского рынка 2025 года, где мобильный трафик составляет значительную часть посещений, правильная реализация адаптивного видео становится критически важной для пользовательского опыта и производительности.

## Основные проблемы адаптивного видео

- **Размеры экрана**: Видео должно корректно отображаться на устройствах с различными размерами экрана
- **Скорость интернета**: Необходимость адаптации качества видео под скорость соединения
- **Форматы**: Поддержка различных форматов для разных браузеров
- **Производительность**: Оптимизация загрузки и воспроизведения видео

## HTML5 Video для адаптивности

### Базовый элемент video

```html
<video controls width="100%" height="auto">
    <source src="video.mp4" type="video/mp4">
    <source src="video.webm" type="video/webm">
    Ваш браузер не поддерживает HTML5 видео.
</video>
```

### Адаптивное видео с CSS

```html
<div class="video-container">
    <video controls>
        <source src="video.mp4" type="video/mp4">
        <source src="video.webm" type="video/webm">
        Ваш браузер не поддерживает HTML5 видео.
    </video>
</div>

<style>
.video-container {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 56.25%; /* Соотношение сторон 16:9 */
}

.video-container video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
</style>
```

## Современные форматы видео

### Поддержка форматов в 2025 году

- **MP4 (H.264)**: Широкая поддержка во всех браузерах
- **WebM**: Открытый формат, поддерживается Chrome, Firefox, Edge
- **AV1**: Новый формат с высокой степенью сжатия, поддержка растет

### Множественные форматы для совместимости

```html
<video controls width="100%" height="auto">
    <source src="video.av1.mp4" type="video/mp4; codecs=av01.0.05M.08">
    <source src="video.vp9.webm" type="video/webm; codecs=vp9">
    <source src="video.h264.mp4" type="video/mp4; codecs=avc1.42E01E">
    Ваш браузер не поддерживает HTML5 видео.
</video>
```

## Адаптивные атрибуты видео

### Responsive Video Attributes

```html
<video 
    controls
    preload="metadata"  <!-- Загружать только метаданные -->
    poster="video-poster.jpg"  <!-- Превью до начала воспроизведения -->
    width="100%"
    height="auto"
    playsinline  <!-- Воспроизведение без перехода в полноэкранный режим -->
    muted        <!-- Автоматическое отключение звука -->
>
    <source src="video.mp4" type="video/mp4">
    <source src="video.webm" type="video/webm">
</video>
```

## CSS-подходы к адаптивности видео

### 1. Соотношение сторон

```css
/* Сохранение соотношения сторон 16:9 */
.video-wrapper {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 56.25%; /* 16:9 */
}

.video-wrapper video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* Альтернативный подход с aspect-ratio (поддержка в современных браузерах) */
.responsive-video {
    width: 100%;
    aspect-ratio: 16 / 9;
}
```

### 2. Адаптация под размеры экрана

```css
.video-container {
    max-width: 100%;
    margin: 0 auto;
}

.video-container video {
    width: 100%;
    height: auto;
}

/* Для мобильных устройств */
@media (max-width: 767px) {
    .video-container video {
        max-height: 300px; /* Ограничение высоты на мобильных устройствах */
    }
}

/* Для планшетов */
@media (min-width: 768px) and (max-width: 1023px) {
    .video-container video {
        max-height: 500px;
    }
}
```

## Практические рекомендации

### 1. Оптимизация размера файла

Для адаптивного видео рекомендуется:
- Использовать современные кодеки (H.265/HEVC, AV1)
- Применять адаптивное потоковое вещание (Adaptive Streaming)
- Генерировать несколько версий видео с разным качеством

### 2. Lazy Loading для видео

```html
<video controls preload="none" data-src="video.mp4">
    <source data-src="video.mp4" type="video/mp4">
    <source data-src="video.webm" type="video/webm">
</video>

<script>
// Пример реализации lazy loading для видео
document.addEventListener('DOMContentLoaded', function() {
    const videos = document.querySelectorAll('video[data-src]');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const video = entry.target;
                video.src = video.dataset.src;
                
                // Загрузка источников
                const sources = video.querySelectorAll('source[data-src]');
                sources.forEach(source => {
                    source.src = source.dataset.src;
                });
                
                observer.unobserve(video);
            }
        });
    });
    
    videos.forEach(video => observer.observe(video));
});
</script>
```

### 3. Адаптация качества под соединение

```javascript
// Определение скорости соединения и адаптация качества видео
function getVideoQuality() {
    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    
    if (connection) {
        switch(connection.effectiveType) {
            case 'slow-2g':
            case '2g':
                return 'low'; // Низкое качество
            case '3g':
                return 'medium'; // Среднее качество
            case '4g':
            default:
                return 'high'; // Высокое качество
        }
    }
    
    // Если информация о соединении недоступна, используем высокое качество
    return 'high';
}

// Загрузка видео в зависимости от качества
function loadVideoByQuality() {
    const quality = getVideoQuality();
    const video = document.getElementById('adaptive-video');
    
    // Выбор соответствующего источника видео
    switch(quality) {
        case 'low':
            video.querySelector('source[data-quality="low"]').src = 'video-low.mp4';
            break;
        case 'medium':
            video.querySelector('source[data-quality="medium"]').src = 'video-medium.mp4';
            break;
        case 'high':
            video.querySelector('source[data-quality="high"]').src = 'video-high.mp4';
            break;
    }
}
```

## Практический пример: Адаптивное видео с разными качествами

```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Адаптивное видео</title>
    <style>
        .video-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* Соотношение сторон 16:9 */
            background-color: #000;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .video-info {
            margin-top: 15px;
            text-align: center;
        }
        
        /* Адаптация для мобильных устройств */
        @media (max-width: 767px) {
            .video-section {
                padding: 10px;
            }
            
            .video-container {
                border-radius: 0;
            }
        }
        
        /* Адаптация для больших экранов */
        @media (min-width: 1200px) {
            .video-container {
                max-width: 800px;
                margin: 0 auto;
            }
        }
    </style>
</head>
<body>
    <section class="video-section">
        <h2>Адаптивное видео</h2>
        
        <div class="video-container">
            <video id="adaptive-video" controls preload="metadata" playsinline>
                <!-- Высокое качество -->
                <source data-quality="high" src="video-1080p.mp4" type="video/mp4">
                <source data-quality="high" src="video-1080p.webm" type="video/webm">
                
                <!-- Среднее качество -->
                <source data-quality="medium" src="video-720p.mp4" type="video/mp4">
                <source data-quality="medium" src="video-720p.webm" type="video/webm">
                
                <!-- Низкое качество -->
                <source data-quality="low" src="video-480p.mp4" type="video/mp4">
                <source data-quality="low" src="video-480p.webm" type="video/webm">
                
                Ваш браузер не поддерживает HTML5 видео.
            </video>
        </div>
        
        <div class="video-info">
            <p>Это видео адаптируется под размеры экрана устройства</p>
        </div>
    </section>
    
    <script>
        // Определение оптимального качества видео
        function selectVideoQuality() {
            const video = document.getElementById('adaptive-video');
            const sources = video.querySelectorAll('source');
            
            // Простая логика выбора качества (в реальности может быть сложнее)
            const screenWidth = window.innerWidth;
            
            if (screenWidth <= 768) {
                // Мобильное устройство - низкое качество
                sources.forEach(source => {
                    if (source.dataset.quality === 'low') {
                        source.src = source.src.replace('medium', 'low').replace('high', 'low');
                    }
                });
            } else if (screenWidth <= 1024) {
                // Планшет - среднее качество
                sources.forEach(source => {
                    if (source.dataset.quality === 'medium') {
                        source.src = source.src.replace('low', 'medium').replace('high', 'medium');
                    }
                });
            } else {
                // Десктоп - высокое качество
                sources.forEach(source => {
                    if (source.dataset.quality === 'high') {
                        source.src = source.src.replace('low', 'high').replace('medium', 'high');
                    }
                });
            }
        }
        
        // Выбор качества при загрузке страницы
        window.addEventListener('load', selectVideoQuality);
        
        // Обработка изменения размера окна
        window.addEventListener('resize', selectVideoQuality);
    </script>
</body>
</html>
```

## Использование сторонних сервисов

### YouTube и Vimeo

```html
<!-- Адаптивное встраивание YouTube -->
<div class="video-container">
    <iframe 
        width="560" 
        height="315" 
        src="https://www.youtube.com/embed/VIDEO_ID" 
        title="YouTube video player" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
    </iframe>
</div>

<style>
.video-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 */
    height: 0;
    overflow: hidden;
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
</style>
```

## Адаптация под складные устройства (2025)

С учетом появления складных устройств:

```css
/* Специальные стили для складных устройств */
@supports (display: grid) and (display: flex) {
    @media (max-width: 600px) and (min-height: 800px) {
        /* Стили для вертикально ориентированных складных устройств */
        .video-container {
            max-height: 40vh;
        }
    }
    
    @media (min-width: 601px) and (max-width: 1000px) and (max-height: 600px) {
        /* Стили для горизонтально ориентированных складных устройств */
        .video-container {
            max-height: 70vh;
        }
    }
}
```

## Проверка и тестирование адаптивного видео

### 1. Визуальная проверка
- Корректное отображение на различных размерах экрана
- Сохранение соотношения сторон
- Правильное отображение элементов управления

### 2. Функциональная проверка
- Работа воспроизведения/паузы
- Корректная перемотка
- Поддержка полноэкранного режима

### 3. Производительность
- Время загрузки видео
- Потребление трафика
- Использование ресурсов устройства

## Совместимость и доступность

### Поддержка старых браузеров
```html
<video controls width="100%" height="auto">
    <source src="video.mp4" type="video/mp4">
    <source src="video.webm" type="video/webm">
    
    <!-- Резервный контент для старых браузеров -->
    <p>Ваш браузер не поддерживает HTML5 видео. 
       Вы можете <a href="video.mp4">скачать видео</a> или 
       использовать современный браузер.</p>
</video>
```

### Доступность
```html
<video controls width="100%" height="auto">
    <source src="video.mp4" type="video/mp4">
    <track kind="subtitles" src="subtitles-ru.vtt" srclang="ru" label="Русский">
    <track kind="subtitles" src="subtitles-en.vtt" srclang="en" label="English">
    Ваш браузер не поддерживает HTML5 видео.
</video>
```

## Связь с другими аспектами адаптивности

Адаптивные видео тесно связаны с:
- [[Viewport]] - правильной настройкой области просмотра
- [[Адаптивные-изображения]] - подходами к адаптивным медиа
- [[Адаптивность-и-производительность]] - оптимизацией производительности
- [[Тестирование-адаптивности]] - процессом проверки адаптивности

## Заключение

Адаптивные видео - это важный компонент современных веб-сайтов, особенно в условиях российского рынка 2025 года, где мобильные устройства доминируют. Правильная реализация адаптивного видео требует учета множества факторов: от форматов и качества до производительности и доступности.

> [!tip]
> Всегда тестируйте адаптивное видео на реальных устройствах с различными размерами экрана и скоростями интернет-соединения.