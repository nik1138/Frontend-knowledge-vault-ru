---
aliases: [Асинхронные скрипты, async scripts, HTML async]
tags: [html, javascript, async, performance, web-development]
---

# Асинхронные скрипты

## Обзор

Асинхронные скрипты в HTML позволяют загружать и выполнять JavaScript-файлы без блокировки парсинга HTML-документа. Это критически важно для производительности веб-приложений в 2025 году, особенно в условиях растущих требований к скорости загрузки страниц и пользовательскому опыту.

## Атрибуты async и defer

### Атрибут async

Атрибут `async` позволяет загружать скрипт асинхронно, не блокируя парсинг HTML:

```html
<script src="script.js" async></script>
```

**Особенности:**
- Скрипт загружается асинхронно
- Выполняется сразу после загрузки, независимо от состояния DOM
- Не гарантирует порядок выполнения
- Используется для независимых скриптов (например, аналитика)

### Атрибут defer

Атрибут `defer` откладывает выполнение скрипта до полной загрузки HTML:

```html
<script src="script.js" defer></script>
```

**Особенности:**
- Скрипт загружается асинхронно
- Выполняется после полной загрузки HTML
- Гарантирует порядок выполнения
- Используется для основных скриптов приложения

## Практические рекомендации

### Использование в российском веб-разработке

В 2025 году российские разработчики сталкиваются с рядом особенностей:
- Ограничения на использование западных CDN из-за санкций
- Необходимость оптимизации под разные регионы с разной скоростью интернета
- Учет особенностей отечественных браузеров

### Сравнение производительности

| Метод | Блокировка парсинга | Порядок выполнения | Зависимость от DOM |
|-------|-------------------|------------------|------------------|
| `<script>` | Да | Да | Да |
| `<script async>` | Нет | Нет | Нет |
| `<script defer>` | Нет | Да | Да |

> [!tip] Совет
> Используйте `defer` для основных скриптов приложения и `async` для независимых скриптов, таких как аналитика или реклама.

## Современные практики

### Динамическая загрузка модулей

```javascript
// Асинхронная загрузка модуля по требованию
async function loadModule() {
    const { default: myModule } = await import('./myModule.js');
    return myModule;
}
```

### Условная загрузка скриптов

```javascript
// Условная загрузка скрипта в зависимости от поддержки браузера
if ('serviceWorker' in navigator) {
    const script = document.createElement('script');
    script.src = 'sw-registration.js';
    script.async = true;
    document.head.appendChild(script);
}
```

## Лучшие практики

1. **Используйте `defer` для основных скриптов**
2. **Используйте `async` для независимых скриптов**
3. **Минимизируйте количество внешних скриптов**
4. **Рассмотрите предварительную загрузку критических ресурсов**

> [!warning] Важно
> Неправильное использование асинхронных скриптов может привести к проблемам с зависимостями и непредсказуемым поведением приложения.

## Связанные темы

- [[HTML-шаблоны-и-микрозадачи]]
- [[Promise-в-HTML-API]]
- [[Работа-с-таймерами]]
- [[Обработка-ошибок]]

## Источники

- [MDN Web Docs: Атрибуты скриптов](https://developer.mozilla.org/ru/docs/Web/HTML/Element/script)
- [Google Developers: Critical Rendering Path](https://developers.google.com/web/fundamentals/performance/critical-rendering-path)