---
aliases: ["Тестирование доступности", "Accessibility Testing", "Тестирование на пригодность"]
tags: [html/testing, accessibility, a11y, wcag, usability]
---

# Тесты-доступности

## Введение

Тесты доступности (Accessibility Testing) проверяют, насколько веб-страница и её HTML-компоненты доступны для пользователей с ограниченными возможностями. Эти тесты обеспечивают соблюдение стандартов доступности, таких как WCAG 2.1, и помогают создать инклюзивный пользовательский опыт.

## Основные принципы тестирования доступности HTML

Тесты доступности для HTML-элементов фокусируются на:

- Проверке корректного использования семантической разметки
- Обеспечении доступности для пользователей с нарушениями зрения, слуха, моторики и когнитивных способностей
- Проверке работы с клавиатурой и вспомогательными технологиями
- Соответствии стандартам WCAG 2.1 (A, AA, AAA)
- Проверке контрастности цветов и читаемости текста

## Стандарты доступности

### WCAG 2.1
Web Content Accessibility Guidelines (WCAG) 2.1 - основной международный стандарт доступности веб-контента:

- **Принцип 1: Воспринимаемость** - информация должна быть доступна для восприятия всеми пользователями
- **Принцип 2: Управляемость** - компоненты интерфейса должны быть управляемы
- **Принцип 3: Понятность** - информация и работа пользовательского интерфейса должны быть понятны
- **Принцип 4: Надежность** - контент должен быть надежным при использовании различных вспомогательных технологий

### Российские стандарты
В России действуют следующие нормативные документы:

- ГОСТ Р 52872-2012 "Интернет-ресурсы. Общие эргономические требования"
- Федеральный закон №419-ФЗ "О социальной защите инвалидов в Российской Федерации"
- Требования к обеспечению доступности информационных систем для лиц с ограниченными возможностями

## Инструменты для тестирования доступности HTML

### axe-core
Библиотека для автоматического тестирования доступности HTML-контента.

```javascript
// Пример использования axe-core для тестирования доступности
const axe = require('axe-core');

// В контексте теста
describe('Доступность главной страницы', () => {
  test('должна соответствовать стандартам доступности', async () => {
    const results = await axe.run(document);
    
    // Проверка наличия ошибок доступности
    expect(results.violations).toHaveLength(0);
    
    // Дополнительная проверка конкретных требований
    const colorContrastIssues = results.violations
      .filter(violation => violation.id === 'color-contrast');
    
    expect(colorContrastIssues).toHaveLength(0);
  });
});

// Интеграция с Jest
const { axe, toHaveNoViolations } = require('jest-axe');
expect.extend(toHaveNoViolations);

test('должна быть доступной', async () => {
  const html = `
    <div>
      <h1>Заголовок страницы</h1>
      <button aria-label="Закрыть">X</button>
    </div>
  `;
  
  const results = await axe(html);
  expect(results).toHaveNoViolations();
});
```

### Pa11y
Инструмент командной строки для автоматического тестирования доступности.

```javascript
// Пример использования Pa11y
const pa11y = require('pa11y');

async function testAccessibility() {
  const results = await pa11y('https://example.com', {
    standard: 'WCAG2AA',
    includeNotices: true,
    includeWarnings: true
  });

  console.log('Ошибки доступности:', results.issues);
}

// Использование в тестах
describe('Тестирование доступности формы', () => {
  test('должна соответствовать WCAG 2.1 AA', async () => {
    const results = await pa11y('https://example.com/form', {
      standard: 'WCAG2AA'
    });

    expect(results.issues.filter(issue => issue.type === 'error')).toHaveLength(0);
  });
});
```

### Lighthouse
Инструмент Google, включающий проверку доступности как часть аудита.

```javascript
// Пример использования Lighthouse для проверки доступности
const lighthouse = require('lighthouse');
const chromeLauncher = require('chrome-launcher');

async function runLighthouse(url) {
  const chrome = await chromeLauncher.launch({chromeFlags: ['--headless']});
  const options = {logLevel: 'info', output: 'json', onlyCategories: ['accessibility']};
  const runnerResult = await lighthouse(url, options, null);
  
  await chrome.kill();
  
  return runnerResult.lhr;
}

// В тесте
test('должна иметь высокий рейтинг доступности', async () => {
  const report = await runLighthouse('https://example.com');
  const accessibilityScore = report.categories.accessibility.score;
  
  expect(accessibilityScore).toBeGreaterThanOrEqual(0.9); // 90% и выше
});
```

## Практические примеры тестов доступности

### Тестирование формы

```javascript
// Тестирование доступности формы входа
import { test, expect } from '@playwright/test';

test.describe('Доступность формы входа', () => {
  test('должна быть доступна для пользователей с ограниченными возможностями', async ({ page }) => {
    await page.goto('/login');
    
    // Проверка наличия меток для всех полей ввода
    await expect(page.locator('label[for="username"]')).toBeVisible();
    await expect(page.locator('label[for="password"]')).toBeVisible();
    
    // Проверка использования семантических элементов
    const form = page.locator('form');
    await expect(form).toBeVisible();
    
    // Проверка доступности с клавиатуры
    await page.keyboard.press('Tab');
    await expect(page.locator('#username')).toBeFocused();
    
    await page.keyboard.press('Tab');
    await expect(page.locator('#password')).toBeFocused();
    
    await page.keyboard.press('Tab');
    await expect(page.locator('button[type="submit"]')).toBeFocused();
    
    // Проверка наличия ARIA-атрибутов при необходимости
    await expect(page.locator('#username')).toHaveAttribute('aria-required', 'true');
    await expect(page.locator('#password')).toHaveAttribute('aria-required', 'true');
  });
});
```

### Тестирование навигации

```javascript
// Тестирование доступности навигации
import { test, expect } from '@playwright/test';

test.describe('Доступность навигации', () => {
  test('должна быть доступна с клавиатуры', async ({ page }) => {
    await page.goto('/');
    
    // Проверка логического порядка фокуса
    await page.keyboard.press('Tab');
    await expect(page.locator('nav a').first()).toBeFocused();
    
    // Проверка видимости индикатора фокуса
    const firstLink = page.locator('nav a').first();
    await expect(firstLink).toBeFocused();
    
    // Проверка наличия якорных ссылок для пропуска навигации
    const skipLink = page.locator('#skip-to-content');
    await expect(skipLink).toBeVisible();
    await expect(skipLink).toHaveAttribute('href', '#main-content');
  });
});
```

### Тестирование медиаконтента

```javascript
// Тестирование доступности медиаконтента
import { test, expect } from '@playwright/test';

test.describe('Доступность видео', () => {
  test('должно быть доступно для пользователей с нарушениями слуха', async ({ page }) => {
    await page.goto('/video');
    
    // Проверка наличия субтитров
    const video = page.locator('video');
    await expect(video).toBeVisible();
    
    // Проверка наличия трека субтитров
    const track = video.locator('track[kind="subtitles"]');
    await expect(track).toHaveCount(1);
    
    // Проверка наличия альтернативного описания
    const description = page.locator('video + .video-description');
    await expect(description).toBeVisible();
  });
});
```

## Ручное тестирование доступности

### Тестирование с клавиатуры
- Проверка возможности навигации по странице только с помощью клавиатуры
- Проверка логического порядка фокуса
- Проверка видимости индикатора фокуса
- Проверка наличия якорных ссылок для пропуска навигации

### Тестирование с экранного диктора
- Проверка корректного чтения контента экранного диктора
- Проверка правильности альтернативного текста
- Проверка семантической структуры заголовков
- Проверка наличия ARIA-атрибутов там, где это необходимо

### Тестирование цветовой схемы
- Проверка контрастности текста и фона (минимум 4.5:1 для обычного текста)
- Проверка восприятия информации без цвета
- Проверка отсутствия вспышек более 3 раз в секунду

## Лучшие практики тестирования доступности HTML

1. **Комбинирование автоматических и ручных тестов**: Используйте инструменты для автоматизации, но не забывайте о ручной проверке
2. **Раннее тестирование**: Внедряйте тесты доступности в начале процесса разработки
3. **Тестирование с реальными пользователями**: Привлекайте пользователей с ограниченными возможностями для тестирования
4. **Регулярное обновление эталонов**: Поддерживайте актуальность требований к доступности
5. **Обучение команды**: Обеспечьте знание стандартов доступности всеми членами команды

## Особенности в российских реалиях 2025

В 2025 году в России тестирование доступности HTML-приложений становится особенно важным из-за:

- Ужесточения требований законодательства в области доступности
- Роста числа пользователей с ограниченными возможностями в интернете
- Перехода государственных и муниципальных сайтов к обязательному соответствию стандартам доступности
- Увеличения ответственности организаций за недоступный контент
- Развития отечественных решений для обеспечения доступности

В соответствии с российским законодательством, все государственные и муниципальные веб-сайты, а также сайты организаций с более чем 100 сотрудниками, обязаны соответствовать требованиям доступности.

## Заключение

Тесты доступности обеспечивают равный доступ к информации для всех пользователей, включая людей с ограниченными возможностями. Они являются не только вопросом этики, но и юридической обязанностью в соответствии с российским законодательством. Регулярное тестирование доступности HTML-компонентов помогает создавать инклюзивные и качественные веб-приложения.

См. также:
- [[Unit-тесты]]
- [[E2E-тесты]]
- [[HTML тестирование|Общее руководство по тестированию HTML]]
- [[Безопасность HTML]]
- [[Семантическая разметка HTML]]
- [[ARIA роли|Роли ARIA]]