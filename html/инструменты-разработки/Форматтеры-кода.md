---
aliases: [HTML Formatter, Форматирование HTML, Красивый HTML]
tags: [html, formatting, prettier, development-tools, code-quality]
---

# Форматтеры кода

Форматтеры кода - это инструменты, которые автоматически приводят HTML-код к единому стилю, улучшая читаемость и поддерживаемость. В 2025 году использование форматтеров стало стандартной практикой в веб-разработке, особенно в командных проектах.

## Что такое форматтер кода

Форматтер кода - это инструмент, который:
- Автоматически форматирует HTML-код согласно заданным правилам
- Обеспечивает единообразие стиля написания кода в команде
- Упрощает чтение и понимание HTML-структур
- Снижает количество стилевых конфликтов в системах контроля версий

## Популярные HTML-форматтеры в 2025 году

### Prettier
Prettier - один из самых популярных форматтеров, поддерживающий HTML, CSS и JavaScript.

**Установка:**
```bash
npm install --save-dev --save-exact prettier
```

**Пример конфигурации (.prettierrc):**
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "htmlWhitespaceSensitivity": "ignore",
  "bracketSameLine": false,
  "arrowParens": "avoid"
}
```

**Команды для форматирования:**
```bash
# Форматировать все HTML-файлы
npx prettier --write "**/*.html"

# Проверить форматирование без изменений
npx prettier --check "**/*.html"
```

### VS Code Built-in Formatter
Встроенный форматтер Visual Studio Code:
- Работает из коробки
- Поддерживает настройку через settings.json
- Интегрирован с другими инструментами редактора

### HTML Tidy
Классический инструмент для форматирования и исправления HTML:
- Исправляет синтаксические ошибки
- Приводит код к стандартам
- Поддерживает множество опций форматирования

**Пример использования:**
```bash
tidy -indent -wrap 80 -config tidy.conf input.html
```

### Pretty Diff
Инструмент, сочетающий форматирование, сравнение и валидацию кода:
- Поддерживает форматирование HTML, CSS и JavaScript
- Может работать как в браузере, так и в командной строке
- Предоставляет визуальное сравнение до/после форматирования

### CodeBeautify HTML Formatter
Онлайн-инструмент для форматирования HTML:
- Простое веб-приложение
- Подходит для одноразового форматирования
- Не требует установки

## Настройка форматтеров

### Настройка Prettier для HTML

#### Основные опции для HTML:
- `htmlWhitespaceSensitivity` - чувствительность к пробелам
  - "css" - учитывает CSS-правила
  - "strict" - строгое форматирование
  - "ignore" - игнорирует пробелы
- `indent_style` - стиль отступов (пробелы или табы)
- `indent_size` - размер отступа

#### Пример расширенной конфигурации:
```json
{
  "semi": false,
  "singleQuote": true,
  "printWidth": 120,
  "tabWidth": 2,
  "htmlWhitespaceSensitivity": "ignore",
  "endOfLine": "lf",
  "bracketSameLine": false,
  "embeddedLanguageFormatting": "auto"
}
```

### Настройка в VS Code

#### settings.json:
```json
{
  "html.format.enable": true,
  "html.format.wrapLineLength": 120,
  "html.format.indentInnerHtml": true,
  "html.format.preserveNewLines": true,
  "html.format.maxPreserveNewLines": 2,
  "html.suggest.html5": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.formatOnPaste": true
}
```

### Интеграция с Git
Настройка Git для автоматического форматирования перед коммитом:

#### .husky/pre-commit:
```bash
#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

npx prettier --write .
git add .
```

## Практические рекомендации

### Выбор форматтера
1. **Prettier** - для новых проектов, особенно с использованием JavaScript/TypeScript
2. **Встроенный форматтер VS Code** - для простых HTML-проектов
3. **HTML Tidy** - для исправления устаревшего или некорректного HTML
4. **Pretty Diff** - для комплексного анализа и форматирования

### Стандарты форматирования HTML

#### Структура документа:
```html
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Заголовок страницы</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li><a href="/">Главная</a></li>
          <li><a href="/about">О нас</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <article>
        <h1>Основной заголовок</h1>
        <p>Содержимое статьи</p>
      </article>
    </main>
    <footer>
      <p>&copy; 2025 Все права защищены</p>
    </footer>
    <script src="script.js"></script>
  </body>
</html>
```

#### Атрибуты:
- Атрибуты должны быть в двойных кавычках
- Многоатрибутные теги могут быть перенесены на новые строки
- Логические атрибуты (checked, disabled) лучше указывать явно

#### Комментарии:
```html
<!-- Однострочный комментарий -->
<!--
  Многострочный
  комментарий
-->
```

## Автоматизация форматирования

### В редакторах кода
Большинство современных редакторов поддерживают:
- Форматирование при сохранении
- Форматирование выделенного кода
- Горячие клавиши для форматирования

### В системах сборки
Интеграция форматтеров в процесс сборки:
```javascript
// Gulp задача для форматирования
const prettier = require('gulp-prettier');

gulp.task('format:html', function() {
  return gulp.src('src/**/*.html')
    .pipe(prettier())
    .pipe(gulp.dest('dist'));
});
```

### В CI/CD
Проверка форматирования в процессе непрерывной интеграции:
```yaml
# GitHub Actions
- name: Check formatting
  run: npx prettier --check "**/*.html"
```

## Особенности для российских проектов

### Локализация
- Учет кириллических символов
- Правильное отображение русского текста
- Поддержка русских шрифтов

### Соответствие требованиям
- Форматирование с учетом требований доступности
- Соответствие ГОСТ Р 52872-2015
- Поддержка семантической разметки

> [!note]
> В 2025 году в России продолжается развитие собственных инструментов разработки. При работе с государственными проектами учитывайте требования к коду, установленные национальными стандартами.

### Работа с шаблонизаторами
При использовании HTML-шаблонизаторов (Pug, Handlebars, и др.):
- Используйте форматтеры, поддерживающие конкретный шаблонизатор
- Настройте опции форматирования под синтаксис шаблонизатора
- Учитывайте особенности генерации HTML

## Проблемы и решения

### Конфликты с линтерами
Иногда форматтеры могут конфликтовать с линтерами:
- Настройте форматтер и линтер на совместную работу
- Используйте плагины, которые объединяют оба инструмента
- Создайте общую конфигурацию для команды

### Форматирование встроенных стилей и скриптов
- Настройте форматтер для обработки встроенных CSS и JavaScript
- Рассмотрите возможность выноса стилей и скриптов в отдельные файлы
- Используйте опции форматтера для управления вложенными языками

### Работа с устаревшим кодом
- Используйте HTML Tidy для предварительной очистки
- Постепенно применяйте форматирование к частям кода
- Документируйте изменения в системе контроля версий

## Современные тенденции в 2025 году

### AI-усиленные форматтеры
Новые форматтеры используют ИИ для:
- Понимания контекста HTML-структур
- Автоматического исправления семантики
- Предложения оптимизации разметки

### Интеграция с системами управления контентом
- Форматирование HTML-контента из CMS
- Автоматическая очистка пользовательского HTML
- Интеграция с визуальными редакторами

### Поддержка современных стандартов
- Форматирование Web Components
- Поддержка новых HTML-элементов
- Учет особенностей Progressive Web Apps

## Сравнение форматтеров

| Форматтер | Простота | Гибкость | Интеграция | Особенности |
|-----------|----------|----------|------------|-------------|
| Prettier | Высокая | Средняя | Высокая | Один стиль для всех |
| VS Code Formatter | Высокая | Высокая | Высокая | Встроенный |
| HTML Tidy | Средняя | Высокая | Средняя | Исправление ошибок |
| Pretty Diff | Средняя | Высокая | Средняя | Многофункциональный |

## Лучшие практики

### Для командной разработки
1. Выберите один форматтер для всего проекта
2. Создайте общую конфигурацию
3. Настройте автоматическое форматирование при сохранении
4. Документируйте используемые настройки

### Для поддержки кода
1. Регулярно обновляйте форматтеры
2. Проверяйте влияние обновлений на существующий код
3. Используйте lock-файлы для фиксации версий
4. Обновляйте код постепенно после изменений форматтера

> [!tip]
> Внедрение форматтера в существующий проект лучше проводить постепенно, начиная с новых файлов, чтобы избежать большого количества изменений в системе контроля версий.

## Связанные темы

- [[Браузерные-инструменты-разработчика]]
- [[Линтеры-для-HTML]]
- [[Отладка-HTML]]
- [[Профилирование-производительности]]

## Заключение

Форматтеры кода являются важным инструментом для поддержания качества HTML-кода в 2025 году. Правильная настройка и использование форматтеров помогает командам разработчиков поддерживать единообразие кода, улучшает читаемость и снижает количество конфликтов при совместной работе.