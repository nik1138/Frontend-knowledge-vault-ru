---
aliases: [Linters, Линтеры, Статический анализ, Проверка кода]
tags: [frontend, architecture, quality-tools, development]
---

# Линтеры

## Обзор

Линтеры - это инструменты статического анализа кода, которые проверяют исходный код на наличие потенциальных ошибок, стилистических проблем и нарушений установленных правил. Они помогают поддерживать консистентность кода, предотвращать распространенные ошибки и следовать лучшим практикам разработки.

## Основные функции линтеров

- **Поиск синтаксических ошибок** - выявление опечаток и неверного синтаксиса
- **Проверка стиля кода** - соблюдение соглашений о форматировании
- **Обнаружение потенциальных проблем** - предупреждения о возможных багах
- **Обеспечение согласованности** - единообразие кода в команде
- **Проверка безопасности** - выявление потенциальных уязвимостей

## Популярные линтеры

### 1. ESLint

> [!info] ESLint
> Самый популярный линтер для JavaScript и TypeScript с возможностью расширения через плагины.

```javascript
// .eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true,
    node: true
  },
  extends: [
    'eslint:recommended',
    '@typescript-eslint/recommended',
    'plugin:react/recommended',
    'plugin:import/errors',
    'plugin:import/warnings'
  ],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaFeatures: {
      jsx: true
    },
    ecmaVersion: 12,
    sourceType: 'module'
  },
  plugins: [
    'react',
    '@typescript-eslint',
    'import'
  ],
  rules: {
    'no-console': 'warn',
    'no-unused-vars': 'error',
    'prefer-const': 'error',
    'eqeqeq': 'error',
    'no-duplicate-imports': 'error',
    'react/react-in-jsx-scope': 'off',
    'react/prop-types': 'off'
  },
  settings: {
    react: {
      version: 'detect'
    }
  }
};
```

Примеры правил:

```javascript
// Плохо - неиспользуемая переменная
const unusedVar = 'hello';
console.log('Hello World');

// Хорошо - все переменные используются
const greeting = 'Hello';
console.log(`${greeting} World`);

// Плохо - сравнение без учета типа
if (value == 10) {
  doSomething();
}

// Хорошо - строгое сравнение
if (value === 10) {
  doSomething();
}
```

### 2. TSLint (устаревший, заменен на ESLint с @typescript-eslint)

### 3. Stylelint

> [!info] Stylelint
> Линтер для CSS, SCSS, Less и других языков стилей.

```json
// .stylelintrc.json
{
  "extends": [
    "stylelint-config-standard",
    "stylelint-config-recommended-scss"
  ],
  "rules": {
    "indentation": 2,
    "string-quotes": "single",
    "color-hex-case": "lower",
    "color-hex-length": "short",
    "selector-max-id": 0,
    "declaration-block-no-duplicate-properties": true,
    "shorthand-property-no-redundant-values": true
  }
}
```

### 4. HTMLHint

> [!info] HTMLHint
> Линтер для HTML, проверяющий семантику и структуру разметки.

```json
// .htmlhintrc
{
  "tagname-lowercase": true,
  "attr-lowercase": true,
  "attr-value-double-quotes": true,
  "doctype-first": true,
  "tag-pair": true,
  "spec-char-escape": true,
  "id-unique": true,
  "src-not-empty": true,
  "attr-no-duplication": true
}
```

## Интеграция с системами сборки

### Webpack

```javascript
// webpack.config.js
const ESLintPlugin = require('eslint-webpack-plugin');

module.exports = {
  plugins: [
    new ESLintPlugin({
      extensions: ['js', 'jsx', 'ts', 'tsx'],
      exclude: ['node_modules', 'dist']
    })
  ]
};
```

### Vite

```javascript
// vite.config.js
import { defineConfig } from 'vite';
import eslint from 'vite-plugin-eslint';

export default defineConfig({
  plugins: [
    eslint({
      include: ['src/**/*.js', 'src/**/*.ts', 'src/**/*.jsx', 'src/**/*.tsx']
    })
  ]
});
```

## Популярные наборы правил

### 1. Airbnb Style Guide

```json
{
  "extends": ["airbnb", "airbnb/hooks"],
  "rules": {
    "react/jsx-filename-extension": [1, { "extensions": [".js", ".jsx"] }]
  }
}
```

### 2. Standard JS

```json
{
  "extends": ["standard"],
  "rules": {
    "semi": ["error", "always"]
  }
}
```

### 3. Prettier + ESLint

```json
{
  "extends": [
    "eslint:recommended",
    "plugin:react/recommended",
    "prettier"
  ],
  "plugins": ["react"],
  "rules": {
    "react/prop-types": "off"
  }
}
```

## Конфигурация правил

### Уровни серьезности

- `"off"` или `0` - правило отключено
- `"warn"` или `1` - предупреждение
- `"error"` или `2` - ошибка

```javascript
// Пример настройки правил
module.exports = {
  rules: {
    'no-console': 'warn',      // предупреждать о console.log
    'no-unused-vars': 'error', // ошибка при неиспользуемых переменных
    'max-len': ['error', { 'code': 120 }] // ошибка при строках > 120 символов
  }
};
```

### Игнорирование файлов

```javascript
// .eslintignore
node_modules/
dist/
build/
*.min.js
coverage/
```

## Практические примеры правил

### 1. Правила безопасности

```javascript
// Запрет eval()
rules: {
  'no-eval': 'error',
  'no-implied-eval': 'error',
  'no-new-func': 'error'
}

// Запрет доступа к localStorage без проверки
rules: {
  'no-restricted-globals': [
    'error',
    { 'name': 'localStorage', 'message': 'Use secure storage instead' }
  ]
}
```

### 2. Правила производительности

```javascript
// Запрет использования функций в циклах
rules: {
  'no-loop-func': 'error',
  'no-extend-native': 'error'
}
```

### 3. Правила стиля

```javascript
// Форматирование объектов
rules: {
  'object-curly-spacing': ['error', 'always'],
  'comma-dangle': ['error', 'always-multiline']
}
```

## Использование в командной строке

```bash
# Проверка всех JS файлов
npx eslint src/**/*.js

# Исправление автоматических ошибок
npx eslint src/**/*.js --fix

# Проверка с указанием формата вывода
npx eslint src/**/*.js --format=table
```

## Интеграция с редакторами

### VS Code

```json
// .vscode/settings.json
{
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact"
  ],
  "eslint.autoFixOnSave": true
}
```

## Лучшие практики

1. **Используйте популярные наборы правил** как основу
2. **Адаптируйте правила** под ваш проект и команду
3. **Интегрируйте в CI/CD** для проверки перед слиянием
4. **Регулярно обновляйте конфигурации** и зависимости
5. **Обучайте команду** использованию линтера

## Проверка в Git Hooks

```json
// package.json
{
  "scripts": {
    "lint": "eslint src/",
    "lint:fix": "eslint src/ --fix",
    "pre-commit": "lint-staged"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "git add"
    ]
  }
}
```

## Сравнение линтеров

| Линтер | Язык | Функции | Сложность | Использование |
|--------|------|---------|------------|----------------|
| ESLint | JavaScript/TypeScript | Полнота | Средняя | Универсальный выбор |
| Stylelint | CSS/SCSS/Less | Стили | Низкая | Стили |
| HTMLHint | HTML | Семантика | Низкая | HTML |
| JSHint | JavaScript | Основные | Низкая | Устаревший |

## См. также

- [[Системы-сборки]]
- [[Бандлеры]]
- [[Транспиляторы]]
- [[Форматтеры]]
- [[ESLint]]
- [[Stylelint]]
- [[Prettier]]

## Ключевые выводы

- Линтеры автоматизируют проверку качества кода и выявление ошибок
- Правильная настройка линтера повышает консистентность и читаемость кода
- Интеграция линтера в процесс разработки помогает предотвращать проблемы