---
aliases: [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è, Frontend Monitoring, Post-Deployment Monitoring, Application Performance Monitoring]
tags: [frontend, deployment, architecture, monitoring, observability, performance, best-practices, sentry, datadog, new-relic]
---

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–ø–æ—Å–ª–µ-–¥–µ–ø–ª–æ—è

## –û–±–∑–æ—Ä

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ—à–∏–±–∫–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –∏ –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω-–æ–∫—Ä—É–∂–µ–Ω–∏–∏. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –û—Å–Ω–æ–≤—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è?

- **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**: –ë—ã—Å—Ç—Ä–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—Ç–∫–ª–∏–∫–∞
- **–ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞**: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–±–æ–µ–≤
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**: –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç
- **–°–æ–±–ª—é–¥–µ–Ω–∏–µ SLA**: –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ–º—ã—Ö —É—Ä–æ–≤–Ω–µ–π –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

### –¢–∏–ø—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

1. **Application Performance Monitoring (APM)**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **Error Tracking**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
3. **Real User Monitoring (RUM)**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **Synthetic Monitoring**: –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
5. **Infrastructure Monitoring**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```javascript
// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Sentry SDK
npm install @sentry/browser @sentry/tracing

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
import * as Sentry from '@sentry/browser';
import { Integrations } from '@sentry/tracing';

Sentry.init({
  dsn: 'https://examplePublicKey@o0.ingest.sentry.io/0',
  integrations: [
    new Integrations.BrowserTracing(),
  ],
  
  // –£—Ä–æ–≤–µ–Ω—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
  tracesSampleRate: 1.0, // –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å 100% —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  
  // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫
  beforeSend(event, hint) {
    // –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ –∏–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö URL
    if (event.request && event.request.url.includes('extension://')) {
      return null;
    }
    
    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    if (window.currentUser) {
      event.user = {
        id: window.currentUser.id,
        email: window.currentUser.email,
        username: window.currentUser.username
      };
    }
    
    return event;
  }
});
```

#### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

```javascript
// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
try {
  // –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
  riskyOperation();
} catch (error) {
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—à–∏–±–∫–∏ –≤ Sentry —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
  Sentry.captureException(error, {
    contexts: {
      custom: {
        operation: 'riskyOperation',
        userId: getCurrentUserId(),
        timestamp: Date.now()
      }
    }
  });
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
Sentry.captureMessage('Custom error message', {
  level: 'error',
  contexts: {
    custom: {
      action: 'userAction',
      component: 'UserProfile'
    }
  }
});
```

### Application Performance Monitoring

#### Web Vitals –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Web Vitals –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
import { getCLS, getFID, getFCP, getLCP, getTTFB } from 'web-vitals';

// –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫ –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É
function sendToAnalytics(metric) {
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫–∏ –≤ –≤–∞—à—É –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É
  analytics.track('Web Vitals', {
    name: metric.name,
    value: metric.value,
    id: metric.id,
    delta: metric.delta,
    rating: metric.rating
  });
}

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
getCLS(sendToAnalytics);
getFID(sendToAnalytics);
getFCP(sendToAnalytics);
getLCP(sendToAnalytics);
getTTFB(sendToAnalytics);
```

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
// –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
class PerformanceTracker {
  constructor() {
    this.marks = new Map();
    this.measures = new Map();
  }

  startMark(name) {
    this.marks.set(name, performance.now());
  }

  endMark(name) {
    const start = this.marks.get(name);
    if (start) {
      const duration = performance.now() - start;
      this.measures.set(name, duration);
      
      // –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
      this.sendMetric(name, duration);
    }
  }

  sendMetric(name, value) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫–∏ –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É
    analytics.track('Performance Metric', {
      name: name,
      value: value,
      unit: 'milliseconds',
      timestamp: Date.now()
    });
  }

  // –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
  measureResourceLoadTime(resourceName) {
    const observer = new PerformanceObserver((list) => {
      for (const entry of list.getEntries()) {
        if (entry.name.includes(resourceName)) {
          this.sendMetric(`resource_load_time_${resourceName}`, entry.duration);
        }
      }
    });
    
    observer.observe({ entryTypes: ['navigation', 'resource'] });
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const tracker = new PerformanceTracker();
tracker.startMark('user_login_process');
// ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–Ω–∞
tracker.endMark('user_login_process');
```

### Real User Monitoring (RUM)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è RUM —Å –ø–æ–º–æ—â—å—é Navigation Timing API

```javascript
// –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
class RUMCollector {
  constructor() {
    this.metrics = {};
  }

  collectPageLoadMetrics() {
    if (performance && performance.timing) {
      const timing = performance.timing;
      
      this.metrics = {
        // –í—Ä–µ–º—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        domContentLoaded: timing.domContentLoadedEventEnd - timing.navigationStart,
        
        // –ü–æ–ª–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        pageLoadTime: timing.loadEventEnd - timing.navigationStart,
        
        // –í—Ä–µ–º—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
        connectTime: timing.connectEnd - timing.connectStart,
        
        // –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
        responseTime: timing.responseEnd - timing.responseStart,
        
        // –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        timeToFirstByte: timing.responseStart - timing.requestStart
      };
      
      // –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
      this.sendMetrics();
    }
  }

  // –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
  collectInteractionMetrics() {
    let interactionCount = 0;
    
    ['click', 'keypress', 'scroll', 'touchstart', 'mousedown'].forEach(eventType => {
      document.addEventListener(eventType, () => {
        interactionCount++;
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
        analytics.track('User Interaction', {
          type: eventType,
          count: interactionCount,
          timestamp: Date.now()
        });
      });
    });
  }

  sendMetrics() {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
    fetch('/api/metrics', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        type: 'page_load',
        metrics: this.metrics,
        userAgent: navigator.userAgent,
        url: window.location.href,
        timestamp: Date.now()
      })
    }).catch(error => {
      console.error('Failed to send metrics:', error);
    });
  }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RUM –∫–æ–ª–ª–µ–∫—Ü–∏–∏
const rumCollector = new RUMCollector();
window.addEventListener('load', () => {
  setTimeout(() => {
    rumCollector.collectPageLoadMetrics();
    rumCollector.collectInteractionMetrics();
  }, 0);
});
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –ø–æ–º–æ—â—å—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

### DataDog RUM

```javascript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è DataDog RUM
import { datadogRum } from '@datadog/browser-rum';

datadogRum.init({
  applicationId: 'XXX-XXX-XXX',
  clientToken: 'XXX-XXX-XXX',
  site: 'datadoghq.com',
  service: 'frontend-app',
  env: 'production',
  version: '1.0.0',
  sampleRate: 100,
  trackInteractions: true,
  defaultPrivacyLevel: 'mask-user-input',
});

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
datadogRum.setUser({
  id: getCurrentUserId(),
  name: getCurrentUserName(),
  email: getCurrentUserEmail(),
});

// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π
datadogRum.addAction('user_login', {
  status: 'success',
  userId: getCurrentUserId()
});
```

### New Relic Browser Monitoring

```javascript
// New Relic Browser –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏—è
window.NREUM || (NREUM = {});
NREUM.init = {
  "privacy": {
    "cookies_enabled": true
  },
  "ajax": {
    "deny_list": ["127.0.0.1", "localhost"]
  }
};

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤
if (window.NREUM && window.NREUM.agent) {
  NREUM.agent.addToCurrentSession('user_id', getCurrentUserId());
  NREUM.agent.addToCurrentSession('user_role', getCurrentUserRole());
}

// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π
if (typeof NREUM !== 'undefined' && NREUM.agent) {
  NREUM.agent.recordCustomEvent('UserAction', {
    action: 'button_click',
    component: 'navigation_menu',
    user_id: getCurrentUserId()
  });
}
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥

### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ª–æ–≥–≥–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±—ç–∫–µ–Ω–¥–æ–≤
class UniversalLogger {
  constructor() {
    this.loggers = [];
  }

  addLogger(logger) {
    this.loggers.push(logger);
  }

  log(level, message, metadata = {}) {
    this.loggers.forEach(logger => {
      logger.log(level, message, metadata);
    });
  }

  info(message, metadata = {}) {
    this.log('info', message, metadata);
  }

  error(message, metadata = {}) {
    this.log('error', message, metadata);
  }

  warn(message, metadata = {}) {
    this.log('warn', message, metadata);
  }

  debug(message, metadata = {}) {
    this.log('debug', message, metadata);
  }
}

// –õ–æ–≥–≥–µ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Sentry
class SentryLogger {
  log(level, message, metadata) {
    const event = {
      message: message,
      level: level,
      extra: metadata
    };

    switch (level) {
      case 'error':
        Sentry.captureException(new Error(message), { contexts: { custom: metadata } });
        break;
      case 'warn':
        Sentry.captureMessage(message, { level: 'warning', contexts: { custom: metadata } });
        break;
      default:
        Sentry.captureMessage(message, { level: level, contexts: { custom: metadata } });
    }
  }
}

// –õ–æ–≥–≥–µ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
class ConsoleLogger {
  log(level, message, metadata) {
    const timestamp = new Date().toISOString();
    console.log(`[${timestamp}] ${level.toUpperCase()}:`, message, metadata);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–≥–µ—Ä–∞
const logger = new UniversalLogger();
logger.addLogger(new SentryLogger());
logger.addLogger(new ConsoleLogger());

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
try {
  // –û–ø–∞—Å–Ω—ã–π –∫–æ–¥
  riskyOperation();
} catch (error) {
  logger.error('–û—à–∏–±–∫–∞ –≤ riskyOperation', {
    error: error.message,
    stack: error.stack,
    userId: getCurrentUserId(),
    timestamp: Date.now()
  });
}
```

### –ê–ª–µ—Ä—Ç–∏–Ω–≥ –∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è

```javascript
// –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
class AlertSystem {
  constructor() {
    this.alerts = [];
    this.thresholds = {
      errorRate: 0.05, // 5% –æ—à–∏–±–æ–∫
      pageLoadTime: 3000, // 3 —Å–µ–∫—É–Ω–¥—ã
      fcp: 2000, // 2 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è First Contentful Paint
      cls: 0.1 // Cumulative Layout Shift < 0.1
    };
  }

  checkErrorRate(errors, totalRequests) {
    if (totalRequests === 0) return false;
    
    const errorRate = errors / totalRequests;
    if (errorRate > this.thresholds.errorRate) {
      this.sendAlert('High Error Rate', {
        currentRate: errorRate,
        threshold: this.thresholds.errorRate,
        errors: errors,
        requests: totalRequests
      });
      return true;
    }
    return false;
  }

  checkPerformanceMetrics(metrics) {
    let alertsTriggered = false;

    if (metrics.pageLoadTime > this.thresholds.pageLoadTime) {
      this.sendAlert('Slow Page Load', {
        current: metrics.pageLoadTime,
        threshold: this.thresholds.pageLoadTime
      });
      alertsTriggered = true;
    }

    if (metrics.fcp > this.thresholds.fcp) {
      this.sendAlert('Slow First Contentful Paint', {
        current: metrics.fcp,
        threshold: this.thresholds.fcp
      });
      alertsTriggered = true;
    }

    if (metrics.cls > this.thresholds.cls) {
      this.sendAlert('Layout Instability', {
        current: metrics.cls,
        threshold: this.thresholds.cls
      });
      alertsTriggered = true;
    }

    return alertsTriggered;
  }

  sendAlert(title, data) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞ –≤ Slack
    fetch('/api/alerts/slack', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        text: `üö® ${title}`,
        attachments: [{
          color: 'danger',
          fields: Object.entries(data).map(([key, value]) => ({
            title: key,
            value: value.toString(),
            short: true
          }))
        }]
      })
    });

    // –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞ –≤ email
    fetch('/api/alerts/email', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        subject: `Alert: ${title}`,
        recipients: ['dev-team@example.com'],
        data: data
      })
    });

    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–µ—Ä—Ç–∞
    console.error(`ALERT: ${title}`, data);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞
const alertSystem = new AlertSystem();

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
const metrics = {
  pageLoadTime: 4500, // –°–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ
  fcp: 2500, // –°–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ
  cls: 0.15 // –°–ª–∏—à–∫–æ–º –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ
};

alertSystem.checkPerformanceMetrics(metrics);
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫

```javascript
// –°–±–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
class KeyMetricsCollector {
  constructor() {
    this.metrics = {
      fcp: null, // First Contentful Paint
      lcp: null, // Largest Contentful Paint
      cls: null, // Cumulative Layout Shift
      fid: null, // First Input Delay
      ttfb: null // Time to First Byte
    };
  }

  collectMetrics() {
    // –°–±–æ—Ä Web Vitals
    getFCP(entry => this.metrics.fcp = entry.value);
    getLCP(entry => this.metrics.lcp = entry.value);
    getCLS(entry => this.metrics.cls = entry.value);
    getFID(entry => this.metrics.fid = entry.value);
    getTTFB(entry => this.metrics.ttfb = entry.value);
  }

  getHealthStatus() {
    const thresholds = {
      fcp: 1800, // 1.8s
      lcp: 2500, // 2.5s
      cls: 0.1,
      fid: 100, // 100ms
      ttfb: 600 // 600ms
    };

    return {
      fcp: this.metrics.fcp <= thresholds.fcp,
      lcp: this.metrics.lcp <= thresholds.lcp,
      cls: this.metrics.cls <= thresholds.cls,
      fid: this.metrics.fid <= thresholds.fid,
      ttfb: this.metrics.ttfb <= thresholds.ttfb,
      overall: this.metrics.fcp <= thresholds.fcp &&
               this.metrics.lcp <= thresholds.lcp &&
               this.metrics.cls <= thresholds.cls &&
               this.metrics.fid <= thresholds.fid &&
               this.metrics.ttfb <= thresholds.ttfb
    };
  }
}
```

### 2. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ—Å—Å–∏–π

```javascript
// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ—Å—Å–∏–π
class SessionTracker {
  constructor() {
    this.sessionId = this.generateSessionId();
    this.startTime = Date.now();
    this.events = [];
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞—á–∞–ª–∞ —Å–µ—Å—Å–∏–∏
    this.sendEvent('session_start', {
      sessionId: this.sessionId,
      userAgent: navigator.userAgent,
      viewport: `${window.innerWidth}x${window.innerHeight}`,
      url: window.location.href
    });
    
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏
    window.addEventListener('beforeunload', () => {
      this.sendEvent('session_end', {
        sessionId: this.sessionId,
        duration: Date.now() - this.startTime,
        eventCount: this.events.length
      });
    });
  }

  generateSessionId() {
    return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
  }

  trackEvent(name, data = {}) {
    const event = {
      name: name,
      timestamp: Date.now(),
      sessionId: this.sessionId,
      data: data
    };
    
    this.events.push(event);
    this.sendEvent(name, data);
  }

  sendEvent(name, data) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    fetch('/api/events', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        name: name,
        sessionId: this.sessionId,
        timestamp: Date.now(),
        data: data
      })
    }).catch(error => {
      console.error('Failed to send event:', error);
    });
  }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–µ—Ä–∞ —Å–µ—Å—Å–∏–π
const sessionTracker = new SessionTracker();
```

### 3. –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```javascript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
function anonymizeData(data) {
  const anonymized = { ...data };
  
  // –£–¥–∞–ª–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
  const sensitiveFields = ['password', 'credit_card', 'ssn', 'email'];
  sensitiveFields.forEach(field => {
    if (anonymized[field]) {
      delete anonymized[field];
    }
  });
  
  // –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è URL
  if (anonymized.url) {
    anonymized.url = anonymized.url.replace(/token=[^&]*/g, 'token=***');
    anonymized.url = anonymized.url.replace(/key=[^&]*/g, 'key=***');
  }
  
  // –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
  if (anonymized.message && typeof anonymized.message === 'string') {
    anonymized.message = anonymized.message.replace(/\b\d{4}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}\b/g, '****-****-****-****');
  }
  
  return anonymized;
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –¥–µ–ø–ª–æ—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```javascript
// –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
class PostDeploymentMonitor {
  constructor(deploymentId) {
    this.deploymentId = deploymentId;
    this.deploymentTime = Date.now();
    this.baselineMetrics = null;
    
    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ baseline –º–µ—Ç—Ä–∏–∫ –¥–æ –¥–µ–ø–ª–æ—è
    this.captureBaselineMetrics();
    
    // –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
    setTimeout(() => this.startPostDeploymentMonitoring(), 30000); // 30 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
  }

  async captureBaselineMetrics() {
    // –ó–∞—Ö–≤–∞—Ç –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –¥–æ –¥–µ–ø–ª–æ—è
    this.baselineMetrics = await this.getCurrentMetrics();
  }

  async getCurrentMetrics() {
    return new Promise(resolve => {
      let metrics = {};
      let collected = 0;
      const expected = 5; // FCP, LCP, CLS, FID, TTFB

      getFCP(entry => {
        metrics.fcp = entry.value;
        collected++;
        if (collected === expected) resolve(metrics);
      });

      getLCP(entry => {
        metrics.lcp = entry.value;
        collected++;
        if (collected === expected) resolve(metrics);
      });

      getCLS(entry => {
        metrics.cls = entry.value;
        collected++;
        if (collected === expected) resolve(metrics);
      });

      getFID(entry => {
        metrics.fid = entry.value;
        collected++;
        if (collected === expected) resolve(metrics);
      });

      getTTFB(entry => {
        metrics.ttfb = entry.value;
        collected++;
        if (collected === expected) resolve(metrics);
      });
    });
  }

  async startPostDeploymentMonitoring() {
    // –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —Å baseline
    const currentMetrics = await this.getCurrentMetrics();
    
    const degradationDetected = this.compareMetrics(
      this.baselineMetrics,
      currentMetrics
    );
    
    if (degradationDetected) {
      this.sendDeploymentAlert(currentMetrics);
    } else {
      console.log('No performance degradation detected after deployment');
    }
  }

  compareMetrics(baseline, current) {
    // –ü–æ—Ä–æ–≥–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏
    const thresholds = {
      fcp: 1.2, // 20% —É—Ö—É–¥—à–µ–Ω–∏—è
      lcp: 1.2,
      cls: 1.5, // 50% —É—Ö—É–¥—à–µ–Ω–∏—è
      fid: 1.5,
      ttfb: 1.3  // 30% —É—Ö—É–¥—à–µ–Ω–∏—è
    };

    for (const [metric, threshold] of Object.entries(thresholds)) {
      if (current[metric] && baseline[metric] && 
          current[metric] > baseline[metric] * threshold) {
        return true;
      }
    }
    
    return false;
  }

  sendDeploymentAlert(metrics) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–∞ –æ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
    fetch('/api/alerts/deployment', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        deploymentId: this.deploymentId,
        type: 'performance_degradation',
        metrics: metrics,
        timestamp: Date.now()
      })
    });
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
const deploymentMonitor = new PostDeploymentMonitor('deploy_12345');
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [[–°—Ç—Ä–∞—Ç–µ—Ä–≥–∏–∏-–¥–µ–ø–ª–æ—è]]
- [[–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è]]
- [[–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è]]
- [[CI-CD]]

## –¢–µ–≥–∏

#frontend #deployment #architecture #monitoring #observability #performance #sentry #datadog #new-relic #web-vitals #rum #apm #alerts #best-practices