---
tags: [programming, regexp, advanced, frontend, javascript]
aliases: [–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-—Ç–µ–º—ã-—Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö-–≤—ã—Ä–∞–∂–µ–Ω–∏–π, advanced-regexp]
---

# –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –≠—Ç–∏ —Ç–µ–º—ã –ø–æ–º–æ–≥—É—Ç –≤–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ –º–æ—â–Ω—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä–æ–∫.

## –û–ø–µ—Ä–µ–∂–∞—é—â–∏–µ –∏ —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è –æ–ø–µ—Ä–µ–∂–∞—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `(?=...)`

–ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è –æ–ø–µ—Ä–µ–∂–∞—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –∑–∞ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π —Å–ª–µ–¥—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω, –Ω–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –µ–≥–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

```javascript
// –ù–∞–π—Ç–∏ –≤—Å–µ —Å–ª–æ–≤–∞, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ —Å–ª–µ–¥—É–µ—Ç —Ü–∏—Ñ—Ä–∞
const text = "word1 test2 abc3 def";
const regex = /\w+(?=\d)/g;
console.log(text.match(regex)); // ['word', 'test', 'abc']

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è –±–µ–∑ –∑–∞—Ö–≤–∞—Ç–∞
const password = "MyPassword123!";
const complexPasswordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$/;
console.log(complexPasswordRegex.test(password)); // true
```

### –ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è –æ–ø–µ—Ä–µ–∂–∞—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `(?!...)`

–ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è –æ–ø–µ—Ä–µ–∂–∞—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –∑–∞ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π –ù–ï —Å–ª–µ–¥—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω.

```javascript
// –ù–∞–π—Ç–∏ –≤—Å–µ —Å–ª–æ–≤–∞, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ –ù–ï —Å–ª–µ–¥—É–µ—Ç —Ü–∏—Ñ—Ä–∞
const text = "word1 test2 abc def";
const regex = /\w+(?!\d)/g;
console.log(text.match(regex)); // ['word1', 'test2', 'abc', 'def'] - –Ω–µ —Å–æ–≤—Å–µ–º –æ–∂–∏–¥–∞–µ–º–æ

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä: –Ω–∞–π—Ç–∏ —Å–ª–æ–≤–∞, –Ω–µ —è–≤–ª—è—é—â–∏–µ—Å—è –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ JavaScript
const code = "const variable = function() { return value; };";
const nonKeywordsRegex = /\b(?!const\b|let\b|var\b|function\b)\w+\b/g;
console.log(code.match(nonKeywordsRegex)); // ['variable', 'return', 'value']
```

### –ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `(?<=...)`

–ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (ES2018+) —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–¥ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π —Å–ª–µ–¥—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω.

```javascript
// –ù–∞–π—Ç–∏ —á–∏—Å–ª–∞, –ø–µ—Ä–µ–¥ –∫–æ—Ç–æ—Ä—ã–º–∏ —Å—Ç–æ–∏—Ç –∑–Ω–∞–∫ –¥–æ–ª–ª–∞—Ä–∞
const text = "–¶–µ–Ω–∞: $10.99, —Å–∫–∏–¥–∫–∞: $5, –Ω–∞–ª–æ–≥: 1.50";
const priceRegex = /(?<=\$)\d+(\.\d+)?/g;
console.log(text.match(priceRegex)); // ['10', '99', '5'] - –Ω–µ —Å–æ–≤—Å–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä: –∏–∑–≤–ª–µ—á—å —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ü–µ–Ω
const text2 = "–¶–µ–Ω–∞: $10.99, —Å–∫–∏–¥–∫–∞: $5, –Ω–∞–ª–æ–≥: 1.50";
const fullPriceRegex = /(?<=\$)\d+(?:\.\d{2})?/g;
console.log(text2.match(fullPriceRegex)); // ['10.99', '5'] - –±–ª–∏–∂–µ –∫ –æ–∂–∏–¥–∞–µ–º–æ–º—É
```

### –ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `(?<!...)`

–ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–¥ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π –ù–ï —Å–ª–µ–¥—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω.

```javascript
// –ù–∞–π—Ç–∏ —á–∏—Å–ª–∞, –ø–µ—Ä–µ–¥ –∫–æ—Ç–æ—Ä—ã–º–∏ –ù–ï —Å—Ç–æ–∏—Ç –∑–Ω–∞–∫ –¥–æ–ª–ª–∞—Ä–∞
const text = "$10.99 –∏ 15.50 —Ä—É–±–ª–µ–π";
const nonPriceRegex = /(?<!\$)\b\d+(?:\.\d{2})?\b/g;
console.log(text.match(nonPriceRegex)); // ['15.50'] - —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞ –±–µ–∑ $
```

## –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

–•–æ—Ç—è JavaScript –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏—Å—Ç–∏–Ω–Ω—É—é —Ä–µ–∫—É—Ä—Å–∏—é –≤ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä.

```javascript
// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–∫–æ–±–æ–∫ —Å –ø–æ–º–æ—â—å—é –∏—Ç–µ—Ä–∞—Ü–∏–∏
function extractNestedBrackets(str) {
  const results = [];
  let depth = 0;
  let current = '';
  
  for (const char of str) {
    if (char === '(') {
      if (depth > 0) current += char;
      depth++;
    } else if (char === ')') {
      depth--;
      if (depth > 0) {
        current += char;
      } else if (depth === 0) {
        results.push(current);
        current = '';
      }
    } else if (depth > 0) {
      current += char;
    }
  }
  
  return results;
}

console.log(extractNestedBrackets("(–≤–Ω–µ—à–Ω—è—è(–≤–ª–æ–∂–µ–Ω–Ω–∞—è)—á–∞—Å—Ç—å)–∏(–µ—â–µ(–æ–¥–Ω–∞)–≥—Ä—É–ø–ø–∞)"));
// ['–≤–Ω–µ—à–Ω—è—è(–≤–ª–æ–∂–µ–Ω–Ω–∞—è)—á–∞—Å—Ç—å', '–µ—â–µ(–æ–¥–Ω–∞)–≥—Ä—É–ø–ø–∞']
```

## –°–ª–æ–∂–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –ü–∞—Ä—Å–∏–Ω–≥ HTML —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏

```javascript
// –í–Ω–∏–º–∞–Ω–∏–µ: –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DOM-–ø–∞—Ä—Å–µ—Ä—ã
// –ù–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

function extractHtmlAttributes(html, tagName) {
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏–∑ —Ç–µ–≥–æ–≤ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
  const attrRegex = new RegExp(`<${tagName}\\s+([^>]*?)(?:>|\\s/>)`, 'gi');
  const matches = [...html.matchAll(attrRegex)];
  
  const attributes = [];
  for (const match of matches) {
    // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä –∞—Ç—Ä–∏–±—É—Ç-–∑–Ω–∞—á–µ–Ω–∏–µ
    const attrPairs = match[1].match(/(\w+)\s*=\s*["']([^"']*)["']/g);
    if (attrPairs) {
      const attrObj = {};
      for (const pair of attrPairs) {
        const [key, value] = pair.split(/=\s*["']|["']\s*$/).filter(Boolean);
        attrObj[key.trim()] = value;
      }
      attributes.push(attrObj);
    }
  }
  
  return attributes;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const html = '<div class="container" id="main">Content</div><div class="sidebar" data-toggle="true"></div>';
console.log(extractHtmlAttributes(html, 'div'));
// [{ class: 'container', id: 'main' }, { class: 'sidebar', 'data-toggle': 'true' }]
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

```javascript
// –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤ 12-—á–∞—Å–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
function validate12HourTime(timeString) {
  const timeRegex = /^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM|am|pm)$/i;
  return timeRegex.test(timeString);
}

console.log(validate12HourTime("12:30 PM")); // true
console.log(validate12HourTime("1:45 am"));  // true
console.log(validate12HourTime("23:45 PM")); // false

// –í–∞–ª–∏–¥–∞—Ü–∏—è IPv4 —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
function validateIPv4(ip) {
  // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–∑–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
  if (!/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/.test(ip)) {
    return false;
  }
  
  // –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞–∂–¥–∞—è —á–∞—Å—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0-255
  const parts = ip.split('.').map(Number);
  return parts.every(part => part >= 0 && part <= 255);
}

console.log(validateIPv4("192.168.1.1")); // true
console.log(validateIPv4("256.1.1.1"));   // false
```

### –†–∞–±–æ—Ç–∞ —Å Unicode –∏ —ç–º–æ–¥–∑–∏

```javascript
// –ü–æ–¥—Å—á–µ—Ç —Å–ª–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Unicode –∏ —ç–º–æ–¥–∑–∏
function countWordsWithUnicode(text) {
  // \p{L} —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—é–±–æ–º—É –±—É–∫–≤–µ–Ω–Ω–æ–º —Å–∏–º–≤–æ–ª—É –≤ Unicode
  // \p{N} —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—é–±–æ–º—É —á–∏—Å–ª–æ–≤–æ–º—É —Å–∏–º–≤–æ–ª—É –≤ Unicode
  const wordRegex = /[\p{L}\p{N}]+/gu;
  const matches = text.match(wordRegex);
  return matches ? matches.length : 0;
}

const textWithUnicode = "–ü—Ä–∏–≤–µ—Ç! üëã –ö–∞–∫ –¥–µ–ª–∞? ÿßŸÑÿπÿ±ÿ®Ÿäÿ© 123";
console.log(countWordsWithUnicode(textWithUnicode)); // 6 (–ü—Ä–∏–≤–µ—Ç, –ö–∞–∫, –¥–µ–ª–∞, ÿßŸÑÿπÿ±ÿ®Ÿäÿ©, 123 –∏ –µ—â–µ –æ–¥–Ω–æ —Å–ª–æ–≤–æ –∏–∑ —ç–º–æ–¥–∑–∏?)

// –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç —Å–ª–æ–≤
function extractWordsWithUnicode(text) {
  const wordRegex = /[\p{L}\p{N}]+/gu;
  const matches = text.match(wordRegex);
  return matches || [];
}

console.log(extractWordsWithUnicode(textWithUnicode)); // ['–ü—Ä–∏–≤–µ—Ç', '–ö–∞–∫', '–¥–µ–ª–∞', 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©', '123']
```

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

### –ò–∑–±–µ–≥–∞–Ω–∏–µ ReDoS –∞—Ç–∞–∫

ReDoS (Regular Expression Denial of Service) –∞—Ç–∞–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ª–æ–∂–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.

```javascript
// –ü–ª–æ—Ö–æ: —É—è–∑–≤–∏–º–æ –∫ ReDoS
const vulnerableRegex = /(a+)+b/;

// –õ—É—á—à–µ: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
const safeRegex = /a+b/;

// –ü—Ä–∏–º–µ—Ä: –≤–∞–ª–∏–¥–∞—Ü–∏—è IPv4 –±–µ–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
function safeValidateIPv4(ip) {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å backtracking
  const safeRegex = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;
  const match = ip.match(safeRegex);
  
  if (!match) return false;
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π
  for (let i = 1; i <= 4; i++) {
    const num = parseInt(match[i], 10);
    if (isNaN(num) || num < 0 || num > 255) {
      return false;
    }
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–µ –±—ã–ª–æ –≤–µ–¥—É—â–∏—Ö –Ω—É–ª–µ–π (–∫—Ä–æ–º–µ —Å–∞–º–æ–≥–æ –Ω—É–ª—è)
    if (match[i].length > 1 && match[i][0] === '0') {
      return false;
    }
  }
  
  return true;
}

console.log(safeValidateIPv4("192.168.01.1")); // false (–≤–µ–¥—É—â–∏–π –Ω–æ–ª—å)
console.log(safeValidateIPv4("192.168.0.1"));  // true
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

```javascript
// –ö–ª–∞—Å—Å –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
class RegexOptimizer {
  constructor() {
    this.cache = new Map();
  }
  
  get(pattern, flags = '') {
    const key = `${pattern}_${flags}`;
    if (!this.cache.has(key)) {
      this.cache.set(key, new RegExp(pattern, flags));
    }
    return this.cache.get(key);
  }
  
  // –ú–µ—Ç–æ–¥ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞
  clear() {
    this.cache.clear();
  }
}

const regexOptimizer = new RegexOptimizer();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
function validateEmail(email) {
  const emailRegex = regexOptimizer.get('^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$', 'i');
  return emailRegex.test(email);
}
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∫–∞—Ä—Ç

```javascript
class CreditCardValidator {
  static patterns = {
    visa: /^4[0-9]{12}(?:[0-9]{3})?$/,
    mastercard: /^5[1-5][0-9]{14}$/,
    amex: /^3[47][0-9]{13}$/,
    discover: /^6(?:011|5[0-9]{2})[0-9]{12}$/
  };
  
  static validate(cardNumber) {
    // –£–¥–∞–ª—è–µ–º –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã –∏ –¥–µ—Ñ–∏—Å—ã
    const cleanNumber = cardNumber.replace(/[\s-]/g, '');
    
    for (const [type, pattern] of Object.entries(this.patterns)) {
      if (pattern.test(cleanNumber)) {
        return { valid: true, type };
      }
    }
    
    return { valid: false, type: null };
  }
  
  static format(cardNumber) {
    // –£–¥–∞–ª—è–µ–º –≤—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
    const cleanNumber = cardNumber.replace(/\D/g, '');
    
    // –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –≥—Ä—É–ø–ø—ã –ø–æ 4 —Ü–∏—Ñ—Ä—ã
    return cleanNumber.replace(/(\d{4})/g, '$1 ').trim();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
console.log(CreditCardValidator.validate('4111111111111111')); // { valid: true, type: 'visa' }
console.log(CreditCardValidator.format('4111111111111111')); // "4111 1111 1111 1111"
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤

```javascript
// –í–∞–ª–∏–¥–∞—Ü–∏—è ISBN-10 –∏ ISBN-13
function validateISBN(isbn) {
  // –£–¥–∞–ª—è–µ–º –¥–µ—Ñ–∏—Å—ã –∏ –ø—Ä–æ–±–µ–ª—ã
  const cleanIsbn = isbn.replace(/[-\s]/g, '');
  
  if (cleanIsbn.length === 10) {
    // ISBN-10
    const regex = /^(?:\d{9}[\dX]|\d{10})$/;
    if (!regex.test(cleanIsbn)) return false;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –¥–ª—è ISBN-10
    let sum = 0;
    for (let i = 0; i < 9; i++) {
      sum += parseInt(cleanIsbn[i]) * (10 - i);
    }
    
    const lastChar = cleanIsbn[9];
    const lastValue = lastChar === 'X' ? 10 : parseInt(lastChar);
    sum += lastValue;
    
    return sum % 11 === 0;
  } else if (cleanIsbn.length === 13) {
    // ISBN-13
    const regex = /^\d{13}$/;
    if (!regex.test(cleanIsbn)) return false;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –¥–ª—è ISBN-13
    let sum = 0;
    for (let i = 0; i < 12; i++) {
      sum += parseInt(cleanIsbn[i]) * (i % 2 === 0 ? 1 : 3);
    }
    
    const checkDigit = (10 - (sum % 10)) % 10;
    return checkDigit === parseInt(cleanIsbn[12]);
  }
  
  return false;
}

console.log(validateISBN("0-306-40615-2")); // true (ISBN-10)
console.log(validateISBN("978-0-306-40615-7")); // true (ISBN-13)
```

## –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

### –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

```javascript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
function measureRegexPerformance(regex, text, iterations = 10000) {
  const startTime = performance.now();
  
  for (let i = 0; i < iterations; i++) {
    regex.test(text);
  }
  
  const endTime = performance.now();
  return {
    time: endTime - startTime,
    avgTime: (endTime - startTime) / iterations
  };
}

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤
const text = "JavaScript - —ç—Ç–æ –º–æ—â–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. JavaScript –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.";
const simpleRegex = /JavaScript/;
const globalRegex = /JavaScript/g;

console.log("–ü—Ä–æ—Å—Ç–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:", measureRegexPerformance(simpleRegex, text));
console.log("–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:", measureRegexPerformance(globalRegex, text));
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

```javascript
// –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
function inefficientValidation(input) {
  // –°–ª–∏—à–∫–æ–º –æ–±—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–º—É backtracking
  return /^(a+)+b$/.test(input);
}

// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
function optimizedValidation(input) {
  // –ë–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
  return /^a+b$/.test(input);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –≥—Ä—É–ø–ø (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ JavaScript, –Ω–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
// –í JavaScript –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–µ –≥—Ä—É–ø–ø—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
function betterValidation(input) {
  return /^(?:a+)+b$/.test(input);
}
```

## –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–ª–∞–≥–∞ `d` (Indices) - ES2022

–§–ª–∞–≥ `d` –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω–¥–µ–∫—Å–∞—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:

```javascript
const text = "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!";
const regex = /–º–∏—Ä/dg;

const matches = [...text.matchAll(regex)];
for (const match of matches) {
  console.log({
    value: match[0],
    indices: match.indices[0] // [start, end] –∏–Ω–¥–µ–∫—Å—ã —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
  });
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø —Å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

```javascript
// –°–ª–æ–∂–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏
const logPattern = /^(?<timestamp>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}) (?<level>\w+) \[(?<thread>[^\]]+)\] (?<logger>[^:]+): (?<message>.*)$/;

const logLine = "2023-12-25 10:30:45 INFO [main] com.example.App: Application started";
const match = logLine.match(logPattern);

if (match) {
  console.log("–í—Ä–µ–º—è:", match.groups.timestamp);
  console.log("–£—Ä–æ–≤–µ–Ω—å:", match.groups.level);
  console.log("–ü–æ—Ç–æ–∫:", match.groups.thread);
  console.log("–õ–æ–≥–≥–µ—Ä:", match.groups.logger);
  console.log("–°–æ–æ–±—â–µ–Ω–∏–µ:", match.groups.message);
}
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

```javascript
// –ö–ª–∞—Å—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
class RegexTester {
  static test(pattern, testCases, flags = '') {
    const regex = new RegExp(pattern, flags);
    const results = [];
    
    for (const [input, expected] of testCases) {
      const actual = regex.test(input);
      results.push({
        input,
        expected,
        actual,
        passed: expected === actual
      });
    }
    
    return results;
  }
  
  static find(pattern, text, flags = 'g') {
    const regex = new RegExp(pattern, flags);
    return [...text.matchAll(regex)].map(match => ({
      match: match[0],
      index: match.index,
      groups: match.groups || {}
    }));
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const testCases = [
  ["test@example.com", true],
  ["invalid.email", false],
  ["user@domain.co.uk", true]
];

const results = RegexTester.test('^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$', testCases, 'i');
console.log(results);
```

### –û—Ç–ª–∞–¥–∫–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

```javascript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
function debugRegex(pattern, text, flags = 'g') {
  const regex = new RegExp(pattern, flags);
  const matches = [...text.matchAll(regex)];
  
  console.log(`–ü–∞—Ç—Ç–µ—Ä–Ω: /${pattern}/${flags}`);
  console.log(`–¢–µ–∫—Å—Ç: "${text}"`);
  console.log(`–ù–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π: ${matches.length}`);
  
  matches.forEach((match, index) => {
    console.log(`–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ ${index + 1}: "${match[0]}" (–ø–æ–∑–∏—Ü–∏—è ${match.index})`);
    if (match.groups) {
      console.log(`  –ì—Ä—É–ø–ø—ã:`, match.groups);
    }
  });
  
  return matches;
}

// –ü—Ä–∏–º–µ—Ä –æ—Ç–ª–∞–¥–∫–∏
debugRegex('\\b(\\w+)@(\\w+\\.\\w+)\\b', '–ö–æ–Ω—Ç–∞–∫—Ç: user@example.com');
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

- –ü—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏
- –ò–∑—É—á–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º –≤ JavaScript
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π