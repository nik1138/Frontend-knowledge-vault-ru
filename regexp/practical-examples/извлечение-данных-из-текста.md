---
tags: [programming, regexp, data-extraction, frontend, javascript, practical]
aliases: [–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ-–¥–∞–Ω–Ω—ã—Ö-–∏–∑-—Ç–µ–∫—Å—Ç–∞, regexp-data-extraction]
---

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Äî –≤–∞–∂–Ω–∞—è –∑–∞–¥–∞—á–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –ª–æ–≥–æ–≤, –∞–Ω–∞–ª–∏—Ç–∏–∫–µ —Ç–µ–∫—Å—Ç–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞.

## –û—Å–Ω–æ–≤—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–µ–∫—Å—Ç–∞ –≤ JavaScript –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

- `String.prototype.match()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- `String.prototype.matchAll()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä –≤—Å–µ—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- `RegExp.prototype.exec()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –æ–¥–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∑–∞ —Ä–∞–∑
- `String.prototype.split()` - —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É

## –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

```javascript
// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö email-–∞–¥—Ä–µ—Å–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞
const textWithEmails = '–ö–æ–Ω—Ç–∞–∫—Ç—ã: john@example.com, jane@domain.org, invalid-email, admin@site.co.uk';
const emailRegex = /\b[\w.-]+@[\w.-]+\.\w{2,}\b/g;
const emails = textWithEmails.match(emailRegex);
console.log(emails); // ['john@example.com', 'jane@domain.org', 'admin@site.co.uk']

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö URL
const textWithUrls = '–ü–æ—Å–µ—Ç–∏—Ç–µ https://example.com –∏–ª–∏ http://test.org –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏';
const urlRegex = /https?:\/\/[\w.-]+\.[a-zA-Z]{2,}(?:\/[\w.-]*)*/g;
const urls = textWithUrls.match(urlRegex);
console.log(urls); // ['https://example.com', 'http://test.org']

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–∏—Å–µ–ª
const textWithNumbers = '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 25.5¬∞C, –¥–∞–≤–ª–µ–Ω–∏–µ: 760 –º–º —Ä—Ç. —Å—Ç., —Å–∫–æ—Ä–æ—Å—Ç—å: 60 –∫–º/—á';
const numberRegex = /\d+(?:\.\d+)?/g;
const numbers = textWithNumbers.match(numberRegex);
console.log(numbers); // ['25.5', '760', '60']
```

## –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –≥—Ä—É–ø–ø–∞–º–∏

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–∞—Ç—ã

```javascript
// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–∞—Ç—ã –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
function extractDateComponents(text) {
  const dateRegex = /(\d{2})[\/\-\.](\d{2})[\/\-\.](\d{4})/g;
  const matches = [...text.matchAll(dateRegex)];
  
  return matches.map(match => ({
    fullDate: match[0],
    day: parseInt(match[1]),
    month: parseInt(match[2]),
    year: parseInt(match[3]),
    index: match.index
  }));
}

const textWithDates = '–í—Å—Ç—Ä–µ—á–∏: 25/12/2023, 01-01-2024, 15.03.2024';
console.log(extractDateComponents(textWithDates));
// [
//   { fullDate: '25/12/2023', day: 25, month: 12, year: 2023, index: 9 },
//   { fullDate: '01-01-2024', day: 1, month: 1, year: 2024, index: 20 },
//   { fullDate: '15.03.2024', day: 15, month: 3, year: 2024, index: 32 }
// ]
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ URL

```javascript
// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ URL —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏
function extractUrlComponents(text) {
  const urlRegex = /(?<protocol>https?):\/\/(?<domain>[\w.-]+)(?:\:(?<port>\d+))?(?<path>\/[^\s]*)?/g;
  const matches = [...text.matchAll(urlRegex)];
  
  return matches.map(match => ({
    fullUrl: match[0],
    protocol: match.groups.protocol,
    domain: match.groups.domain,
    port: match.groups.port || '80/443',
    path: match.groups.path || '/',
    index: match.index
  }));
}

const textWithComplexUrls = '–°–∞–π—Ç—ã: https://example.com, http://api.service.org:8080/v1/users, https://docs.example.com/guide';
console.log(extractUrlComponents(textWithComplexUrls));
// [
//   { fullUrl: 'https://example.com', protocol: 'https', domain: 'example.com', port: '80/443', path: '/', index: 7 },
//   { fullUrl: 'http://api.service.org:8080/v1/users', protocol: 'http', domain: 'api.service.org', port: '8080', path: '/v1/users', index: 26 },
//   ...
// ]
```

## –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –ª–æ–≥–æ–≤

```javascript
class LogParser {
  // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Apache-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –ª–æ–≥–æ–≤
  static apacheLogRegex = /^(\S+) (\S+) (\S+) \[([\w:/]+\s[+\-]\d{4})\] "(\S+) (\S+) (\S+)" (\d{3}) (\d+|"-")/;
  
  // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –ª–æ–≥–æ–≤ —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏
  static namedApacheLogRegex = /^(?<ip>\S+) \S+ \S+ \[(?<timestamp>[^]]+)\] "(?<method>\S+) (?<url>\S+) \S+" (?<status>\d{3}) (?<size>\d+|"-")/;
  
  // –ü–∞—Ä—Å–∏–Ω–≥ –æ–¥–Ω–æ–≥–æ –ª–æ–≥-–∑–∞–ø–∏—Å–∏
  static parseLine(logLine) {
    const match = logLine.match(this.namedApacheLogRegex);
    if (!match) return null;
    
    return {
      ip: match.groups.ip,
      timestamp: match.groups.timestamp,
      method: match.groups.method,
      url: match.groups.url,
      status: parseInt(match.groups.status),
      size: match.groups.size === '-' ? 0 : parseInt(match.groups.size)
    };
  }
  
  // –ü–∞—Ä—Å–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª–æ–≥-–∑–∞–ø–∏—Å–µ–π
  static parseLines(logText) {
    return logText
      .split('\n')
      .map(line => this.parseLine(line.trim()))
      .filter(Boolean);
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–æ–≤ –∏–∑ –ª–æ–≥–∞
  static extractIps(logText) {
    const ipRegex = /\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/g;
    const matches = [...logText.matchAll(ipRegex)];
    return [...new Set(matches.map(match => match[0]))]; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ HTTP
  static extractStatuses(logText) {
    const statusRegex = /\s(\d{3})\s/g;
    const matches = [...logText.matchAll(statusRegex)];
    return [...new Set(matches.map(match => parseInt(match[1])))]; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const sampleLog = `192.168.1.1 - - [25/Dec/2023:10:00:00 +0000] "GET /index.html HTTP/1.1" 200 1234
10.0.0.1 - - [25/Dec/2023:10:01:00 +0000] "POST /api/users HTTP/1.1" 201 567
192.168.1.1 - - [25/Dec/2023:10:02:00 +0000] "GET /about HTTP/1.1" 404 234`;

const parsedLogs = LogParser.parseLines(sampleLog);
console.log(parsedLogs);
// [
//   { ip: '192.168.1.1', timestamp: '25/Dec/2023:10:00:00 +0000', method: 'GET', url: '/index.html', status: 200, size: 1234 },
//   ...
// ]

console.log('IP-–∞–¥—Ä–µ—Å–∞:', LogParser.extractIps(sampleLog)); // ['192.168.1.1', '10.0.0.1']
console.log('–°—Ç–∞—Ç—É—Å—ã:', LogParser.extractStatuses(sampleLog)); // [200, 201, 404]
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ JSON-–ø–æ–¥–æ–±–Ω—ã—Ö —Å—Ç—Ä–æ–∫

```javascript
class JsonLikeParser {
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ JSON-–ø–æ–¥–æ–±–Ω—ã—Ö —Å—Ç—Ä–æ–∫
  static extractKeyValuePairs(jsonLikeString) {
    // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
    const kvRegex = /"([^"]+)"\s*:\s*"([^"]*)"|(\w+)\s*:\s*"([^"]*)"|(\w+)\s*:\s*(\w+|[\d.]+)/g;
    const matches = [...jsonLikeString.matchAll(kvRegex)];
    
    const result = {};
    matches.forEach(match => {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–æ–π —Ç–∏–ø –ø–∞—Ä—ã –±—ã–ª –Ω–∞–π–¥–µ–Ω
      if (match[1] && match[2]) {
        // "–∫–ª—é—á": "–∑–Ω–∞—á–µ–Ω–∏–µ"
        result[match[1]] = match[2];
      } else if (match[3] && match[4]) {
        // –∫–ª—é—á: "–∑–Ω–∞—á–µ–Ω–∏–µ"
        result[match[3]] = match[4];
      } else if (match[5] && match[6]) {
        // –∫–ª—é—á: –∑–Ω–∞—á–µ–Ω–∏–µ
        result[match[5]] = isNaN(match[6]) ? match[6] : Number(match[6]);
      }
    });
    
    return result;
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö JSON-–æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞
  static extractJsonObjects(text) {
    // –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
    const jsonRegex = /\{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})*\}/g;
    const matches = [...text.matchAll(jsonRegex)];
    return matches.map(match => match[0]);
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤
  static extractJsonArrays(text) {
    const arrayRegex = /\[(?:[^\[\]]|\[(?:[^\[\]]|\[[^\[\]]*\])*\])*\]/g;
    const matches = [...text.matchAll(arrayRegex)];
    return matches.map(match => match[0]);
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const textWithJson = '–î–∞–Ω–Ω—ã–µ: {"name": "–ò–≤–∞–Ω", "age": 30, "active": true} –∏ [{"id": 1, "name": "test"}, {"id": 2}]';
console.log(JsonLikeParser.extractKeyValuePairs('{"name": "–ò–≤–∞–Ω", "age": 30, "active": true}'));
// { name: '–ò–≤–∞–Ω', age: 30, active: 'true' }

console.log(JsonLikeParser.extractJsonObjects(textWithJson));
// ['{"name": "–ò–≤–∞–Ω", "age": 30, "active": true}']

console.log(JsonLikeParser.extractJsonArrays(textWithJson));
// ['[{"id": 1, "name": "test"}, {"id": 2}]']
```

## –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV-–ø–æ–¥–æ–±–Ω—ã—Ö —Å—Ç—Ä–æ–∫

```javascript
class CsvParser {
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ CSV-—Å—Ç—Ä–æ–∫–∏
  static parseLine(csvLine, delimiter = ',') {
    // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π, –≤–∫–ª—é—á–∞—è —Ç–µ, —á—Ç–æ –≤ –∫–∞–≤—ã—á–∫–∞—Ö
    const fieldRegex = /(?:^|,)(?:"([^"]*(?:""[^"]*)*)"|([^",]*))/g;
    const matches = [...csvLine.matchAll(fieldRegex)];
    
    return matches.map(match => {
      // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–∞–≤—ã—á–µ–∫ –∏–ª–∏ –æ–±—ã—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
      return match[1] ? match[1].replace(/""/g, '"') : match[2] || '';
    }).filter((_, index) => index > 0); // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—ã–π –ø—É—Å—Ç–æ–π —ç–ª–µ–º–µ–Ω—Ç
  }
  
  // –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ–≥–æ CSV-—Ç–µ–∫—Å—Ç–∞
  static parse(csvText, delimiter = ',') {
    const lines = csvText.trim().split('\n');
    const headers = this.parseLine(lines[0], delimiter);
    
    return lines.slice(1).map(line => {
      const values = this.parseLine(line, delimiter);
      const row = {};
      
      headers.forEach((header, index) => {
        row[header] = values[index] || '';
      });
      
      return row;
    });
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ email-–∞–¥—Ä–µ—Å–æ–≤ –∏–∑ CSV-–¥–∞–Ω–Ω—ã—Ö
  static extractEmails(csvText) {
    const emailRegex = /\b[\w.-]+@[\w.-]+\.\w{2,}\b/g;
    const matches = [...csvText.matchAll(emailRegex)];
    return [...new Set(matches.map(match => match[0]))]; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ email
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const csvData = `–ò–º—è,Email,–í–æ–∑—Ä–∞—Å—Ç
–ò–≤–∞–Ω,ivan@example.com,30
"–ü–µ—Ç—Ä–æ–≤, –ò–≤–∞–Ω",petrov@example.com,25
–°–∏–¥–æ—Ä–æ–≤,"sidorov@test.co.uk",35`;

console.log(CsvParser.parse(csvData));
// [
//   { '–ò–º—è': '–ò–≤–∞–Ω', 'Email': 'ivan@example.com', '–í–æ–∑—Ä–∞—Å—Ç': '30' },
//   { '–ò–º—è': '–ü–µ—Ç—Ä–æ–≤, –ò–≤–∞–Ω', 'Email': 'petrov@example.com', '–í–æ–∑—Ä–∞—Å—Ç': '25' },
//   ...
// ]

console.log(CsvParser.extractEmails(csvData)); // ['ivan@example.com', 'petrov@example.com', 'sidorov@test.co.uk']
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ HTML

```javascript
class HtmlDataExtractor {
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ HTML
  static extractText(html) {
    const textRegex = />([^<]+)</g;
    const matches = [...html.matchAll(textRegex)];
    return matches.map(match => match[1].trim()).filter(text => text.length > 0);
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏–∑ —Ç–µ–≥–æ–≤
  static extractAttributes(html, tagName) {
    const attrRegex = new RegExp(`<${tagName}([^>]+)>`, 'gi');
    const matches = [...html.matchAll(attrRegex)];
    
    return matches.map(match => {
      // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä –∞—Ç—Ä–∏–±—É—Ç-–∑–Ω–∞—á–µ–Ω–∏–µ
      const attrPairs = match[1].match(/(\w+)\s*=\s*["']([^"']*)["']/g) || [];
      const attrs = {};
      
      attrPairs.forEach(pair => {
        const [full, key, value] = pair.match(/(\w+)\s*=\s*["']([^"']*)["']/);
        attrs[key] = value;
      });
      
      return attrs;
    });
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
  static extractLinks(html) {
    const linkRegex = /<a\s+[^>]*href\s*=\s*["']([^"']*)["'][^>]*>(.*?)<\/a>/gi;
    const matches = [...html.matchAll(linkRegex)];
    
    return matches.map(match => ({
      url: match[1],
      text: match[2].replace(/<[^>]*>/g, ''), // –£–¥–∞–ª—è–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–µ–≥–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞
      fullTag: match[0]
    }));
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  static extractImages(html) {
    const imgRegex = /<img\s+[^>]*src\s*=\s*["']([^"']*)["'][^>]*>/gi;
    const matches = [...html.matchAll(imgRegex)];
    
    return matches.map(match => {
      const src = match[1];
      // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ alt-–∞—Ç—Ä–∏–±—É—Ç–∞, –µ—Å–ª–∏ –µ—Å—Ç—å
      const altMatch = match[0].match(/alt\s*=\s*["']([^"']*)["']/i);
      return {
        src,
        alt: altMatch ? altMatch[1] : ''
      };
    });
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–µ–≥–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
  static extractTags(html, tagName) {
    const tagRegex = new RegExp(`<${tagName}[^>]*>(.*?)<\/${tagName}>`, 'gi');
    const matches = [...html.matchAll(tagRegex)];
    
    return matches.map(match => ({
      content: match[1],
      fullTag: match[0],
      index: match.index
    }));
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const htmlContent = `
<div class="container">
  <h1>–ó–∞–≥–æ–ª–æ–≤–æ–∫</h1>
  <p>–¢–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ —Å <a href="https://example.com">—Å—Å—ã–ª–∫–æ–π</a></p>
  <img src="image.jpg" alt="–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
  <a href="/page" class="btn">–ö–Ω–æ–ø–∫–∞</a>
</div>`;

console.log(HtmlDataExtractor.extractText(htmlContent));
// ['–ó–∞–≥–æ–ª–æ–≤–æ–∫', '–¢–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ —Å ', '—Å—Å—ã–ª–∫–æ–π', '–ö–Ω–æ–ø–∫–∞']

console.log(HtmlDataExtractor.extractAttributes(htmlContent, 'a'));
// [{ href: 'https://example.com' }, { href: '/page', class: 'btn' }]

console.log(HtmlDataExtractor.extractLinks(htmlContent));
// [
//   { url: 'https://example.com', text: '—Å—Å—ã–ª–∫–æ–π', fullTag: '<a href="https://example.com">—Å—Å—ã–ª–∫–æ–π</a>' },
//   { url: '/page', text: '–ö–Ω–æ–ø–∫–∞', fullTag: '<a href="/page" class="btn">–ö–Ω–æ–ø–∫–∞</a>' }
// ]

console.log(HtmlDataExtractor.extractImages(htmlContent));
// [{ src: 'image.jpg', alt: '–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è' }]

console.log(HtmlDataExtractor.extractTags(htmlContent, 'p'));
// [{ content: '–¢–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ —Å <a href="https://example.com">—Å—Å—ã–ª–∫–æ–π</a>', fullTag: '<p>–¢–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ —Å <a href="https://example.com">—Å—Å—ã–ª–∫–æ–π</a></p>', index: 28 }]
```

## –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤ —Å —à–∞–±–ª–æ–Ω–∞–º–∏

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —à–∞–±–ª–æ–Ω—É

```javascript
class TemplateExtractor {
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–µ–∫—Å—Ç–∞ –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É —à–∞–±–ª–æ–Ω—É
  static extractByTemplate(text, template) {
    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —à–∞–±–ª–æ–Ω –≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
    // –ó–∞–º–µ–Ω—è–µ–º {variable} –Ω–∞ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–µ –≥—Ä—É–ø–ø—ã
    const regexPattern = template
      .replace(/[.+?^${}()|[\]\\]/g, '\\$&') // –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
      .replace(/\{(\w+)\}/g, '(?<$1>[^\\s]+)'); // –ó–∞–º–µ–Ω—è–µ–º {variable} –Ω–∞ (?<variable>[^\s]+)
    
    const regex = new RegExp(regexPattern, 'g');
    const matches = [...text.matchAll(regex)];
    
    return matches.map(match => match.groups);
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
  static extractFormattedData(text, patterns) {
    const results = {};
    
    for (const [key, pattern] of Object.entries(patterns)) {
      const regex = new RegExp(pattern, 'g');
      const matches = [...text.matchAll(regex)];
      
      results[key] = matches.map(match => {
        // –ï—Å–ª–∏ –µ—Å—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Ö
        if (match.groups) {
          return match.groups;
        }
        // –ò–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–≤–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (–±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è)
        return match.slice(1);
      });
    }
    
    return results;
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç—Ä–æ–∫ —Ç–∏–ø–∞ "–∫–ª—é—á: –∑–Ω–∞—á–µ–Ω–∏–µ"
  static extractKeyValueLines(text) {
    const kvRegex = /^(\w+):\s*(.+)$/gm;
    const matches = [...text.matchAll(kvRegex)];
    
    const result = {};
    matches.forEach(match => {
      const key = match[1].toLowerCase();
      const value = match[2].trim();
      
      // –ï—Å–ª–∏ –∫–ª—é—á —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤
      if (result[key]) {
        if (Array.isArray(result[key])) {
          result[key].push(value);
        } else {
          result[key] = [result[key], value];
        }
      } else {
        result[key] = value;
      }
    });
    
    return result;
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const templateText = '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –í–æ–∑—Ä–∞—Å—Ç: 30, –ì–æ—Ä–æ–¥: –ú–æ—Å–∫–≤–∞';
const template = '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {firstName} {lastName}, –í–æ–∑—Ä–∞—Å—Ç: {age}, –ì–æ—Ä–æ–¥: {city}';
console.log(TemplateExtractor.extractByTemplate(templateText, template));
// [{ firstName: '–ò–≤–∞–Ω', lastName: '–ò–≤–∞–Ω–æ–≤', age: '30', city: '–ú–æ—Å–∫–≤–∞' }]

const formattedText = `
–ò–º—è: –ò–≤–∞–Ω
–§–∞–º–∏–ª–∏—è: –ò–≤–∞–Ω–æ–≤
–í–æ–∑—Ä–∞—Å—Ç: 30
–ì–æ—Ä–æ–¥: –ú–æ—Å–∫–≤–∞
Email: ivan@example.com
`;
console.log(TemplateExtractor.extractKeyValueLines(formattedText));
// { –∏–º—è: '–ò–≤–∞–Ω', —Ñ–∞–º–∏–ª–∏—è: '–ò–≤–∞–Ω–æ–≤', –≤–æ–∑—Ä–∞—Å—Ç: '30', –≥–æ—Ä–æ–¥: '–ú–æ—Å–∫–≤–∞', email: 'ivan@example.com' }

const complexText = '–ó–∞–∫–∞–∑ #12345 –æ—Ç 25.12.2023 –Ω–∞ —Å—É–º–º—É 15000 —Ä—É–±. –ö–ª–∏–µ–Ω—Ç: –ò–≤–∞–Ω–æ–≤ –ò.–ò.';
const patterns = {
  order: /–ó–∞–∫–∞–∑ #(\d+)/,
  date: /–æ—Ç (\d{2}\.\d{2}\.\d{4})/,
  amount: /–Ω–∞ —Å—É–º–º—É (\d+) —Ä—É–±/,
  client: /–ö–ª–∏–µ–Ω—Ç: ([^\.]+)/
};
console.log(TemplateExtractor.extractFormattedData(complexText, patterns));
```

## –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```javascript
class FinanceDataExtractor {
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
  static extractPrices(text) {
    // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ü–µ–Ω (—Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∞–ª—é—Ç–∞–º–∏)
    const priceRegex = /(?:USD|EUR|GBP|RUB|‚ÇΩ|\$|‚Ç¨|¬£)?\s*(\d+(?:[.,]\d{2})?)\s*(?:USD|EUR|GBP|RUB|‚ÇΩ|\$|‚Ç¨|¬£)?/gi;
    const matches = [...text.matchAll(priceRegex)];
    
    return matches.map(match => {
      // –ó–∞–º–µ–Ω—è–µ–º –∑–∞–ø—è—Ç—É—é –Ω–∞ —Ç–æ—á–∫—É –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
      const amount = parseFloat(match[1].replace(',', '.'));
      return {
        original: match[0],
        amount: amount,
        index: match.index
      };
    });
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤
  static extractAccountNumbers(text) {
    // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤
    const accountRegex = /\b(?:40\d{19}|[0-9]{20}|[A-Z]{2}[0-9]{2}[A-Z0-9]{1,30})\b/gi;
    return [...new Set([...text.matchAll(accountRegex)].map(match => match[0]))];
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  static extractTransactionDates(text) {
    const dateRegex = /\b(\d{2}[.\-\/]\d{2}[.\-\/]\d{4}|\d{4}[.\-\/]\d{2}[.\-\/]\d{2})\b/g;
    return [...new Set([...text.matchAll(dateRegex)].map(match => match[0]))];
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö
  static extractProductInfo(text) {
    // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∞—Ä—Ç–∏–∫—É–ª–æ–≤, –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
    const productRegex = /(?:–∞—Ä—Ç–∏–∫—É–ª|–∫–æ–¥):\s*([A-Z0-9-]+)|([A-Z–ê-–Ø][A-Z–ê-–Øa-z–∞-—è\s]+)\s*-?\s*(\d+(?:[.,]\d+)?)\s*(?:—à—Ç|–µ–¥|–∫–≥|–ª)/gi;
    const matches = [...text.matchAll(productRegex)];
    
    return matches.map(match => {
      if (match[1]) {
        // –≠—Ç–æ –∞—Ä—Ç–∏–∫—É–ª
        return { type: 'article', value: match[1] };
      } else {
        // –≠—Ç–æ –ø—Ä–æ–¥—É–∫—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
        return { type: 'product', name: match[2], quantity: parseFloat(match[3].replace(',', '.')) };
      }
    });
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const financeText = '–°—á–µ—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É: 40817810099910000001. –¢–æ–≤–∞—Ä—ã: –ù–æ—É—Ç–±—É–∫ - 1 —à—Ç, –ú—ã—à—å - 2 —à—Ç. –°—É–º–º–∞: 125000 —Ä—É–±. –î–∞—Ç–∞: 25.12.2023';
console.log('–¶–µ–Ω—ã:', FinanceDataExtractor.extractPrices(financeText));
// [{ original: '125000 —Ä—É–±', amount: 125000, index: 65 }]

console.log('–ù–æ–º–µ—Ä–∞ —Å—á–µ—Ç–æ–≤:', FinanceDataExtractor.extractAccountNumbers(financeText));
// ['40817810099910000001']

console.log('–î–∞—Ç—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:', FinanceDataExtractor.extractTransactionDates(financeText));
// ['25.12.2023']

console.log('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–∞—Ö:', FinanceDataExtractor.extractProductInfo(financeText));
// [{ type: 'product', name: ' –ù–æ—É—Ç–±—É–∫ ', quantity: 1 }, { type: 'product', name: ' –ú—ã—à—å ', quantity: 2 }]
```

## –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```javascript
class ContextualExtractor {
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ email —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
  static extractContactEmails(text) {
    // –ò—â–µ–º email —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö —Ñ—Ä–∞–∑
    const contactContextRegex = /(?:–∫–æ–Ω—Ç–∞–∫—Ç|email|–ø–æ—á—Ç–∞|–∞–¥—Ä–µ—Å|—Å–≤—è–∑—å|–æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å)[^]{0,50}[\w.-]+@[\w.-]+\.\w{2,}|[\w.-]+@[\w.-]+\.\w{2,}[^]{0,50}(?:–∫–æ–Ω—Ç–∞–∫—Ç|email|–ø–æ—á—Ç–∞|–∞–¥—Ä–µ—Å|—Å–≤—è–∑—å|–æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å)/gi;
    const matches = [...text.matchAll(contactContextRegex)];
    
    // –ò–∑–≤–ª–µ–∫–∞–µ–º —Å–∞–º–∏ email –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
    const emailRegex = /[\w.-]+@[\w.-]+\.\w{2,}/g;
    const emails = [];
    
    matches.forEach(match => {
      const emailMatches = match[0].match(emailRegex);
      if (emailMatches) {
        emails.push(...emailMatches);
      }
    });
    
    return [...new Set(emails)];
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ —Ç–æ–ª—å–∫–æ –≤ –¥–µ–ª–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
  static extractBusinessPhones(text) {
    // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –≤ –¥–µ–ª–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
    const businessContextRegex = /(?:—Ç–µ–ª–µ—Ñ–æ–Ω|–∑–≤–æ–Ω–∏—Ç–µ|—Å–≤—è–∂–∏—Ç–µ—Å—å|–∫–æ–Ω—Ç–∞–∫—Ç|–æ—Ç–¥–µ–ª|—Å–ª—É–∂–±–∞|—Å–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏)[^]{0,100}(?:\+?7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}/gi;
    const matches = [...text.matchAll(businessContextRegex)];
    
    // –ò–∑–≤–ª–µ–∫–∞–µ–º —Å–∞–º–∏ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
    const phoneRegex = /(?:\+?7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}/g;
    const phones = [];
    
    matches.forEach(match => {
      const phoneMatches = match[0].match(phoneRegex);
      if (phoneMatches) {
        phones.push(...phoneMatches);
      }
    });
    
    return [...new Set(phones)];
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Å–æ—Å–µ–¥–Ω–∏—Ö —Å–ª–æ–≤
  static extractWithNeighborhood(text, targetPattern, leftContext = '', rightContext = '') {
    let pattern = '';
    
    if (leftContext) {
      pattern += `(?<=${leftContext})`; // –ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    }
    
    pattern += targetPattern;
    
    if (rightContext) {
      pattern += `(?=${rightContext})`; // –ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è –æ–ø–µ—Ä–µ–∂–∞—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    }
    
    const regex = new RegExp(pattern, 'g');
    return [...text.matchAll(regex)].map(match => match[0]);
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const businessText = '–î–ª—è —Å–≤—è–∑–∏ —Å –æ—Ç–¥–µ–ª–æ–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∑–≤–æ–Ω–∏—Ç–µ 89261234567. –õ–∏—á–Ω—ã–π email: john@example.com. –°–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏: support@company.com';
console.log('–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ email:', ContextualExtractor.extractContactEmails(businessText));
// ['support@company.com'] - —Ç–æ–ª—å–∫–æ —Å–ª—É–∂–µ–±–Ω—ã–π email

console.log('–ë–∏–∑–Ω–µ—Å —Ç–µ–ª–µ—Ñ–æ–Ω—ã:', ContextualExtractor.extractBusinessPhones(businessText));
// ['89261234567'] - —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-—Ç–µ–ª–µ—Ñ–æ–Ω

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ª–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
const sampleText = '–¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞ 12345 —Ä—É–±–ª–µ–π, —Ü–µ–Ω–∞ —É—Å–ª—É–≥–∏ 6789 —Ä—É–±–ª–µ–π, —Å—Ç–æ–∏–º–æ—Å—Ç—å 999 —Ä—É–±–ª–µ–π';
console.log('–¶–µ–Ω—ã (—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º "—Ü–µ–Ω–∞"):', ContextualExtractor.extractWithNeighborhood(sampleText, '\\d+', '—Ü–µ–Ω–∞\\s+', '\\s+—Ä—É–±–ª–µ–π'));
// ['12345', '6789']
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```javascript
class UserContentExtractor {
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (@username)
  static extractMentions(text) {
    const mentionRegex = /@([a-zA-Z0-9_]{3,20})/g;
    const matches = [...text.matchAll(mentionRegex)];
    return [...new Set(matches.map(match => match[1]))];
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ö–µ—à—Ç–µ–≥–æ–≤
  static extractHashtags(text) {
    const hashtagRegex = /#[a-zA-Z–∞-—è—ë–ê-–Ø–Å0-9_]+/g;
    const matches = [...text.matchAll(hashtagRegex)];
    return [...new Set(matches.map(match => match[0].toLowerCase()))];
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏
  static extractEmojis(text) {
    const emojiRegex = /[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu;
    const matches = [...text.matchAll(emojiRegex)];
    return matches.map(match => match[0]);
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ –∏–Ω–ª–∞–π–Ω–æ–≤—ã—Ö —Ç–µ–≥–∞—Ö
  static extractInlineCode(text) {
    const codeRegex = /`([^`]+)`/g;
    const matches = [...text.matchAll(codeRegex)];
    return matches.map(match => match[1]);
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ –±–ª–æ—á–Ω—ã—Ö —Ç–µ–≥–∞—Ö
  static extractBlockCode(text) {
    const codeBlockRegex = /```(?:\w+\n)?\n?([\s\S]*?)\n?```/g;
    const matches = [...text.matchAll(codeBlockRegex)];
    return matches.map(match => match[1]);
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π email –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ
  static extractUserEmails(text) {
    // –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
    const emailRegex = /\b[\w.-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/g;
    const matches = [...text.matchAll(emailRegex)];
    return matches.map(match => match[0]);
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ
  static extractUserUrls(text) {
    // –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è URL —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏
    const urlRegex = /(?:https?|ftp):\/\/[^\s/$.?#].[^\s]*\.[^\s]*/gi;
    const matches = [...text.matchAll(urlRegex)];
    return matches.map(match => match[0]);
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const userContent = `
–ü—Ä–∏–≤–µ—Ç @ivan_petrov! –ü—Ä–æ–≤–µ—Ä—å —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/user/repo
–ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É #javascript #webdev üë®‚Äçüíª
–ö–æ–¥: \`const x = 5;\`
\`\`
function hello() {
  console.log('–ü—Ä–∏–≤–µ—Ç!');
}
\`\`
–°–≤—è–∑–∞—Ç—å—Å—è: user@example.com
`;

console.log('–£–ø–æ–º–∏–Ω–∞–Ω–∏—è:', UserContentExtractor.extractMentions(userContent));
// ['ivan_petrov']

console.log('–•–µ—à—Ç–µ–≥–∏:', UserContentExtractor.extractHashtags(userContent));
// ['#javascript', '#webdev']

console.log('–≠–º–æ–¥–∑–∏:', UserContentExtractor.extractEmojis(userContent));
// ['üë®', 'üíª']

console.log('–ò–Ω–ª–∞–π–Ω-–∫–æ–¥:', UserContentExtractor.extractInlineCode(userContent));
// ['const x = 5;']

console.log('–ë–ª–æ–∫-–∫–æ–¥:', UserContentExtractor.extractBlockCode(userContent));
// ['function hello() {\n  console.log(\'–ü—Ä–∏–≤–µ—Ç!\');\n}']

console.log('Email –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ:', UserContentExtractor.extractUserEmails(userContent));
// ['user@example.com']

console.log('URL –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ:', UserContentExtractor.extractUserUrls(userContent));
// ['https://github.com/user/repo']
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–∞–∂–Ω–æ:

1. –£—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏ –≤–∞—Ä–∏–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–µ –≥—Ä—É–ø–ø—ã –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
3. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. –£—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ —Ç–µ–∫—Å—Ç–∞
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
6. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

–î–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML, JSON, CSV –∏ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

- [[–†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –¥–∞—Ç –∏ –≤—Ä–µ–º–µ–Ω–∏]]
- [[–ü–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω–∞ –≤ —Å—Ç—Ä–æ–∫–∞—Ö]]
- [[–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã]]