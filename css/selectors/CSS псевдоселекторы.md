---
aliases: [Псевдоселекторы CSS, CSS Pseudo-selectors]
tags: [css, selectors, pseudo-elements, pseudo-classes, frontend]
---

# CSS Псевдоселекторы: Теория и Лучшие Практики

## Введение

CSS псевдоселекторы - это мощные инструменты, которые позволяют применять стили к элементам на основе их состояния, положения или других характеристик, не требуя дополнительных классов или атрибутов в HTML. Они делятся на две основные категории: [[Псевдоклассы CSS]] и [[Псевдоэлементы CSS]].

## Псевдоклассы

Псевдоклассы применяются к элементам при определенных условиях, таких как наведение курсора, фокус, или позиция в дереве документа. Они обозначаются двоеточием (`:`) перед названием псевдокласса.

### Интерактивные псевдоклассы

#### :hover
Псевдокласс `:hover` применяется, когда пользователь наводит курсор мыши на элемент. Это один из самых часто используемых псевдоклассов для создания интерактивных элементов интерфейса.

```css
.button:hover {
  background-color: #007bff;
  color: white;
  transform: translateY(-2px);
}
```

> [!tip] Совет
> При использовании `:hover` всегда учитывайте пользователей с ограниченными возможностями и тех, кто использует сенсорные устройства. Убедитесь, что интерактивные элементы остаются доступными.

#### :focus
Псевдокласс `:focus` применяется к элементу, когда он получает фокус, обычно через клавиатуру или программно. Критически важен для доступности.

```css
input:focus {
  outline: 2px solid #007bff;
  outline-offset: 2px;
}
```

#### :active
Псевдокласс `:active` применяется к элементу в момент его активации (обычно во время нажатия кнопки мыши или клавиши Enter).

```css
.button:active {
  transform: translateY(0);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
}
```

#### :visited и :link
Псевдокласс `:visited` применяется к посещенным ссылкам, а `:link` - к непосещенным.

```css
a:link {
  color: blue;
}

a:visited {
  color: purple;
}
```

### Структурные псевдоклассы

Структурные псевдоклассы позволяют выбирать элементы на основе их позиции в дереве документа.

#### :first-child и :last-child
Выбирают первый и последний дочерние элементы родителя соответственно.

```css
li:first-child {
  font-weight: bold;
}

li:last-child {
  border-bottom: none;
}
```

#### :nth-child()
Наиболее гибкий псевдокласс для выбора элементов по позиции. Принимает арифметическое выражение.

```css
/* Выбирает каждый второй элемент (четные) */
tr:nth-child(even) {
  background-color: #f2f2f2;
}

/* Выбирает первый элемент */
tr:nth-child(1) {
  font-weight: bold;
}

/* Выбирает каждый третий элемент, начиная с 4-го */
tr:nth-child(3n+4) {
  background-color: #ffebcd;
}
```

> [!tip] Совет
> Псевдоклассы `:nth-child()` особенно полезны для создания зебра-эффекта в таблицах и списках без необходимости добавлять дополнительные классы.

#### :only-child
Выбирает элемент, который является единственным дочерним элементом своего родителя.

```css
/* Применяется только к элементу, который является единственным ребенком */
div p:only-child {
  margin: 0;
}
```

#### :not()
Псевдокласс отрицания, который позволяет исключить элементы из селектора.

```css
/* Применяет стили ко всем элементам p, кроме тех, у которых класс .intro */
p:not(.intro) {
  color: gray;
}
```

### Псевдоклассы состояния формы

#### :checked
Применяется к отмеченным элементам формы (чекбоксы, радиокнопки).

```css
input[type="checkbox"]:checked + label {
  color: green;
  font-weight: bold;
}
```

#### :disabled и :enabled
Соответственно, применяются к отключенным и включенным элементам формы.

```css
input:disabled {
  background-color: #eee;
  cursor: not-allowed;
}

input:enabled {
  background-color: white;
}
```

#### :required и :optional
Выбирают обязательные и необязательные поля формы.

```css
input:required {
  border-left: 3px solid red;
}

input:optional {
  border-left: 3px solid green;
}
```

## Псевдоэлементы

Псевдоэлементы создают виртуальные элементы в дереве документа и обозначаются двумя двоеточиями (`::`).

### ::before и ::after

Эти псевдоэлементы позволяют вставлять контент до или после содержимого элемента без изменения HTML.

```css
.quote::before {
  content: """;
  font-size: 2em;
  color: #ccc;
}

.quote::after {
  content: """;
  font-size: 2em;
  color: #ccc;
}
```

> [!warning] Важно
> Псевдоэлементы `::before` и `::after` требуют свойства `content` для отображения, даже если оно пустое (`content: ""`).

### ::first-letter и ::first-line

Применяют стили к первой букве или первой строке текста в элементе.

```css
/* Стилизация первой буквы абзаца */
p::first-letter {
  font-size: 2em;
  font-weight: bold;
  float: left;
  margin-right: 5px;
}

/* Стилизация первой строки абзаца */
p::first-line {
  font-weight: bold;
  color: #007bff;
}
```

### ::selection

Применяется к выделенному пользователем тексту.

```css
::selection {
  background-color: #007bff;
  color: white;
}
```

## Практические применения

### Создание кастомных чекбоксов

```css
.custom-checkbox {
  position: relative;
  display: inline-block;
  width: 20px;
  height: 20px;
}

.custom-checkbox input {
  opacity: 0;
  position: absolute;
}

.custom-checkbox input + label {
  position: relative;
  padding-left: 30px;
  cursor: pointer;
}

.custom-checkbox input + label::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  width: 20px;
  height: 20px;
  background-color: white;
  border: 2px solid #007bff;
  border-radius: 3px;
}

.custom-checkbox input:checked + label::after {
  content: "";
  position: absolute;
  left: 6px;
  top: 2px;
  width: 6px;
  height: 12px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.custom-checkbox input:checked + label::before {
  background-color: #007bff;
}
```

### Стилизация навигации

```css
.nav-item {
  position: relative;
}

.nav-item::after {
  content: "";
  position: absolute;
  width: 0;
  height: 2px;
  bottom: 0;
  left: 50%;
  background-color: #007bff;
  transition: all 0.3s ease;
}

.nav-item:hover::after {
  width: 100%;
  left: 0;
}
```

## Лучшие практики

### 1. Понимание специфичности

Псевдоселекторы имеют ту же специфичность, что и соответствующий элемент. Например, `a:hover` имеет ту же специфичность, что и `a`.

```css
/* Специфичность: 0,0,1,1 */
a:hover {
  color: blue;
}

/* Специфичность: 0,0,1,1 */
a.special:hover {
  color: red;
}
```

### 2. Семантическая правильность

Используйте псевдоселекторы для улучшения UX, но не злоупотребляйте ими в ущерб семантике HTML.

### 3. Доступность

Псевдоселекторы должны учитывать пользователей с ограниченными возможностями:

- Обеспечьте видимый фокус для элементов управления
- Используйте `:focus` и `:focus-visible` для улучшения навигации с клавиатуры
- Не полагайтесь исключительно на `:hover` для важной информации

```css
/* Хорошая практика для доступности */
button:focus {
  outline: 2px solid #007bff;
}

button:focus:not(:focus-visible) {
  outline: none;
}

button:focus-visible {
  outline: 2px solid #007bff;
}
```

### 4. Производительность

Некоторые псевдоселекторы могут негативно влиять на производительность:

- Избегайте чрезмерного использования `:nth-child()` на больших списках
- Не используйте сложные цепочки псевдоселекторов
- Тестируйте производительность на слабых устройствах

### 5. Совместимость с браузерами

Проверяйте поддержку псевдоселекторов в целевых браузерах. Некоторые современные псевдоселекторы могут не поддерживаться в старых браузерах.

## Современные псевдоселекторы

### :focus-within
Применяется к элементу, если он или любой из его потомков имеет фокус.

```css
.form-container:focus-within {
  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
}
```

### :target
Применяется к элементу, чей идентификатор совпадает с фрагментом URL.

```css
.tab-content:target {
  display: block;
}
```

### :is() и :where()
Функциональные псевдоклассы для упрощения сложных селекторов.

```css
/* Эквивалентно h1, h2, h3, h4, h5, h6 */
:is(h1, h2, h3, h4, h5, h6) {
  margin-top: 0;
}

/* :where() игнорирует специфичность */
:where(.card) .title {
  font-size: 1.5em;
}
```

## Заключение

CSS псевдоселекторы - мощный инструмент для создания интерактивных и визуально привлекательных веб-страниц без необходимости изменения HTML-разметки. Правильное использование псевдоклассов и псевдоэлементов позволяет создавать более чистый и поддерживаемый код, улучшать UX и обеспечивать доступность.

При использовании псевдоселекторов всегда учитывайте:

- Семантическую правильность
- Доступность для всех пользователей
- Совместимость с браузерами
- Производительность
- Поддерживаемость кода

Изучение и применение псевдоселекторов - важный шаг на пути к мастерству веб-разработки и создания современных интерфейсов.

## См. также

- [[CSS селекторы]]
- [[CSS-анимации]]
- [[Доступность веб-интерфейсов]]
- [[CSS-фреймворки]]
- [[Семантическая верстка]]
- [[CSS-переменные]]
- [[Flexbox и Grid]]
- [[Медиазапросы CSS]]
- [[CSS-архитектура]]
- [[Оптимизация CSS]]
- [[CSS-методологии]]
- [[CSS-препроцессоры]]
- [[CSS-инструменты]]
- [[CSS-библиотеки]]
- [[CSS-совместимость]]