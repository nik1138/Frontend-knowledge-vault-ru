---
aliases: [CSS переменные в функциях, CSS calc с переменными, CSS функции и переменные]
tags: [css, переменные, функции, разработка]
---

# Использование кастомных свойств в CSS-функциях

## Введение

Кастомные свойства CSS могут быть использованы внутри различных CSS-функций, таких как `calc()`, `clamp()`, `rgb()`, `hsl()`, `linear-gradient()` и других. Это позволяет создавать более гибкие и динамичные стилевые системы.

## Использование в calc()

Функция `calc()` особенно полезна при работе с кастомными свойствами, позволяя выполнять математические операции:

```css
:root {
  --base-font-size: 16px;
  --scale-factor: 1.2;
  --margin: 20px;
  --padding: 10px;
}

.title {
  font-size: calc(var(--base-font-size) * var(--scale-factor));
  margin: calc(var(--margin) * 2) 0;
  padding: calc(var(--padding) + 5px);
}
```

## Работа с цветами

Кастомные свойства можно использовать внутри функций `rgb()`, `rgba()`, `hsl()`, `hsla()`:

```css
:root {
  --color-red: 255;
  --color-green: 100;
  --color-blue: 50;
  --color-alpha: 0.8;
  --hue: 200;
  --saturation: 50%;
  --lightness: 50%;
}

.element {
  background-color: rgba(var(--color-red), var(--color-green), var(--color-blue), var(--color-alpha));
  color: hsl(var(--hue), var(--saturation), var(--lightness));
}
```

## Градиенты с переменными

Кастомные свойства можно использовать в определении градиентов:

```css
:root {
  --gradient-start: #ff0000;
  --gradient-mid: #00ff00;
  --gradient-end: #0000ff;
  --gradient-angle: 45deg;
}

.gradient-box {
  background: linear-gradient(
    var(--gradient-angle),
    var(--gradient-start),
    var(--gradient-mid),
    var(--gradient-end)
  );
}
```

## Использование в clamp()

Функция `clamp()` позволяет задавать минимальное, предпочтительное и максимальное значения, и она отлично работает с кастомными свойствами:

```css
:root {
  --min-width: 300px;
  --preferred-width: 50vw;
  --max-width: 800px;
  --min-font: 14px;
  --preferred-font: 4vw;
  --max-font: 24px;
}

.responsive-container {
  width: clamp(var(--min-width), var(--preferred-width), var(--max-width));
  font-size: clamp(var(--min-font), var(--preferred-font), var(--max-font));
}
```

## Комбинирование функций

Можно комбинировать несколько функций с кастомными свойствами:

```css
:root {
  --base-size: 20px;
  --multiplier: 1.5;
  --offset: 10px;
  --min-value: 15px;
  --max-value: 50px;
}

.complex-calc {
  width: clamp(
    var(--min-value),
    calc(var(--base-size) * var(--multiplier) + var(--offset)),
    var(--max-value)
  );
}
```

## Использование в transform

Кастомные свойства также можно использовать в функциях трансформации:

```css
:root {
  --translate-x: 100px;
  --translate-y: 50px;
  --rotate-angle: 45deg;
  --scale-factor: 1.2;
}

.animated-element {
  transform: translate(var(--translate-x), var(--translate-y))
             rotate(var(--rotate-angle))
             scale(var(--scale-factor));
}
```

## Использование в filter

Фильтры также поддерживают кастомные свойства:

```css
:root {
  --blur-amount: 2px;
  --brightness-level: 1.2;
  --contrast-level: 1.1;
  --hue-rotate: 90deg;
}

.filtered-image {
  filter: blur(var(--blur-amount))
          brightness(var(--brightness-level))
          contrast(var(--contrast-level))
          hue-rotate(var(--hue-rotate));
}
```

## Практические примеры

### Адаптивные размеры шрифта

```css
:root {
  --min-font-size: 16px;
  --max-font-size: 24px;
  --min-viewport: 320px;
  --max-viewport: 1200px;
  --font-scale: calc((100vw - var(--min-viewport)) / (var(--max-viewport) - var(--min-viewport)));
}

.responsive-text {
  font-size: calc(
    var(--min-font-size) + 
    (var(--max-font-size) - var(--min-font-size)) * var(--font-scale)
  );
}
```

### Темизированные цвета

```css
:root {
  --primary-hue: 220;
  --primary-saturation: 100%;
  --primary-lightness: 50%;
  --primary-alpha: 1;
}

.button-primary {
  background-color: hsla(
    var(--primary-hue),
    var(--primary-saturation),
    var(--primary-lightness),
    var(--primary-alpha)
  );
}

.button-primary:hover {
  background-color: hsla(
    var(--primary-hue),
    var(--primary-saturation),
    calc(var(--primary-lightness) - 10%),
    var(--primary-alpha)
  );
}
```

## Ограничения и особенности

- Некоторые старые браузеры могут не поддерживать все комбинации функций и переменных
- При использовании в `rgb()` и `hsl()` значения должны быть числовыми (без единиц измерения)
- Синтаксические ошибки в функциях могут привести к игнорированию всего значения

## Связанные темы

- [[Определение-кастомных-свойств]]
- [[Анимация-кастомных-свойств]]
- [[Наследование-свойств]]
- [[Приватные-свойства]]