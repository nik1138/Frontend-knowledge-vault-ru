---
aliases: ["CSS цветовые функции", "color-mix()", "Цветовые функции CSS"]
tags: ["css", "colors", "functions", "color-mix", "alpha", "transparency"]
---

# Цветовые функции и их применение

## Введение

CSS предоставляет мощные цветовые функции, которые позволяют манипулировать цветами программно. Эти функции позволяют создавать динамические цветовые схемы, смешивать цвета, управлять прозрачностью и создавать адаптивные темы интерфейса.

## Функция color-mix()

Функция `color-mix()` позволяет смешивать два цвета с заданными пропорциями. Это особенно полезно для создания градиентов, оттенков и адаптивных тем.

### Синтаксис

```css
color-mix(in <color-space>, <color> <percentage>, <color> <percentage>)
```

Где:
- `in <color-space>` - цветовое пространство, в котором будет происходить смешивание (например, srgb, hsl, lab, oklch)
- `<color>` - исходный цвет
- `<percentage>` - процент участия цвета в смешивании

### Примеры использования

```css
.color-mix-examples {
  /* Смешивание красного и синего в sRGB */
  background-color: color-mix(in srgb, red 50%, blue 50%); /* Фиолетовый */
  
  /* Смешивание с использованием цветового пространства HSL */
  border-color: color-mix(in hsl, hsl(0, 100%, 50%) 30%, hsl(120, 100%, 50%) 70%); /* Зеленовато-красный оттенок */
  
  /* Смешивание с текущим цветом текста */
  color: color-mix(in srgb, currentColor 70%, white 30%);
  
  /* Использование CSS-переменных */
  background-color: color-mix(
    in oklch, 
    var(--primary-color) 60%, 
    var(--secondary-color) 40%
  );
}
```

### Смешивание в разных цветовых пространствах

Смешивание цветов в разных цветовых пространствах дает разные результаты:

```css
.color-space-comparison {
  /* Смешивание в sRGB - может создавать "грязные" оттенки */
  background-color: color-mix(in srgb, red 50%, blue 50%);
  
  /* Смешивание в HSL - сохраняет насыщенность */
  background-color: color-mix(in hsl, hsl(0, 100%, 50%) 50%, hsl(240, 100%, 50%) 50%);
  
  /* Смешивание в LCH - более перцептуально точное */
  background-color: color-mix(in lch, lch(50% 70 0) 50%, lch(50% 70 240) 50%);
  
  /* Смешивание в OKLCH - современное перцептуально равномерное пространство */
  background-color: color-mix(in oklch, oklch(0.7 0.15 0) 50%, oklch(0.7 0.15 240) 50%);
}
```

## Управление прозрачностью

### RGBA и HSLA

Традиционные цветовые форматы RGB и HSL могут включать альфа-канал для управления прозрачностью:

```css
.alpha-examples {
  background-color: rgba(255, 0, 0, 0.5); /* Полупрозрачный красный */
  color: hsla(120, 100%, 50%, 0.7); /* Полупрозрачный зеленый */
  border-color: rgba(0, 0, 255, 0.3); /* Слабо прозрачный синий */
}
```

### Функция color()

Функция `color()` позволяет указывать цвета в определенном цветовом пространстве с альфа-каналом:

```css
.color-function-examples {
  /* Цвет в sRGB с альфа-каналом */
  background-color: color(srgb 1 0 0 / 0.5);
  
  /* Цвет в линейном RGB с альфа-каналом */
  border-color: color(display-p3 1 0 0 / 0.3);
  
  /* Цвет в rec2020 с альфа-каналом */
  color: color(rec2020 1 0.5 0 / 0.8);
}
```

## Практические применения

### Создание цветовых шкал

```css
:root {
  /* Базовые цвета */
  --primary: oklch(0.7 0.15 240);
  --primary-light: color-mix(in oklch, var(--primary) 70%, white 30%);
  --primary-lighter: color-mix(in oklch, var(--primary) 40%, white 60%);
  --primary-dark: color-mix(in oklch, var(--primary) 80%, black 20%);
  --primary-darker: color-mix(in oklch, var(--primary) 90%, black 10%);
}
```

### Адаптивные темы

```css
/* Светлая тема по умолчанию */
:root {
  --bg-color: white;
  --text-color: black;
  --accent-color: oklch(0.7 0.15 240);
}

/* Темная тема */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-color: oklab(0.2 0 0);
    --text-color: oklab(0.9 0 0);
    --accent-color: oklch(0.8 0.12 240);
  }
}

/* Использование смешанных цветов для тем */
.theme-elements {
  background-color: color-mix(
    in oklch, 
    var(--bg-color) 95%, 
    var(--accent-color) 5%
  );
}
```

### Интерактивные эффекты

```css
.button {
  background-color: var(--primary-color);
  transition: background-color 0.3s ease;
}

.button:hover {
  background-color: color-mix(
    in oklch, 
    var(--primary-color) 80%, 
    white 20%
  );
}

.button:active {
  background-color: color-mix(
    in oklch, 
    var(--primary-color) 80%, 
    black 20%
  );
}
```

## Продвинутые техники

### Управление контрастностью

```css
.high-contrast-mode {
  /* Повышение контрастности в режиме высокой контрастности */
  @media (prefers-contrast: high) {
    --text-color: color-mix(
      in oklch, 
      var(--normal-text-color) 70%, 
      black 30%
    );
  }
}
```

### Создание цветовых градиентов программно

```css
/* Создание градиента с использованием CSS-переменных и color-mix */
.gradient-element {
  --color1: oklch(0.7 0.15 0);
  --color2: oklch(0.7 0.15 120);
  --color3: oklch(0.7 0.15 240);
  
  background: linear-gradient(
    45deg,
    color-mix(in oklch, var(--color1) 100%, transparent 0%),
    color-mix(in oklch, var(--color2) 100%, transparent 0%),
    color-mix(in oklch, var(--color3) 100%, transparent 0%)
  );
}
```

### Адаптация цветов под цветовую слепоту

```css
.protanopia-mode {
  /* Адаптация для протанопии (неспособность различать красный цвет) */
  --red-adjusted: color-mix(
    in oklch, 
    var(--original-red) 60%, 
    var(--original-blue) 40%
  );
}
```

## Совместимость и резервные варианты

Поскольку `color-mix()` - относительно новая функция, важно обеспечить резервные варианты:

```css
.element {
  /* Резервный цвет для старых браузеров */
  background-color: #8080ff;
  
  /* Современный цвет с color-mix */
  background-color: color-mix(in oklch, oklch(0.7 0.15 240) 50%, white 50%);
}
```

## Заключение

Цветовые функции в CSS, особенно `color-mix()`, открывают широкие возможности для динамического управления цветом. Они позволяют создавать более гибкие и адаптивные интерфейсы, улучшать доступность и точно контролировать цветовую палитру.

Понимание различных цветовых пространств и их влияния на смешивание цветов позволяет создавать более качественные визуальные решения. При использовании этих функций важно учитывать совместимость с браузерами и обеспечивать резервные варианты для более старых версий.

## См. также

- [[цветовые-пространства-и-форматы]]
- [[работа-с-цветовыми-темами-и-контрастностью]]
- [[CSS-функции]]
- [[CSS-цвета]]
- [[обзор-css-функций]]
- [[продвинутые-функции-css]]
- [[практическое-применение-функций-в-адаптивном-дизайне]]
- [[2d-и-3d-трансформации]]
- [[перспектива-и-3d-пространство-в-css]]
- [[трансформации-и-производительность]]
- [[css-фильтры-применение-и-оптимизация]]
- [[css-формы-и-обтекание]]
- [[комбинирование-фильтров-и-создание-визуальных-эффектов]]
- [[современная-типографика-в-css]]
- [[адаптивная-типографика]]
- [[подстановка-шрифтов-и-производительность]]