---
aliases: ["CSS трансформации", "2D трансформации", "3D трансформации", "CSS transform"]
tags: ["css", "transforms", "2d", "3d", "transform", "translate", "rotate", "scale"]
---

# 2D и 3D трансформации: подробное руководство

## Введение

CSS-трансформации позволяют изменять форму, положение и ориентацию элементов на веб-странице без влияния на поток документа. Они обеспечивают возможность перемещения, вращения, масштабирования и наклона элементов в 2D и 3D пространстве, что открывает широкие возможности для создания анимаций и интерактивных эффектов.

## Основы CSS-трансформаций

### Свойство transform

Свойство `transform` применяет трансформации к элементу. Оно принимает одну или несколько функций трансформации, которые можно комбинировать.

```css
.basic-transform {
  transform: translate(10px, 20px);
  transform: rotate(45deg);
  transform: scale(1.2);
  transform: skew(30deg, 20deg);
}
```

## 2D трансформации

### translate()

Функция `translate()` перемещает элемент по осям X и Y.

```css
/* Перемещение по X и Y */
.translate-example {
  transform: translate(50px, 100px); /* 50px по X, 100px по Y */
}

/* Отдельные оси */
.translate-separate {
  transform: translateX(30px); /* Только по X */
  transform: translateY(-20px); /* Только по Y */
}

/* Адаптивное перемещение */
.translate-responsive {
  transform: translate(calc(10% + 20px), 1rem);
}
```

### rotate()

Функция `rotate()` вращает элемент вокруг его центра.

```css
/* Вращение на 45 градусов */
.rotate-example {
  transform: rotate(45deg);
}

/* Отрицательное вращение */
.rotate-negative {
  transform: rotate(-30deg);
}

/* Вращение с использованием разных единиц */
.rotate-units {
  transform: rotate(0.25turn); /* 1/4 оборота */
  transform: rotate(1.57rad); /* 1.57 радиан ≈ 90 градусов */
}
```

### scale()

Функция `scale()` изменяет размер элемента по осям X и Y.

```css
/* Масштабирование по обоим осям */
.scale-example {
  transform: scale(1.5); /* Увеличение в 1.5 раза */
}

/* Раздельное масштабирование */
.scale-separate {
  transform: scale(1.2, 0.8); /* 1.2 по X, 0.8 по Y */
}

/* Отдельные оси */
.scale-x {
  transform: scaleX(1.3); /* Только по X */
}

.scale-y {
  transform: scaleY(0.7); /* Только по Y */
}

/* Отрицательное масштабирование (зеркальное отражение) */
.scale-negative {
  transform: scaleX(-1); /* Отражение по горизонтали */
}
```

### skew()

Функция `skew()` наклоняет элемент по осям X и Y.

```css
/* Наклон по обоим осям */
.skew-example {
  transform: skew(30deg, 10deg);
}

/* Отдельные оси */
.skew-x {
  transform: skewX(20deg);
}

.skew-y {
  transform: skewY(-15deg);
}
```

### matrix()

Функция `matrix()` позволяет задать любую 2D-трансформацию с помощью матрицы 3x3.

```css
/* Матрица для комбинации трансформаций */
.matrix-example {
  transform: matrix(1, 0.5, -0.5, 1, 50, 100);
  /* matrix(scaleX, skewY, skewX, scaleY, translateX, translateY) */
}
```

## 3D трансформации

Для работы с 3D трансформациями необходимо понимать концепцию 3D-пространства и перспективы.

### translate3d()

Функция `translate3d()` перемещает элемент в 3D-пространстве.

```css
/* 3D перемещение */
.translate3d-example {
  transform: translate3d(50px, 100px, 20px);
}

/* Отдельные оси */
.translate-z {
  transform: translateZ(30px); /* Перемещение по оси Z */
}

.translate-xy {
  transform: translateX(20px) translateY(30px); /* Комбинация */
}
```

### rotate3d()

Функция `rotate3d()` вращает элемент вокруг произвольной оси в 3D-пространстве.

```css
/* Вращение вокруг произвольной оси */
.rotate3d-example {
  transform: rotate3d(1, 1, 0, 45deg); /* Вращение на 45 градусов вокруг оси (1,1,0) */
}

/* Вращение вокруг конкретных осей */
.rotate-x {
  transform: rotateX(30deg); /* Вращение вокруг оси X */
}

.rotate-y {
  transform: rotateY(45deg); /* Вращение вокруг оси Y */
}

.rotate-z {
  transform: rotateZ(60deg); /* Вращение вокруг оси Z (эквивалентно rotate()) */
}
```

### scale3d()

Функция `scale3d()` масштабирует элемент в 3D-пространстве.

```css
/* 3D масштабирование */
.scale3d-example {
  transform: scale3d(1.2, 0.8, 1.0); /* По осям X, Y, Z */
}

/* Отдельные оси */
.scale-z {
  transform: scaleZ(1.5); /* Масштабирование по оси Z */
}
```

### matrix3d()

Функция `matrix3d()` позволяет задать любую 3D-трансформацию с помощью матрицы 4x4.

```css
/* 3D матрица */
.matrix3d-example {
  transform: matrix3d(
    1, 0, 0, 0,
    0, 1, 0, 0,
    0, 0, 1, 0,
    50, 100, 20, 1
  );
}
```

## Свойства управления 3D-пространством

### perspective

Свойство `perspective` определяет глубину 3D-пространства, создавая эффект перспективы.

```css
/* Установка перспективы для элемента */
.perspective-element {
  perspective: 1000px;
}

/* Установка перспективы для потомков */
.parent-with-perspective {
  perspective: 800px;
}

.child-transform {
  transform: rotateY(45deg); /* Влияние перспективы родителя */
}
```

### perspective-origin

Свойство `perspective-origin` определяет положение точки перспективы.

```css
.perspective-origin-example {
  perspective: 1000px;
  perspective-origin: 50% 50%; /* По умолчанию - центр */
}

/* Разные значения */
.perspective-origin-top {
  perspective-origin: 50% 0%; /* Сверху */
}

.perspective-origin-left {
  perspective-origin: 0% 50%; /* Слева */
}

.perspective-origin-custom {
  perspective-origin: 100px 150px; /* Конкретные координаты */
}
```

### transform-style

Свойство `transform-style` определяет, как дочерние элементы воспринимаются в 3D-пространстве.

```css
/* Плоский стиль (по умолчанию) */
.flat-container {
  transform-style: flat;
}

/* 3D стиль */
.preserve-3d-container {
  transform-style: preserve-3d;
  transform: rotateY(45deg);
}

.preserve-3d-container .child {
  transform: translateZ(50px); /* Работает только с preserve-3d */
}
```

### backface-visibility

Свойство `backface-visibility` управляет видимостью задней стороны элемента при 3D-трансформациях.

```css
/* По умолчанию задняя сторона видна */
.default-backface {
  transform: rotateY(180deg);
}

/* Скрытие задней стороны */
.hidden-backface {
  backface-visibility: hidden;
  transform: rotateY(180deg);
}
```

## Комбинирование трансформаций

Трансформации можно комбинировать в одном свойстве `transform`.

```css
.combined-transform {
  transform: 
    translate(50px, 100px) 
    rotate(45deg) 
    scale(1.2) 
    skew(10deg, 5deg);
}

/* Комбинирование 2D и 3D трансформаций */
.combined-2d-3d {
  transform: 
    translateX(30px) 
    rotateY(30deg) 
    scaleZ(1.5);
}
```

> [!tip] Важно
> Порядок применения трансформаций важен. Трансформации применяются в том порядке, в котором они указаны.

## Точка трансформации

Свойство `transform-origin` определяет точку, относительно которой применяются трансформации.

```css
/* По умолчанию - центр элемента */
.default-origin {
  transform: rotate(45deg);
}

/* Изменение точки трансформации */
.custom-origin {
  transform-origin: 0 0; /* Левый верхний угол */
  transform: rotate(45deg);
}

/* Разные значения */
.origin-center {
  transform-origin: center; /* Центр */
}

.origin-bottom-right {
  transform-origin: bottom right; /* Нижний правый угол */
}

.origin-pixel {
  transform-origin: 50px 100px; /* Конкретные координаты */
}

.origin-percent {
  transform-origin: 25% 75%; /* Проценты */
}

.origin-mixed {
  transform-origin: 10% 20px; /* Смешанные единицы */
}

/* 3D точка трансформации */
.origin-3d {
  transform-origin: 50% 50% 20px; /* X, Y, Z */
}
```

## Практические примеры

### Карточка с 3D-эффектом переворота

```css
.flip-card-container {
  perspective: 1500px;
  width: 200px;
  height: 300px;
}

.flip-card {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.flip-card:hover {
  transform: rotateY(180deg);
}

.flip-card-front,
.flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.flip-card-front {
  background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
  color: white;
}

.flip-card-back {
  background: linear-gradient(45deg, #45b7d1, #96ceb4);
  color: white;
  transform: rotateY(180deg);
}
```

### 3D-карусель

```css
.carousel-container {
  width: 200px;
  height: 200px;
  position: relative;
  perspective: 1000px;
}

.carousel {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transform: rotateY(0deg);
  transition: transform 1s;
}

.carousel-item {
  position: absolute;
  width: 200px;
  height: 200px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid #ddd;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  backface-visibility: hidden;
}

/* Расположение элементов в 3D-пространстве */
.carousel-item:nth-child(1) { transform: rotateY(0deg) translateZ(300px); }
.carousel-item:nth-child(2) { transform: rotateY(60deg) translateZ(300px); }
.carousel-item:nth-child(3) { transform: rotateY(120deg) translateZ(300px); }
.carousel-item:nth-child(4) { transform: rotateY(180deg) translateZ(300px); }
.carousel-item:nth-child(5) { transform: rotateY(240deg) translateZ(300px); }
.carousel-item:nth-child(6) { transform: rotateY(300deg) translateZ(300px); }
```

### Адаптивные 3D-эффекты

```css
.adaptive-3d {
  width: min(300px, 80vw);
  height: min(200px, 50vh);
  transform: 
    rotateX(calc(var(--rotation-x, 0) * 1deg)) 
    rotateY(calc(var(--rotation-y, 0) * 1deg))
    translateZ(calc(var(--depth, 0) * 1px));
  transition: transform 0.3s ease;
}

.adaptive-3d:hover {
  --rotation-x: 15;
  --rotation-y: 15;
  --depth: 50;
}
```

## Анимация трансформаций

Трансформации отлично подходят для анимации:

```css
/* Пульсация */
.pulse {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

/* Вращение */
.rotate-continuously {
  animation: rotate 4s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* 3D-анимация */
.cube-rotation {
  transform-style: preserve-3d;
  animation: cubeRotate 8s infinite linear;
}

@keyframes cubeRotate {
  0% { transform: rotateX(0deg) rotateY(0deg); }
  100% { transform: rotateX(360deg) rotateY(360deg); }
}
```

## Совместимость и резервные значения

```css
.transform-fallback {
  /* Резервное значение для старых браузеров */
  position: relative;
  left: 50px;
  top: 100px;
  
  /* Современное значение */
  transform: translate(50px, 100px);
}
```

## Производительность

При работе с трансформациями важно учитывать производительность:

```css
/* Оптимизация производительности */
.optimized-transform {
  /* Активация аппаратного ускорения */
  will-change: transform;
  
  /* Или использование transform и opacity для анимаций */
  transform: translateZ(0); /* Принудительное аппаратное ускорение */
}

/* Использование transform вместо изменений layout */
.bad-performance {
  /* Избегайте анимации свойств, влияющих на layout */
  /* left, top, width, height и т.д. */
}

.good-performance {
  /* Предпочтительно анимировать transform и opacity */
  transform: translateX(50px);
  opacity: 0.8;
}
```

## Заключение

2D и 3D трансформации в CSS предоставляют мощные возможности для создания сложных визуальных эффектов и интерактивных элементов. Понимание основ работы с трансформациями, перспективой и 3D-пространством позволяет создавать современные, привлекательные интерфейсы с плавными анимациями и эффектами.

При использовании трансформаций важно учитывать производительность и обеспечивать резервные значения для более старых браузеров. Также следует помнить, что порядок применения трансформаций влияет на конечный результат.

## См. также

- [[перспектива-и-3d-пространство-в-css]]
- [[трансформации-и-производительность]]
- [[CSS-анимации]]
- [[CSS-3D-эффекты]]
- [[цветовые-пространства-и-форматы]]
- [[цветовые-функции-и-их-применение]]
- [[работа-с-цветовыми-темами-и-контрастностью]]
- [[обзор-css-функций]]
- [[продвинутые-функции-css]]
- [[практическое-применение-функций-в-адаптивном-дизайне]]
- [[css-фильтры-применение-и-оптимизация]]
- [[css-формы-и-обтекание]]
- [[комбинирование-фильтров-и-создание-визуальных-эффектов]]
- [[современная-типографика-в-css]]
- [[адаптивная-типографика]]
- [[подстановка-шрифтов-и-производительность]]