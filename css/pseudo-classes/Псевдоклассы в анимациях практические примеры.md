---
aliases: ["Псевдоклассы в анимациях", "Анимации с псевдоклассами", "Практические примеры анимаций псевдоклассов"]
tags: [css/pseudo-classes, css-animations, css-transitions, ui-effects]
---

# Псевдоклассы в анимациях: практические примеры

## Введение

Псевдоклассы в сочетании с CSS-анимациями и переходами позволяют создавать интерактивные и привлекательные пользовательские интерфейсы. Понимание того, как использовать псевдоклассы для управления анимациями, критически важно для создания качественных UX-решений.

## Основы анимаций с псевдоклассами

### CSS-переходы (transitions) с псевдоклассами

Самый распространенный способ анимации - использование CSS-переходов, запускаемых псевдоклассами:

```css
/* Базовая кнопка с hover анимацией */
.basic-button {
  padding: 12px 24px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

/* Анимация при наведении */
.basic-button:hover {
  background-color: #0056b3;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
}

/* Анимация при фокусе */
.basic-button:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.5);
}

/* Анимация при активном состоянии */
.basic-button:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(0, 123, 255, 0.3);
}
```

### CSS-анимации с псевдоклассами

CSS-анимации позволяют создавать более сложные эффекты:

```css
/* Анимация загрузки при :active состоянии */
.loading-button {
  padding: 12px 24px;
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

.loading-button:active {
  animation: pulse 0.5s ease;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

/* Анимация с :hover для индикатора загрузки */
.loading-button:hover::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: ripple 1s infinite;
}

@keyframes ripple {
  0% {
    width: 0;
    height: 0;
    opacity: 0.5;
  }
  100% {
    width: 200px;
    height: 200px;
    opacity: 0;
  }
}
```

## Практические примеры анимаций

### Пример 1: Анимированные карточки

```html
<div class="card-container">
  <div class="card">
    <div class="card-image">Изображение</div>
    <div class="card-content">
      <h3>Заголовок карточки</h3>
      <p>Описание карточки с интересным контентом</p>
    </div>
  </div>
</div>
```

```css
.card-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  padding: 2rem;
}

.card {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  position: relative;
}

.card-image {
  height: 200px;
  background: linear-gradient(45deg, #667eea, #764ba2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.2rem;
  transition: all 0.3s ease;
}

.card-content {
  padding: 1.5rem;
  transition: all 0.3s ease;
}

.card:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

.card:hover .card-image {
  transform: scale(1.05);
}

.card:hover .card-content {
  background-color: #f8f9fa;
}

/* Анимация при фокусе для доступности */
.card:focus-within {
  outline: 2px solid #007bff;
  outline-offset: 4px;
  transform: translateY(-5px);
}
```

### Пример 2: Анимированный переключатель (toggle)

```html
<div class="toggle-container">
  <input type="checkbox" id="toggle" class="toggle-checkbox">
  <label for="toggle" class="toggle-label">
    <span class="toggle-inner"></span>
    <span class="toggle-switch"></span>
  </label>
</div>
```

```css
.toggle-container {
  display: inline-block;
  position: relative;
}

.toggle-checkbox {
  opacity: 0;
  position: absolute;
  width: 0;
  height: 0;
}

.toggle-label {
  display: block;
  width: 60px;
  height: 30px;
  background-color: #ccc;
  border-radius: 15px;
  position: relative;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.toggle-label::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background-color: white;
  transition: transform 0.3s ease;
}

.toggle-checkbox:checked + .toggle-label {
  background-color: #4CAF50;
}

.toggle-checkbox:checked + .toggle-label::after {
  transform: translateX(30px);
}

/* Анимация при фокусе */
.toggle-checkbox:focus + .toggle-label {
  box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3);
}

/* Анимация при нажатии */
.toggle-checkbox:active + .toggle-label::after {
  width: 30px;
}
```

### Пример 3: Анимированный прогресс-бар

```html
<div class="progress-container">
  <div class="progress-bar" data-progress="75">
    <div class="progress-fill"></div>
    <div class="progress-text">75%</div>
  </div>
</div>
```

```css
.progress-container {
  max-width: 400px;
  margin: 2rem auto;
}

.progress-bar {
  height: 24px;
  background-color: #e9ecef;
  border-radius: 12px;
  overflow: hidden;
  position: relative;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #007bff, #0056b3);
  width: 0;
  transition: width 1s ease-in-out;
  position: relative;
  border-radius: 12px;
}

.progress-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 0.75rem;
  font-weight: bold;
  color: white;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
  transition: opacity 0.3s ease;
}

/* Анимация при наведении */
.progress-bar:hover .progress-fill {
  filter: brightness(1.1);
}

.progress-bar:hover .progress-text {
  opacity: 1;
}

/* Анимация при фокусе */
.progress-bar:focus-within {
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1), 0 0 0 3px rgba(0, 123, 255, 0.25);
}
```

```javascript
// JavaScript для анимации заполнения
document.querySelectorAll('.progress-bar').forEach(bar => {
  const progress = bar.dataset.progress;
  const fill = bar.querySelector('.progress-fill');
  const text = bar.querySelector('.progress-text');
  
  // Анимация заполнения при загрузке
  setTimeout(() => {
    fill.style.width = progress + '%';
  }, 300);
});
```

## Сложные анимации с комбинациями псевдоклассов

### Комбинация hover и focus

```css
.interactive-element {
  padding: 1rem;
  background-color: #f8f9fa;
  border: 2px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

/* Анимация при наведении */
.interactive-element:hover {
  background-color: #e9ecef;
  border-color: #007bff;
  transform: translateY(-3px);
}

/* Анимация при фокусе */
.interactive-element:focus {
  outline: none;
  border-color: #28a745;
  box-shadow: 0 5px 15px rgba(40, 167, 69, 0.2);
}

/* Комбинированное состояние hover + focus */
.interactive-element:hover:focus {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 123, 255, 0.3);
}

/* Анимация при активном состоянии */
.interactive-element:active {
  transform: translateY(0) scale(0.98);
  transition: transform 0.1s ease;
}
```

### Анимации с :not()

```css
.grid-item {
  padding: 1rem;
  background-color: #f8f9fa;
  border-radius: 8px;
  transition: all 0.3s ease;
}

/* Анимация для всех элементов, кроме отмеченных */
.grid-item:not(.selected):hover {
  background-color: #e9ecef;
  transform: scale(1.02);
}

/* Анимация для отмеченных элементов */
.grid-item.selected {
  background-color: #007bff;
  color: white;
  transform: scale(1.05);
}

/* Анимация для отмеченных элементов при наведении */
.grid-item.selected:hover {
  background-color: #0056b3;
  box-shadow: 0 5px 15px rgba(0, 123, 255, 0.4);
}
```

### Анимации с :nth-child()

```css
.animated-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.animated-list li {
  padding: 1rem;
  margin: 0.5rem 0;
  background-color: #f8f9fa;
  border-radius: 8px;
  transition: all 0.3s ease;
  opacity: 0;
  transform: translateX(-20px);
}

/* Анимация для нечетных элементов */
.animated-list li:nth-child(odd) {
  background-color: #e9ecef;
}

/* Анимация для четных элементов */
.animated-list li:nth-child(even) {
  background-color: #dee2e6;
}

/* Анимация при наведении */
.animated-list li:hover {
  transform: translateX(0) scale(1.02);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Анимация для первого элемента */
.animated-list li:first-child:hover {
  background-color: #007bff;
  color: white;
}

/* Анимация для последнего элемента */
.animated-list li:last-child:hover {
  background-color: #28a745;
  color: white;
}
```

```javascript
// Анимация появления элементов
document.querySelectorAll('.animated-list li').forEach((item, index) => {
  setTimeout(() => {
    item.style.opacity = '1';
    item.style.transform = 'translateX(0)';
  }, index * 100);
});
```

## Анимации с псевдоклассами состояния формы

### Валидация полей формы

```html
<form class="validation-form">
  <div class="input-group">
    <input type="text" id="username" class="form-input" required>
    <label for="username">Имя пользователя</label>
    <div class="validation-message"></div>
  </div>
</form>
```

```css
.validation-form {
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
}

.input-group {
  position: relative;
  margin-bottom: 1.5rem;
}

.form-input {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.form-input:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);
}

/* Анимация для валидного поля */
.form-input:valid {
  border-color: #28a745;
  animation: validPulse 0.5s ease;
}

/* Анимация для невалидного поля */
.form-input:invalid:not(:placeholder-shown) {
  border-color: #dc3545;
  animation: invalidShake 0.5s ease;
}

/* Анимация "пульсации" для валидного поля */
@keyframes validPulse {
  0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.2); }
  70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
  100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
}

/* Анимация "тряски" для невалидного поля */
@keyframes invalidShake {
  0%, 100% { transform: translateX(0); }
  20%, 60% { transform: translateX(-5px); }
  40%, 80% { transform: translateX(5px); }
}

/* Анимация подсказки */
.form-input:focus + label {
  color: #007bff;
  transform: translateY(-1.5rem);
  font-size: 0.8rem;
}

/* Анимация для сообщения валидации */
.validation-message {
  margin-top: 0.25rem;
  font-size: 0.8rem;
  min-height: 1.2rem;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.form-input:invalid:not(:placeholder-shown) + label + .validation-message {
  opacity: 1;
  color: #dc3545;
}
```

## Анимации с современными псевдоклассами

### Использование :is() и :where()

```css
/* Анимации с :is() для упрощения селекторов */
.nav-item:is(:hover, :focus, :active) {
  background-color: #007bff;
  color: white;
  transform: translateY(-2px);
  transition: all 0.3s ease;
}

/* Анимации с :where() для низкой специфичности */
.card:where(:hover, :focus-within) {
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  transform: translateY(-5px);
}

/* Комбинация :is() и :not() */
.featured-item:is(:hover, :focus):not(.disabled) {
  animation: featuredPulse 2s infinite;
}

@keyframes featuredPulse {
  0% { box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.4); }
  70% { box-shadow: 0 0 0 15px rgba(255, 193, 7, 0); }
  100% { box-shadow: 0 0 0 0 rgba(255, 193, 7, 0); }
}
```

### Анимации с :has() (современный подход)

```css
/* Анимация контейнера, когда он содержит определенные элементы */
.form-container:has(.form-input:focus) {
  box-shadow: 0 5px 20px rgba(0, 123, 255, 0.3);
  transition: box-shadow 0.3s ease;
}

/* Анимация заголовка, когда за ним следует определенный элемент */
.header:has(+ .active-section) {
  color: #007bff;
  text-shadow: 0 0 8px rgba(0, 123, 255, 0.5);
}
```

## Производительность анимаций с псевдоклассами

### Оптимизация анимаций

```css
/* Используем GPU-ускоренные свойства */
.optimized-animation {
  will-change: transform, opacity; /* Подсказываем браузеру */
  transform: translateZ(0); /* Активируем GPU-ускорение */
  transition: transform 0.3s ease, opacity 0.3s ease;
}

/* Избегаем анимации свойств, вызывающих перерисовку */
.avoid-repaint {
  /* border, background-color, width, height - избегаем анимации */
}

/* Используем CSS-переменные для динамических изменений */
.dynamic-animation {
  --scale-factor: 1;
  transform: scale(var(--scale-factor));
  transition: --scale-factor 0.3s ease;
}

.dynamic-animation:hover {
  --scale-factor: 1.1;
}
```

### Ограничение частоты анимаций

```css
/* Ограничиваем анимации для экономии ресурсов */
@media (prefers-reduced-motion: reduce) {
  .interactive-element:hover,
  .interactive-element:focus,
  .interactive-element:active {
    transition: none;
    animation: none;
  }
}

/* Условия для пользователей с предпочтением на уменьшение анимаций */
.reduce-motion .card:hover {
  transform: none;
  box-shadow: none;
}
```

## Практические советы и лучшие практики

### 1. Использование семантически правильных псевдоклассов

```css
/* Правильно: используем :focus для интерактивных элементов */
.button:focus {
  outline: 2px solid #007bff;
  outline-offset: 2px;
}

/* Правильно: используем :hover для визуальных подсказок */
.card:hover {
  transform: translateY(-5px);
}
```

### 2. Обеспечение доступности

```css
/* Обеспечиваем видимые индикаторы фокуса */
.focusable-element:focus {
  outline: 2px solid #4a90e2;
  outline-offset: 2px;
}

/* Используем :focus-visible для улучшения UX */
.focusable-element:focus-visible {
  outline: 2px solid #4a90e2;
  outline-offset: 2px;
}

.focusable-element:focus {
  outline: none; /* Убираем стандартный outline */
}
```

### 3. Плавные переходы

```css
/* Используем плавные переходы для лучшего UX */
.smooth-transition {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  /* Используем cubic-bezier для естественных анимаций */
}
```

## Заключение

Анимации с псевдоклассами - мощный инструмент для создания интерактивных и привлекательных пользовательских интерфейсов. Ключевые моменты:

1. Используйте GPU-ускоренные свойства для плавных анимаций
2. Обеспечивайте доступность с помощью видимых индикаторов фокуса
3. Оптимизируйте производительность, избегая сложных вычислений
4. Используйте современные псевдоклассы для упрощения кода
5. Учитывайте предпочтения пользователей по анимациям
6. Тестируйте анимации на разных устройствах

Правильное использование псевдоклассов в анимациях значительно улучшает пользовательский опыт и делает интерфейсы более живыми и отзывчивыми.

## См. также

- [[Псевдоклассы и их приоритеты: как браузер определяет порядок]]
- [[Псевдоклассы и производительность: оптимизация сложных селекторов]]
- [[CSS-анимации и переходы: продвинутые техники]]
- [[Доступные веб-интерфейсы: принципы и практика]]
- [[Современные CSS-селекторы: :has(), :is(), :where(), :not()]]