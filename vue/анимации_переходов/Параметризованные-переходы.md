---
aliases: [Параметризованные переходы, Transition Props, Анимации с параметрами]
tags: [vue, transition, animation, props, frontend]
---

# Параметризованные переходы

## Обзор

Параметризованные переходы в Vue позволяют настраивать анимации через передачу параметров в компоненты переходов. Это особенно полезно при создании переиспользуемых анимационных компонентов, что актуально для крупных российских проектов, где важна модульность и поддержка кода в 2025 году.

## Основы параметризованных переходов

В Vue переходы могут принимать параметры через атрибуты, что позволяет создавать гибкие анимационные компоненты с различными настройками:

- `name` - имя перехода для CSS-классов
- `mode` - режим перехода (in-out, out-in)
- `duration` - продолжительность анимации
- `enterFromClass`, `enterActiveClass`, `enterToClass` - кастомные классы для входа
- `leaveFromClass`, `leaveActiveClass`, `leaveToClass` - кастомные классы для выхода

### Пример базового параметризованного перехода

```vue
<template>
  <div>
    <button @click="currentTransition = currentTransition === 'fade' ? 'slide' : 'fade'">
      Переключить анимацию
    </button>
    
    <transition
      :name="transitionName"
      :duration="transitionDuration"
      :mode="transitionMode"
    >
      <div v-if="show" class="content">
        Контент с параметризованной анимацией
      </div>
    </transition>
  </div>
</template>

<script>
export default {
  data() {
    return {
      show: true,
      currentTransition: 'fade',
      transitionDuration: 500,
      transitionMode: 'out-in'
    }
  },
  computed: {
    transitionName() {
      return this.currentTransition
    }
  }
}
</script>

<style>
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.5s ease;
}
.fade-enter-from, .fade-leave-to {
  opacity: 0;
}

.slide-enter-active, .slide-leave-active {
  transition: all 0.5s ease;
}
.slide-enter-from {
  transform: translateX(30px);
  opacity: 0;
}
.slide-leave-to {
  transform: translateX(-30px);
  opacity: 0;
}
</style>
```

## Практическое применение

### 1. Универсальный компонент модального окна

```vue
<!-- ModalTransition.vue -->
<template>
  <transition
    :name="transitionName"
    :duration="duration"
    @before-enter="beforeEnter"
    @enter="enter"
    @before-leave="beforeLeave"
    @leave="leave"
  >
    <div v-show="show" class="modal-overlay" @click="handleOverlayClick">
      <div class="modal-content" @click.stop>
        <slot></slot>
      </div>
    </div>
  </transition>
</template>

<script>
export default {
  name: 'ModalTransition',
  props: {
    show: {
      type: Boolean,
      default: false
    },
    type: {
      type: String,
      default: 'fade', // fade, slide, zoom
      validator: value => ['fade', 'slide', 'zoom'].includes(value)
    },
    duration: {
      type: Number,
      default: 300
    },
    closeOnOverlay: {
      type: Boolean,
      default: true
    }
  },
  computed: {
    transitionName() {
      return `modal-${this.type}`
    }
  },
  methods: {
    handleOverlayClick() {
      if (this.closeOnOverlay) {
        this.$emit('close')
      }
    },
    beforeEnter(el) {
      // Подготовка перед анимацией
    },
    enter(el, done) {
      // Логика анимации появления
      done()
    },
    beforeLeave(el) {
      // Подготовка перед анимацией исчезновения
    },
    leave(el, done) {
      // Логика анимации исчезновения
      done()
    }
  }
}
</script>

<style>
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background: white;
  padding: 20px;
  border-radius: 8px;
  max-width: 90%;
  max-height: 90%;
  overflow: auto;
}

/* Анимации для разных типов */
.modal-fade-enter-active, .modal-fade-leave-active {
  transition: all 0.3s ease;
}
.modal-fade-enter-from {
  opacity: 0;
}
.modal-fade-leave-to {
  opacity: 0;
}

.modal-slide-enter-active, .modal-slide-leave-active {
  transition: all 0.3s ease;
}
.modal-slide-enter-from {
  opacity: 0;
  transform: translateY(-50px);
}
.modal-slide-leave-to {
  opacity: 0;
  transform: translateY(-50px);
}

.modal-zoom-enter-active, .modal-zoom-leave-active {
  transition: all 0.3s ease;
}
.modal-zoom-enter-from {
  opacity: 0;
  transform: scale(0.8);
}
.modal-zoom-leave-to {
  opacity: 0;
  transform: scale(0.8);
}
</style>
```

### 2. Анимированный список с настраиваемыми параметрами

```vue
<!-- AnimatedList.vue -->
<template>
  <transition-group
    :name="animationType"
    :duration="animationDuration"
    :tag="listTag"
    class="animated-list"
  >
    <component
      v-for="item in items"
      :is="itemTag"
      :key="item.id"
      class="list-item"
      :style="itemStyle"
    >
      <slot :item="item"></slot>
    </component>
  </transition-group>
</template>

<script>
export default {
  name: 'AnimatedList',
  props: {
    items: {
      type: Array,
      required: true
    },
    animationType: {
      type: String,
      default: 'list-fade',
      validator: value => [
        'list-fade', 
        'list-slide', 
        'list-bounce',
        'list-scale'
      ].includes(value)
    },
    animationDuration: {
      type: Number,
      default: 300
    },
    listTag: {
      type: String,
      default: 'div'
    },
    itemTag: {
      type: String,
      default: 'div'
    },
    itemStyle: {
      type: Object,
      default: () => ({})
    }
  }
}
</script>

<style>
.animated-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.list-item {
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

/* Анимации для списка */
.list-fade-enter-active, .list-fade-leave-active {
  transition: all 0.3s ease;
}
.list-fade-enter-from {
  opacity: 0;
}
.list-fade-leave-to {
  opacity: 0;
  transform: translateX(-30px);
}

.list-slide-enter-active, .list-slide-leave-active {
  transition: all 0.3s ease;
}
.list-slide-enter-from {
  opacity: 0;
  transform: translateX(30px);
}
.list-slide-leave-to {
  opacity: 0;
  transform: translateX(-30px);
}

.list-bounce-enter-active {
  animation: bounce-in 0.5s;
}
.list-bounce-leave-active {
  animation: bounce-out 0.5s;
}

@keyframes bounce-in {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes bounce-out {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.05); }
  100% { transform: scale(0.3); opacity: 0; }
}

.list-scale-enter-active, .list-scale-leave-active {
  transition: all 0.3s ease;
}
.list-scale-enter-from {
  opacity: 0;
  transform: scale(0.8);
}
.list-scale-leave-to {
  opacity: 0;
  transform: scale(0.8);
}
</style>
```

## Практические рекомендации

### 1. Управление сложностью

При создании параметризованных переходов в российских условиях:

- Ограничивайте количество параметров для упрощения поддержки
- Документируйте параметры и их влияние на анимацию
- Используйте валидацию входных параметров

### 2. Производительность

- Используйте CSS-анимации вместо JavaScript при возможности
- Оптимизируйте анимации для слабых устройств
- Учитывайте предпочтения пользователей относительно анимаций

### 3. Совместимость с доступностью

- Предоставляйте возможность отключения анимаций
- Используйте ARIA-атрибуты для описания анимационных состояний
- Учитывайте медиа-запрос `prefers-reduced-motion`

## Продвинутые возможности

### Динамическая настройка параметров

```vue
<template>
  <div>
    <!-- Панель управления анимациями -->
    <div class="controls">
      <label>
        Тип анимации:
        <select v-model="selectedAnimation">
          <option value="fade">Fade</option>
          <option value="slide">Slide</option>
          <option value="zoom">Zoom</option>
        </select>
      </label>
      
      <label>
        Продолжительность: {{ duration }}ms
        <input 
          type="range" 
          min="100" 
          max="1000" 
          step="50"
          v-model.number="duration"
        >
      </label>
    </div>
    
    <!-- Анимированный элемент -->
    <transition
      :name="selectedAnimation"
      :duration="duration"
      :css="!useJSAnimation"
    >
      <div v-if="show" class="animated-box">
        Анимированный элемент
      </div>
    </transition>
  </div>
</template>

<script>
export default {
  data() {
    return {
      show: true,
      selectedAnimation: 'fade',
      duration: 300,
      useJSAnimation: false
    }
  }
}
</script>
```

## Связанные темы

- [[Transition]]
- [[Transition-group]]
- [[Локальные-переходы]]
- [[Кастомные-переходы]]

## Заключение

Параметризованные переходы позволяют создавать гибкие и переиспользуемые анимационные компоненты в Vue. Это особенно важно для крупных российских проектов, где требуется поддержка кода и возможность настройки анимаций под разные сценарии использования. При разработке в 2025 году важно учитывать баланс между функциональностью и производительностью, а также требования к доступности.