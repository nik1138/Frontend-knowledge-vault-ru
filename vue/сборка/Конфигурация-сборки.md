---
aliases: ["Конфигурация Vue сборки", "Настройка сборки Vue"]
tags: ["#vue", "#build", "#configuration", "#vite", "#webpack"]
---

# Конфигурация-сборки

## Обзор

Конфигурация сборки Vue приложения играет ключевую роль в оптимизации производительности, размера бандла и времени сборки. В 2025 году основными инструментами сборки для Vue являются [[Vite]] и [[Webpack]], каждый из которых имеет свои особенности и преимущества.

## Vite vs Webpack

### Vite

[[Vite]] - это современный инструмент сборки, который обеспечивает быструю загрузку при разработке за счет использования нативных ES модулей. Он стал предпочтительным выбором для большинства новых Vue проектов.

**Преимущества:**
- Быстрая загрузка при разработке
- Горячая замена модулей (HMR)
- Современная архитектура
- Встроенная поддержка TypeScript и CSS препроцессоров

**Конфигурационный файл `vite.config.js`:**
```js
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'

export default defineConfig({
  plugins: [vue()],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
      '@components': resolve(__dirname, 'src/components')
    }
  },
  build: {
    outDir: 'dist',
    assetsDir: 'assets',
    sourcemap: true,
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['vue', 'vue-router'],
          ui: ['@vueuse/core', 'element-plus']
        }
      }
    }
  },
  server: {
    host: '0.0.0.0',
    port: 3000,
    open: true
  }
})
```

### Webpack

[[Webpack]] остается мощным инструментом для сложных конфигураций и проектов с особыми требованиями. Он предоставляет больше контроля над процессом сборки, но требует больше настройки.

**Преимущества:**
- Гибкая настройка
- Богатая экосистема плагинов
- Поддержка legacy проектов
- Расширенные возможности оптимизации

## Основные настройки конфигурации

### Псевдонимы (Aliases)

Псевдонимы позволяют использовать короткие пути вместо длинных относительных путей:

```js
// vite.config.js
resolve: {
  alias: {
    '@': path.resolve(__dirname, 'src'),
    '@utils': path.resolve(__dirname, 'src/utils'),
    '@assets': path.resolve(__dirname, 'src/assets')
  }
}
```

### Плагины

Плагины расширяют функциональность сборки:

```js
// vite.config.js
plugins: [
  vue(),
  vueJsx(), // для использования JSX
  Components({
    dirs: ['src/components'],
    extensions: ['vue', 'js', 'ts']
  }),
  AutoImport({
    imports: ['vue', 'vue-router'],
    dts: true
  })
]
```

### Оптимизация сборки

#### Управление внешними зависимостями

```js
build: {
  rollupOptions: {
    external: ['external-lib'],
    output: {
      globals: {
        'external-lib': 'ExternalLib'
      }
    }
  }
}
```

#### Минификация и сжатие

```js
build: {
  minify: 'terser', // или 'esbuild'
  terserOptions: {
    compress: {
      drop_console: true, // удаляет console.log в проде
      drop_debugger: true
    }
  },
  cssMinify: true
}
```

## Практические рекомендации

### Использование разных конфигураций для окружений

Создайте отдельные файлы конфигурации для разных окружений:

- `vite.config.js` - основная конфигурация
- `vite.config.dev.js` - для разработки
- `vite.config.prod.js` - для продакшена

```js
// vite.config.prod.js
import { defineConfig } from 'vite'
import { mergeConfig } from 'vite'
import baseConfig from './vite.config.js'

export default mergeConfig(baseConfig, {
  build: {
    minify: 'terser',
    cssMinify: true,
    sourcemap: false
  }
})
```

### Настройка безопасности

При разработке Vue приложений в России в 2025 году важно учитывать:

- Использование локальных зеркал npm-репозиториев
- Настройка Content Security Policy (CSP)
- Защита от XSS атак через корректную обработку данных

### Работа с API и CORS

```js
server: {
  proxy: {
    '/api': {
      target: 'https://your-api.ru',
      changeOrigin: true,
      secure: true
    }
  }
}
```

## Заключение

Правильная конфигурация сборки Vue приложения позволяет оптимизировать производительность, улучшить опыт разработки и обеспечить стабильность работы приложения. В 2025 году предпочтительно использовать [[Vite]] для новых проектов, но [[Webpack]] остается валидным выбором для сложных конфигураций.

См. также:
- [[Оптимизация]]
- [[Code-splitting]]
- [[Lazy-loading]]
- [[Анализ-бандла]]