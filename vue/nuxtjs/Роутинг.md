---
aliases: ["Маршрутизация", "Nuxt Routing", "Файловая маршрутизация"]
tags: [vue, nuxt, routing, javascript]
---

# Роутинг в Nuxt.js

В Nuxt.js маршрутизация основана на файловой системе. Создание файлов в директории `pages/` автоматически генерирует маршруты для вашего приложения. Это упрощает процесс создания и поддержки маршрутов, так как нет необходимости вручную писать конфигурации.

## Основы файловой маршрутизации

Каждый файл `.vue` в директории `pages/` становится маршрутом. Например:

```
pages/
--| index.vue
--| about.vue
--| products.vue
```

Создает следующие маршруты:
- `/` → `pages/index.vue`
- `/about` → `pages/about.vue`
- `/products` → `pages/products.vue`

## Вложенные маршруты

Для создания вложенных маршрутов используйте поддиректории:

```
pages/
--| about/
----| index.vue
----| team.vue
----| contact.vue
```

Это создаст:
- `/about` → `pages/about/index.vue`
- `/about/team` → `pages/about/team.vue`
- `/about/contact` → `pages/about/contact.vue`

## Динамические маршруты

Для создания динамических маршрутов используйте квадратные скобки в названии файла:

```
pages/
--| users/
----| [id].vue
----| [id]/
------| profile.vue
------| posts.vue
```

Это создаст:
- `/users/:id` → `pages/users/[id].vue`
- `/users/:id/profile` → `pages/users/[id]/profile.vue`
- `/users/:id/posts` → `pages/users/[id]/posts.vue`

В компоненте вы можете получить доступ к параметрам маршрута через `this.$route.params`:

```vue
<template>
  <div>
    <h1>Пользователь {{ $route.params.id }}</h1>
  </div>
</template>

<script>
export default {
  async asyncData({ params }) {
    // params.id содержит ID пользователя
    const user = await fetchUser(params.id)
    return { user }
  }
}
</script>
```

## Динамические вложенные маршруты

Вы можете комбинировать динамические маршруты с вложенными структурами:

```
pages/
--| category/
----| [slug]/
------| [subslug].vue
```

Это создаст маршрут `/category/:slug/:subslug`.

## Страница ошибки

Для кастомизации страницы ошибки 404 создайте файл `error.vue` в корне директории `pages/`:

```vue
<template>
  <div class="container">
    <h1 v-if="error.statusCode === 404">Страница не найдена</h1>
    <h1 v-else>Произошла ошибка</h1>
    <nuxt-link to="/">Вернуться на главную</nuxt-link>
  </div>
</template>

<script>
export default {
  props: ['error'],
  layout: 'error' // вы можете определить собственный layout
}
</script>
```

## Программная навигация

Nuxt.js предоставляет методы для программной навигации:

```javascript
// Внутри компонента
export default {
  methods: {
    navigateToAbout() {
      this.$router.push('/about')
    },
    navigateToUser(id) {
      this.$router.push({
        path: '/users/' + id,
        query: { tab: 'profile' }
      })
    }
  }
}
```

## Middleware для маршрутов

Вы можете использовать middleware для маршрутов, чтобы выполнять проверки перед переходом:

```javascript
// pages/admin.vue
export default {
  middleware: 'auth' // использует middleware из директории middleware/
}
```

## Роутинг с параметрами запроса

Параметры запроса автоматически доступны через `this.$route.query`:

```vue
<template>
  <div>
    <p>Поиск: {{ $route.query.search }}</p>
    <p>Страница: {{ $route.query.page }}</p>
  </div>
</template>
```

## Расширенная конфигурация маршрутов

Для более сложных случаев вы можете настроить маршруты вручную в файле `nuxt.config.js`:

```javascript
export default {
  router: {
    extendRoutes(routes, resolve) {
      routes.push({
        name: 'custom',
        path: '/custom/:slug?',
        component: resolve(__dirname, 'pages/custom.vue')
      })
    }
  }
}
```

## Роутинг в Nuxt 3

В Nuxt 3 используется новый подход к маршрутизации с использованием composables:

```vue
<template>
  <div>
    <NuxtLink to="/about">О нас</NuxtLink>
    <button @click="goToHome">На главную</button>
  </div>
</template>

<script setup>
const router = useRouter()

function goToHome() {
  router.push('/')
}
</script>
```

## Состояние на 2025 год в России

В 2025 году российские разработчики продолжают активно использовать файловую маршрутизацию Nuxt.js, так как она упрощает разработку и поддержку крупных проектов. Особенно популярна эта функция при создании корпоративных сайтов и интернет-магазинов, где важна SEO-оптимизация и четкая структура URL.

> [!tip] Совет
> Используйте понятные имена файлов для маршрутов, чтобы структура проекта была интуитивно понятной для других разработчиков.

## Связанные темы

- [[Что-такое-Nuxt]] - основы фреймворка
- [[Хуки]] - жизненный цикл и хуки приложения
- [[Модули]] - расширение функциональности
- [[Middleware]] - промежуточное ПО для маршрутов
- [[Vue.js]] - основы Vue.js
- [[Nuxt 3]] - особенности новой версии