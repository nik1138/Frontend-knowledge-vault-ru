---
aliases: ["Nuxt Modules", "Плагины Nuxt", "Расширения Nuxt"]
tags: [vue, nuxt, modules, plugins, javascript]
---

# Модули в Nuxt.js

**Модули** в Nuxt.js - это расширения, которые позволяют расширять функциональность фреймворка. Они могут изменять конфигурацию webpack, добавлять плагины, внедрять хуки и выполнять другие задачи, которые невозможно или нецелесообразно делать вручную.

## Что такое модуль

Модуль - это функция, которая расширяет возможности Nuxt.js. Модули могут быть:
- Установлены через npm
- Созданы локально в проекте
- Использоваться повторно в разных проектах

## Типы модулей

### 1. Официальные модули

Это модули, поддерживаемые командой Nuxt.js:
- `@nuxtjs/axios` - интеграция с Axios для HTTP-запросов
- `@nuxtjs/pwa` - поддержка PWA
- `@nuxtjs/auth` - система аутентификации
- `@nuxtjs/sitemap` - генерация sitemap
- `@nuxtjs/robots` - генерация robots.txt

### 2. Сторонние модули

Сообщество разработчиков создало множество модулей:
- `@nuxtjs/google-analytics` - интеграция с Google Analytics
- `@nuxtjs/sentry` - интеграция с Sentry для отслеживания ошибок
- `@nuxtjs/style-resources` - глобальные стили
- `nuxt-i18n` - международизация

### 3. Локальные модули

Вы можете создавать свои собственные модули прямо в проекте.

## Установка и использование модулей

### Установка через npm

```bash
npm install @nuxtjs/axios
```

### Настройка в nuxt.config.js

```javascript
export default {
  modules: [
    '@nuxtjs/axios'
  ],
  axios: {
    baseURL: 'https://api.example.com'
  }
}
```

## Создание собственного модуля

Пример простого модуля:

```javascript
// modules/my-module.js
export default function MyModule(moduleOptions) {
  // Добавляем плагин
  this.addPlugin({
    src: path.resolve(__dirname, 'templates/my-plugin.js'),
    filename: 'my-plugin.js',
    options: moduleOptions
  })

  // Добавляем middleware
  this.addServerMiddleware({
    path: '/api/custom',
    handler: '~/server-middleware/custom.js'
  })

  // Регистрируем хук
  this.nuxt.hook('build:done', () => {
    console.log('Сборка завершена!')
  })
}

// Обязательно укажите метаинформацию
MyModule.meta = require('./package.json')
```

### Шаблон модуля

```javascript
// modules/custom-module.js
export default function CustomModule(moduleOptions) {
  const options = Object.assign({
    // Значения по умолчанию
    option1: 'default1',
    option2: 'default2'
  }, this.options.customModule, moduleOptions)

  // Регистрируем плагин с опциями
  this.addPlugin({
    src: path.resolve(__dirname, 'templates/plugin.js'),
    filename: 'custom-module.js',
    options
  })

  // Можем добавлять зависимости
  this.extendBuild((config) => {
    // Настройка webpack
    config.module.rules.push({
      test: /\.custom$/,
      use: 'custom-loader'
    })
  })
}
```

## API для модулей

### this.addPlugin(options)

Добавляет плагин Vue.js:

```javascript
this.addPlugin({
  src: path.resolve(__dirname, 'templates/my-plugin.js'),
  filename: 'my-plugin.js',
  options: {
    // Опции для шаблона
  }
})
```

### this.addServerMiddleware(middleware)

Добавляет middleware на сервер:

```javascript
this.addServerMiddleware({
  path: '/api/custom',
  handler: '~/server-middleware/custom.js'
})
```

### this.extendBuild(fn)

Расширяет конфигурацию webpack:

```javascript
this.extendBuild((config, { isDev, isClient }) => {
  if (isDev && isClient) {
    config.devtool = 'eval-source-map'
  }
  
  config.module.rules.push({
    test: /\.svg$/,
    use: ['vue-svg-loader']
  })
})
```

### this.addTemplate(template)

Добавляет шаблон:

```javascript
this.addTemplate({
  src: path.resolve(__dirname, 'templates/config.js'),
  options,
  fileName: 'my-config.js'
})
```

### this.nuxt.hook(name, handler)

Регистрирует хук:

```javascript
this.nuxt.hook('build:done', () => {
  console.log('Сборка завершена')
})
```

## Популярные модули

### @nuxtjs/axios

Интеграция с библиотекой Axios для HTTP-запросов:

```javascript
// nuxt.config.js
export default {
  modules: [
    '@nuxtjs/axios'
  ],
  axios: {
    baseURL: 'https://api.example.com',
    // Настройки interceptors, proxy и т.д.
  }
}
```

Использование в компонентах:

```vue
<template>
  <div>{{ data }}</div>
</template>

<script>
export default {
  async asyncData({ $axios }) {
    const data = await $axios.$get('/posts')
    return { data }
  }
}
</script>
```

### @nuxtjs/pwa

Поддержка PWA (Progressive Web App):

```javascript
// nuxt.config.js
export default {
  modules: [
    '@nuxtjs/pwa'
  ],
  pwa: {
    manifest: {
      name: 'My App',
      short_name: 'My App',
      lang: 'ru'
    },
    workbox: {
      // Настройки Workbox
    }
  }
}
```

### @nuxtjs/auth

Система аутентификации:

```javascript
// nuxt.config.js
export default {
  modules: [
    '@nuxtjs/auth'
  ],
  auth: {
    strategies: {
      local: {
        endpoints: {
          login: { url: '/api/login', method: 'post' },
          logout: { url: '/api/logout', method: 'post' },
          user: { url: '/api/user', method: 'get' }
        }
      }
    }
  }
}
```

## Модули в Nuxt 3

В Nuxt 3 система модулей претерпела изменения:

```javascript
// modules/my-module.ts
import { defineNuxtModule, addPlugin, createResolver } from '@nuxt/kit'

export default defineNuxtModule({
  meta: {
    name: 'my-module',
    configKey: 'myModule'
  },
  defaults: {
    apiKey: ''
  },
  setup(options, nuxt) {
    const resolver = createResolver(import.meta.url)
    
    // Добавляем плагин
    addPlugin(resolver.resolve('./runtime/plugin'))
    
    // Расширяем шаблон
    nuxt.options.runtimeConfig.public.myModule = options
  }
})
```

## Практическое применение

### Модуль для отечественных сервисов

В российских условиях может потребоваться модуль для интеграции с отечественными сервисами:

```javascript
// modules/russian-services.js
export default function RussianServicesModule(moduleOptions) {
  // Интеграция с Яндекс.Метрика
  this.addPlugin({
    src: path.resolve(__dirname, 'templates/yandex-metrica.js'),
    mode: 'client'
  })

  // Интеграция с отечественным CDN
  this.options.build.publicPath = 'https://cdn.russian-cdn.ru'
}
```

### Модуль для работы с отечественными платежными системами

```javascript
// modules/payment-systems.js
export default function PaymentSystemsModule(moduleOptions) {
  // Добавляем библиотеку для работы с платежами
  this.addPlugin({
    src: path.resolve(__dirname, 'templates/payment-plugin.js'),
    filename: 'payment-plugin.js'
  })

  // Настройка для серверного middleware
  this.addServerMiddleware({
    path: '/api/payments',
    handler: '~/server-middleware/payments.js'
  })
}
```

## Состояние на 2025 год в России

В 2025 году российские разработчики активно используют модули Nuxt.js для интеграции с отечественными сервисами и платформами. В условиях санкций и ограничений на западные сервисы, создаются и используются модули для интеграции с отечественными альтернативами.

Многие российские компании разрабатывают собственные модули для интеграции с внутренними системами, отечественными CDN, платежными системами и аналитическими платформами.

> [!tip] Совет
> При создании модулей для российского рынка учитывайте требования законодательства, такие как хранение персональных данных на территории РФ.

## Связанные темы

- [[Что-такое-Nuxt]] - основы фреймворка
- [[Роутинг]] - маршрутизация в Nuxt.js
- [[Хуки]] - жизненный цикл и хуки
- [[Деплой]] - деплой приложений
- [[Vue.js]] - основы Vue.js
- [[Nuxt 3]] - особенности новой версии
- [[Plugins]] - плагины в Nuxt.js