---
aliases: ["Conditional Slots", "Условные слоты", "Слоты с условиями"]
tags: [vue, slots, frontend, javascript]
---

# Условные слоты

Условные слоты (conditional slots) в Vue.js позволяют отображать или скрывать слоты на основе определенных условий. Это особенно полезно при создании гибких компонентов, которые могут изменять свою структуру в зависимости от данных или состояния приложения.

## Основы условных слотов

Условные слоты реализуются с помощью директив `v-if`, `v-show`, `v-else` и `v-else-if` на элементах слотов:

```vue
<!-- ConditionalCard.vue -->
<template>
  <div class="card">
    <header v-if="$slots.header">
      <slot name="header"></slot>
    </header>
    
    <div v-if="showContent" class="content">
      <slot name="content"></slot>
    </div>
    
    <div v-else class="placeholder">
      Контент временно недоступен
    </div>
    
    <footer v-if="showFooter">
      <slot name="footer"></slot>
    </footer>
  </div>
</template>

<script>
export default {
  props: {
    showContent: {
      type: Boolean,
      default: true
    },
    showFooter: {
      type: Boolean,
      default: true
    }
  }
}
</script>
```

## Проверка наличия слотов

Для условного отображения слотов можно проверять, есть ли в родительском компоненте содержимое для конкретного слота:

```vue
<!-- ConditionalLayout.vue -->
<template>
  <div class="layout">
    <!-- Отображаем заголовок только если передан слот header -->
    <header v-if="hasHeaderSlot">
      <slot name="header"></slot>
    </header>
    
    <!-- Отображаем боковую панель только если передан слот sidebar -->
    <aside v-if="hasSidebarSlot" class="sidebar">
      <slot name="sidebar"></slot>
    </aside>
    
    <main class="main-content">
      <slot></slot>
    </main>
  </div>
</template>

<script>
export default {
  computed: {
    hasHeaderSlot() {
      return !!this.$slots.header;
    },
    hasSidebarSlot() {
      return !!this.$slots.sidebar;
    }
  }
}
</script>
```

## Практические примеры

### Карточка с условным отображением элементов

```vue
<!-- SmartCard.vue -->
<template>
  <div class="smart-card">
    <!-- Заголовок карточки -->
    <div v-if="showHeader" class="card-header">
      <slot name="header">
        <h2>{{ defaultTitle }}</h2>
      </slot>
    </div>
    
    <!-- Изображение карточки -->
    <div v-if="showImage && $slots.image" class="card-image">
      <slot name="image"></slot>
    </div>
    
    <!-- Основное содержимое -->
    <div class="card-body">
      <slot name="body">
        <p>{{ defaultBody }}</p>
      </slot>
    </div>
    
    <!-- Дополнительное содержимое -->
    <div v-if="showExtra && $slots.extra" class="card-extra">
      <slot name="extra"></slot>
    </div>
    
    <!-- Футер карточки -->
    <div v-if="showFooter" class="card-footer">
      <slot name="footer">
        <button @click="onAction">{{ actionText }}</button>
      </slot>
    </div>
  </div>
</template>

<script>
export default {
  props: {
    showHeader: {
      type: Boolean,
      default: true
    },
    showImage: {
      type: Boolean,
      default: true
    },
    showExtra: {
      type: Boolean,
      default: false
    },
    showFooter: {
      type: Boolean,
      default: true
    },
    defaultTitle: {
      type: String,
      default: 'Заголовок карточки'
    },
    defaultBody: {
      type: String,
      default: 'Содержимое карточки'
    },
    actionText: {
      type: String,
      default: 'Действие'
    }
  },
  methods: {
    onAction() {
      this.$emit('action');
    }
  }
}
</script>
```

### Условные слоты в таблицах данных

```vue
<!-- DataTable.vue -->
<template>
  <table class="data-table">
    <thead>
      <tr>
        <th v-for="column in columns" :key="column.key">
          {{ column.title }}
        </th>
      </tr>
    </thead>
    <tbody>
      <tr v-for="(row, index) in data" :key="index">
        <td v-for="column in columns" :key="column.key">
          <!-- Условное отображение слота для конкретной ячейки -->
          <slot 
            v-if="column.slot && $slots[column.slot]"
            :name="column.slot" 
            :row="row" 
            :column="column"
            :value="row[column.key]"
          ></slot>
          <!-- Резервное отображение -->
          <template v-else>
            {{ row[column.key] }}
          </template>
        </td>
      </tr>
    </tbody>
  </table>
</template>

<script>
export default {
  props: {
    data: {
      type: Array,
      default: () => []
    },
    columns: {
      type: Array,
      default: () => []
    }
  }
}
</script>
```

### Компонент с разными состояниями

```vue
<!-- StatefulComponent.vue -->
<template>
  <div class="stateful-component">
    <!-- Состояние загрузки -->
    <div v-if="loading" class="loading-state">
      <slot name="loading">
        <p>Загрузка...</p>
      </slot>
    </div>
    
    <!-- Состояние ошибки -->
    <div v-else-if="error" class="error-state">
      <slot name="error" :error="error">
        <p>Произошла ошибка: {{ error.message }}</p>
      </slot>
    </div>
    
    <!-- Состояние пустого результата -->
    <div v-else-if="isEmpty" class="empty-state">
      <slot name="empty">
        <p>Данные отсутствуют</p>
      </slot>
    </div>
    
    <!-- Основное состояние -->
    <div v-else class="main-state">
      <slot name="default-content">
        <slot></slot>
      </slot>
    </div>
  </div>
</template>

<script>
export default {
  props: {
    loading: {
      type: Boolean,
      default: false
    },
    error: {
      type: [Object, Boolean],
      default: null
    },
    data: {
      type: Array,
      default: () => []
    }
  },
  computed: {
    isEmpty() {
      return !this.loading && !this.error && this.data.length === 0;
    }
  }
}
</script>
```

## Рекомендации по использованию

- Используйте условные слоты для создания гибких компонентов с разными состояниями
- Проверяйте наличие слотов перед их отображением для избежания пустых областей
- Обеспечьте резервное содержимое для слотов, когда они не переданы
- Используйте понятные имена для условий отображения слотов
- Документируйте условия, при которых слоты отображаются или скрываются

## Совместимость с российскими реалиями 2025

В российской разработке в 2025 году условные слоты особенно популярны при создании:

- Компонентов для государственных информационных систем с разными уровнями доступа
- Адаптивных интерфейсов для банковских приложений
- Компонентов с различными состояниями (загрузка, ошибка, успех)
- Универсальных каркасов для корпоративных порталов

> [!tip] Совет
> Условные слоты позволяют создавать более адаптивные компоненты, которые могут менять свой внешний вид в зависимости от данных и состояния приложения.

## Связанные темы

- [[Именованные-слоты]]
- [[Слоты-по-умолчанию]]
- [[Слоты-с-параметрами]]
- [[Динамические-слоты]]
- [[Vue компоненты]]