---
aliases: [Создание реактивных ссылок, ref в Vue]
tags: [vue, реактивность, ref, javascript]
---

# Ref

`ref` - это одна из основных функций реактивности в Vue 3, которая позволяет создавать реактивные ссылки на значения. Она особенно полезна для создания реактивных примитивных значений (чисел, строк, булевых значений) и может использоваться как в Composition API, так и в шаблонах.

## Основное использование

```javascript
import { ref } from 'vue'

const count = ref(0)
console.log(count.value) // 0
count.value++
console.log(count.value) // 1
```

## Особенности ref

- `ref` оборачивает переданное значение в объект с свойством `value`
- При изменении `value` происходит автоматическое обновление связанных компонентов
- В шаблонах Vue автоматически разворачивает `ref` при доступе к нему, поэтому `{{ count }}` работает без `.value`

## Пример в компоненте

```vue
<template>
  <div>
    <p>Счетчик: {{ count }}</p>
    <button @click="increment">Увеличить</button>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const count = ref(0)

const increment = () => {
  count.value++
}
</script>
```

## Ref vs Reactive

- `ref` используется для примитивных значений и позволяет использовать их в шаблоне без `.value`
- `reactive` используется для объектов и не может содержать примитивные значения напрямую
- `ref` можно использовать в `reactive` и наоборот

## Практические рекомендации

- Используйте `ref` для реактивных примитивов
- Для объектов часто предпочтительнее `reactive`, но `ref` также допустим
- При работе с массивами используйте `ref` для ссылки на DOM-элементы или для хранения коллекций

## Связь с DOM

Особенно полезно использовать `ref` для получения ссылок на DOM-элементы:

```vue
<template>
  <div ref="containerRef">Контейнер</div>
</template>

<script setup>
import { ref, onMounted } from 'vue'

const containerRef = ref(null)

onMounted(() => {
  // Доступ к DOM-элементу
  console.log(containerRef.value)
})
</script>
```

## Важные замечания

> [!warning] Важно помнить
> При доступе к значению `ref` в JavaScript всегда используйте `.value`, но в шаблоне - без него.

> [!tip] Совет
> Используйте деструктуризацию с `toRefs` при передаче `ref` в другие функции, чтобы сохранить реактивность.

## См. также

- [[Reactive]]
- [[ToRefs]]
- [[IsRef]]
- [[Readonly]]