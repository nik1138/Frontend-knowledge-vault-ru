---
aliases: ["Угрозы", "Моделирование угроз", "Анализ угроз"]
tags: [security, threat-modeling, web-security]
---

# Моделирование угроз

## Введение

Моделирование угроз (threat modeling) — это процесс систематического анализа потенциальных угроз и уязвимостей в приложении или системе. Это важный этап в обеспечении безопасности веб-приложений, позволяющий выявить возможные точки атаки до реализации приложения.

## Основные понятия

Моделирование угроз включает в себя:
- Идентификацию активов (данных и систем), требующих защиты
- Определение потенциальных угроз
- Оценку уязвимостей
- Определение возможных атак
- Разработку мер защиты

## Методологии моделирования угроз

### STRIDE
Одна из самых популярных методологий, разработанная Microsoft:
- **Spoofing** (подмена) — подмена личности пользователя или системы
- **Tampering** (модификация) — несанкционированное изменение данных
- **Repudiation** (отказ) — невозможность доказательства действий
- **Information Disclosure** (раскрытие информации) — несанкционированный доступ к конфиденциальным данным
- **Denial of Service** (отказ в обслуживании) — нарушение доступности сервиса
- **Elevation of Privilege** (повышение привилегий) — получение большего уровня доступа

### PASTA
Process for Attack Simulation and Threat Analysis — методология, ориентированная на анализ атак:
- Определение цели
- Определение технической сферы
- Определение приоритетов угроз
- Анализ уязвимостей
- Анализ атак
- Анализ рисков
- Рекомендации по устранению

## Этапы моделирования угроз

1. **Создание диаграммы потоков данных**
   - Определение компонентов системы
   - Определение потоков данных между компонентами
   - Определение точек взаимодействия с внешними системами

2. **Идентификация угроз**
   - Использование методологий (STRIDE, PASTA)
   - Анализ компонентов на предмет потенциальных угроз
   - Классификация угроз по типам

3. **Оценка рисков**
   - Оценка вероятности реализации угрозы
   - Оценка потенциального ущерба
   - Приоритизация угроз

4. **Разработка мер защиты**
   - Определение мер защиты для каждой угрозы
   - Оценка эффективности мер
   - Учет ограничений и требований

5. **Документирование**
   - Создание отчета по моделированию угроз
   - Обновление документации по мере изменений системы

## Примеры угроз в веб-приложениях

### Угрозы аутентификации
- Подмена учетных данных
- Угон сессии
- Атаки перебора паролей

### Угрозы авторизации
- Повышение привилегий
- Обход контроля доступа
- Неправильная реализация ролевой модели

### Угрозы обработки данных
- Инъекции (SQL, XSS, Command)
- Неправильная валидация входных данных
- Утечка конфиденциальной информации

## Инструменты для моделирования угроз

- **Microsoft Threat Modeling Tool** — официальный инструмент от Microsoft
- **OWASP Threat Dragon** — open-source инструмент
- **PASTA Threat Modeling** — инструменты для методологии PASTA
- **LINDDUN** — методология для анализа конфиденциальности

## Лучшие практики

> [!tip] Лучшие практики моделирования угроз
> - Проводите моделирование угроз на ранних этапах разработки
> - Вовлекайте команду разработки и безопасности
> - Обновляйте модель при изменении архитектуры
> - Используйте автоматизированные инструменты для поддержания актуальности

## Связь с другими аспектами безопасности

Моделирование угроз тесно связано с:
- [[Распространенные-уязвимости]] — помогает идентифицировать конкретные уязвимости
- [[Принципы-безопасности]] — обеспечивает основу для реализации принципов
- [[Аудит-безопасности]] — предоставляет основу для проверки мер защиты
- [[Безопасность-в-веб-приложениях-для-детей]] — особенно важно для чувствительных приложений

## Заключение

Моделирование угроз — важный инструмент в арсенале разработчиков безопасных веб-приложений. Оно позволяет заранее выявить потенциальные проблемы и реализовать соответствующие меры защиты, тем самым снижая риски безопасности в продакшене.

## Дополнительные ресурсы

- OWASP Threat Modeling
- Microsoft Security Development Lifecycle
- NIST Cybersecurity Framework